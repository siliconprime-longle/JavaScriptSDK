!function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b(require("axios"),require("socket.io-client")):"function"==typeof define&&define.amd?define("cloudboost",["axios","socket.io-client"],b):"object"==typeof exports?exports.cloudboost=b(require("axios"),require("socket.io-client")):a.cloudboost=b(a.axios,a["socket.io-client"])}(this,function(a,b){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}var e=c(1),f=d(e);try{window&&("ReactNative"==navigator.product?(f.default._isNode=!0,f.default._isNative=!0):f.default._isNode=!1)}catch(g){f.default._isNode=!0}c(5),c(30),c(33),c(34),c(35),c(36),c(37),c(39),c(40),c(41),c(42),c(44),c(45),c(46),c(47),c(48);try{window.CB=f.default}catch(g){}a.exports=f.default},function(a,b,c){(function(a){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(3),h=d(g),i=function(){function b(){e(this,b),this._isNode=!1,this._isNative=!1,this.Socket=null,this.io=null,this.apiUrl="https://api.cloudboost.io",void 0!==a&&a.versions&&a.versions.node?this._isNode=!0:this._isNode=!1,this.Events={trigger:this.trigger.bind(this)}}return f(b,[{key:"_ajaxIE8",value:function(a,b,c){var d=new this.Promise,e=new XDomainRequest;return e.onload=function(){var a;try{a=JSON.parse(e.responseText)}catch(b){d.reject(b)}a&&d.resolve(a)},e.onerror=e.ontimeout=function(){var a={responseText:JSON.stringify({code:500,error:"IE's XDomainRequest does not supply error info."})};d.reject(a)},e.onprogress=function(){},e.open(a,b),e.send(c),d}},{key:"trigger",value:function(a){var b,c,d,e,f,g,h;if(!(d=this._callbacks))return this;for(g=d.all,a=a.split(eventSplitter),h=slice.call(arguments,1),b=a.shift();b;){if(c=d[b])for(e=c.tail;(c=c.next)!==e;)c.callback.apply(c.context||this,h);if(c=g)for(e=c.tail,f=[b].concat(h);(c=c.next)!==e;)c.callback.apply(c.context||this,f);b=a.shift()}return this}},{key:"Promise",value:function(){var a,b,c=new h.default(function(){a=arguments[0],b=arguments[1]});return{resolve:a,reject:b,promise:c}}}]),b}(),j=new i;Object.setPrototypeOf?Object.setPrototypeOf(j.Promise,h.default):j.Promise.prototype=h.default.prototype,b.default=j}).call(b,c(2))},function(a,b){function c(){throw new Error("setTimeout has not been defined")}function d(){throw new Error("clearTimeout has not been defined")}function e(a){if(k===setTimeout)return setTimeout(a,0);if((k===c||!k)&&setTimeout)return k=setTimeout,setTimeout(a,0);try{return k(a,0)}catch(b){try{return k.call(null,a,0)}catch(b){return k.call(this,a,0)}}}function f(a){if(l===clearTimeout)return clearTimeout(a);if((l===d||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(a);try{return l(a)}catch(b){try{return l.call(null,a)}catch(b){return l.call(this,a)}}}function g(){p&&n&&(p=!1,n.length?o=n.concat(o):q=-1,o.length&&h())}function h(){if(!p){var a=e(g);p=!0;for(var b=o.length;b;){for(n=o,o=[];++q<b;)n&&n[q].run();q=-1,b=o.length}n=null,p=!1,f(a)}}function i(a,b){this.fun=a,this.array=b}function j(){}var k,l,m=a.exports={};!function(){try{k="function"==typeof setTimeout?setTimeout:c}catch(a){k=c}try{l="function"==typeof clearTimeout?clearTimeout:d}catch(a){l=d}}();var n,o=[],p=!1,q=-1;m.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];o.push(new i(a,b)),1!==o.length||p||e(h)},i.prototype.run=function(){this.fun.apply(null,this.array)},m.title="browser",m.browser=!0,m.env={},m.argv=[],m.version="",m.versions={},m.on=j,m.addListener=j,m.once=j,m.off=j,m.removeListener=j,m.removeAllListeners=j,m.emit=j,m.binding=function(a){throw new Error("process.binding is not supported")},m.cwd=function(){return"/"},m.chdir=function(a){throw new Error("process.chdir is not supported")},m.umask=function(){return 0}},function(a,b,c){(function(b,c,d){!function(b){a.exports=b()}(function(){var a,e,f;return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof _dereq_&&_dereq_;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof _dereq_&&_dereq_,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";b.exports=function(a){function b(a){var b=new c(a),d=b.promise();return b.setHowMany(1),b.setUnwrap(),b.init(),d}var c=a._SomePromiseArray;a.any=function(a){return b(a)},a.prototype.any=function(){return b(this)}}},{}],2:[function(a,c,d){"use strict";function e(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new k(16),this._normalQueue=new k(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var a=this;this.drainQueues=function(){a._drainQueues()},this._schedule=j}function f(a,b,c){this._lateQueue.push(a,b,c),this._queueTick()}function g(a,b,c){this._normalQueue.push(a,b,c),this._queueTick()}function h(a){this._normalQueue._pushOne(a),this._queueTick()}var i;try{throw new Error}catch(m){i=m}var j=a("./schedule"),k=a("./queue"),l=a("./util");e.prototype.setScheduler=function(a){var b=this._schedule;return this._schedule=a,this._customScheduler=!0,b},e.prototype.hasCustomScheduler=function(){return this._customScheduler},e.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},e.prototype.disableTrampolineIfNecessary=function(){l.hasDevTools&&(this._trampolineEnabled=!1)},e.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},e.prototype.fatalError=function(a,c){c?(b.stderr.write("Fatal "+(a instanceof Error?a.stack:a)+"\n"),b.exit(2)):this.throwLater(a)},e.prototype.throwLater=function(a,b){if(1===arguments.length&&(b=a,a=function(){throw b}),"undefined"!=typeof setTimeout)setTimeout(function(){a(b)},0);else try{this._schedule(function(){a(b)})}catch(m){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},l.hasDevTools?(e.prototype.invokeLater=function(a,b,c){this._trampolineEnabled?f.call(this,a,b,c):this._schedule(function(){setTimeout(function(){a.call(b,c)},100)})},e.prototype.invoke=function(a,b,c){this._trampolineEnabled?g.call(this,a,b,c):this._schedule(function(){a.call(b,c)})},e.prototype.settlePromises=function(a){this._trampolineEnabled?h.call(this,a):this._schedule(function(){a._settlePromises()})}):(e.prototype.invokeLater=f,e.prototype.invoke=g,e.prototype.settlePromises=h),e.prototype._drainQueue=function(a){for(;a.length()>0;){var b=a.shift();if("function"==typeof b){var c=a.shift(),d=a.shift();b.call(c,d)}else b._settlePromises()}},e.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},e.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},e.prototype._reset=function(){this._isTickUsed=!1},c.exports=e,c.exports.firstLineError=i},{"./queue":26,"./schedule":29,"./util":36}],3:[function(a,b,c){"use strict";b.exports=function(a,b,c,d){var e=!1,f=function(a,b){this._reject(b)},g=function(a,b){b.promiseRejectionQueued=!0,b.bindingPromise._then(f,f,null,this,a)},h=function(a,b){0==(50397184&this._bitField)&&this._resolveCallback(b.target)},i=function(a,b){b.promiseRejectionQueued||this._reject(a)};a.prototype.bind=function(f){e||(e=!0,a.prototype._propagateFrom=d.propagateFromFunction(),a.prototype._boundValue=d.boundValueFunction());var j=c(f),k=new a(b);k._propagateFrom(this,1);var l=this._target();if(k._setBoundTo(j),j instanceof a){var m={promiseRejectionQueued:!1,promise:k,target:l,bindingPromise:j};l._then(b,g,void 0,k,m),j._then(h,i,void 0,k,m),k._setOnCancel(j)}else k._resolveCallback(l);return k},a.prototype._setBoundTo=function(a){void 0!==a?(this._bitField=2097152|this._bitField,this._boundTo=a):this._bitField=-2097153&this._bitField},a.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},a.bind=function(b,c){return a.resolve(c).bind(b)}}},{}],4:[function(a,b,c){"use strict";function d(){try{Promise===f&&(Promise=e)}catch(a){}return f}var e;"undefined"!=typeof Promise&&(e=Promise);var f=a("./promise")();f.noConflict=d,b.exports=f},{"./promise":22}],5:[function(a,b,c){"use strict";var d=Object.create;if(d){var e=d(null),f=d(null);e[" size"]=f[" size"]=0}b.exports=function(b){function c(a,c){var d;if(null!=a&&(d=a[c]),"function"!=typeof d){var e="Object "+h.classString(a)+" has no method '"+h.toString(c)+"'";throw new b.TypeError(e)}return d}function d(a){return c(a,this.pop()).apply(a,this)}function e(a){return a[this]}function f(a){var b=+this;return b<0&&(b=Math.max(0,b+a.length)),a[b]}var g,h=a("./util"),i=h.canEvaluate;h.isIdentifier;b.prototype.call=function(a){var b=[].slice.call(arguments,1);return b.push(a),this._then(d,void 0,void 0,b,void 0)},b.prototype.get=function(a){var b,c="number"==typeof a;if(c)b=f;else if(i){var d=g(a);b=null!==d?d:e}else b=e;return this._then(b,void 0,void 0,a,void 0)}}},{"./util":36}],6:[function(a,b,c){"use strict";b.exports=function(b,c,d,e){var f=a("./util"),g=f.tryCatch,h=f.errorObj,i=b._async;b.prototype.break=b.prototype.cancel=function(){if(!e.cancellation())return this._warn("cancellation is disabled");for(var a=this,b=a;a._isCancellable();){if(!a._cancelBy(b)){b._isFollowing()?b._followee().cancel():b._cancelBranched();break}var c=a._cancellationParent;if(null==c||!c._isCancellable()){a._isFollowing()?a._followee().cancel():a._cancelBranched();break}a._isFollowing()&&a._followee().cancel(),a._setWillBeCancelled(),b=a,a=c}},b.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},b.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},b.prototype._cancelBy=function(a){return a===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},b.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},b.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),i.invoke(this._cancelPromises,this,void 0))},b.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},b.prototype._unsetOnCancel=function(){this._onCancelField=void 0},b.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},b.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},b.prototype._doInvokeOnCancel=function(a,b){if(f.isArray(a))for(var c=0;c<a.length;++c)this._doInvokeOnCancel(a[c],b);else if(void 0!==a)if("function"==typeof a){if(!b){var d=g(a).call(this._boundValue());d===h&&(this._attachExtraTrace(d.e),i.throwLater(d.e))}}else a._resultCancelled(this)},b.prototype._invokeOnCancel=function(){var a=this._onCancel();this._unsetOnCancel(),i.invoke(this._doInvokeOnCancel,this,a)},b.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},b.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(a,b,c){"use strict";b.exports=function(b){function c(a,c,h){return function(i){var j=h._boundValue();a:for(var k=0;k<a.length;++k){var l=a[k];if(l===Error||null!=l&&l.prototype instanceof Error){if(i instanceof l)return f(c).call(j,i)}else if("function"==typeof l){var m=f(l).call(j,i);if(m===g)return m;if(m)return f(c).call(j,i)}else if(d.isObject(i)){for(var n=e(l),o=0;o<n.length;++o){var p=n[o];if(l[p]!=i[p])continue a}return f(c).call(j,i)}}return b}}var d=a("./util"),e=a("./es5").keys,f=d.tryCatch,g=d.errorObj;return c}},{"./es5":13,"./util":36}],8:[function(a,b,c){"use strict";b.exports=function(a){function b(){this._trace=new b.CapturedTrace(d())}function c(){if(e)return new b}function d(){var a=f.length-1;if(a>=0)return f[a]}var e=!1,f=[];return a.prototype._promiseCreated=function(){},a.prototype._pushContext=function(){},a.prototype._popContext=function(){return null},a._peekContext=a.prototype._peekContext=function(){},b.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,f.push(this._trace))},b.prototype._popContext=function(){if(void 0!==this._trace){var a=f.pop(),b=a._promiseCreated;return a._promiseCreated=null,b}return null},b.CapturedTrace=null,b.create=c,b.deactivateLongStackTraces=function(){},b.activateLongStackTraces=function(){var c=a.prototype._pushContext,f=a.prototype._popContext,g=a._peekContext,h=a.prototype._peekContext,i=a.prototype._promiseCreated;b.deactivateLongStackTraces=function(){a.prototype._pushContext=c,a.prototype._popContext=f,a._peekContext=g,a.prototype._peekContext=h,a.prototype._promiseCreated=i,e=!1},e=!0,a.prototype._pushContext=b.prototype._pushContext,a.prototype._popContext=b.prototype._popContext,a._peekContext=a.prototype._peekContext=d,a.prototype._promiseCreated=function(){var a=this._peekContext();a&&null==a._promiseCreated&&(a._promiseCreated=this)}},b}},{}],9:[function(a,c,d){"use strict";c.exports=function(c,d){function e(a,b){return{promise:b}}function f(){return!1}function g(a,b,c){var d=this;try{a(b,c,function(a){if("function"!=typeof a)throw new TypeError("onCancel must be a function, got: "+N.toString(a));d._attachCancellationCallback(a)})}catch(e){return e}}function h(a){if(!this._isCancellable())return this;var b=this._onCancel();void 0!==b?N.isArray(b)?b.push(a):this._setOnCancel([b,a]):this._setOnCancel(a)}function i(){return this._onCancelField}function j(a){this._onCancelField=a}function k(){this._cancellationParent=void 0,this._onCancelField=void 0}function l(a,b){if(0!=(1&b)){this._cancellationParent=a;var c=a._branchesRemainingToCancel;void 0===c&&(c=0),a._branchesRemainingToCancel=c+1}0!=(2&b)&&a._isBound()&&this._setBoundTo(a._boundTo)}function m(a,b){0!=(2&b)&&a._isBound()&&this._setBoundTo(a._boundTo)}function n(){var a=this._boundTo;return void 0!==a&&a instanceof c?a.isFulfilled()?a.value():void 0:a}function o(){this._trace=new G(this._peekContext())}function p(a,b){if(O(a)){var c=this._trace;if(void 0!==c&&b&&(c=c._parent),void 0!==c)c.attachExtraTrace(a);else if(!a.__stackCleaned__){var d=y(a);N.notEnumerableProp(a,"stack",d.message+"\n"+d.stack.join("\n")),N.notEnumerableProp(a,"__stackCleaned__",!0)}}}function q(a,b,c,d,e){if(void 0===a&&null!==b&&Y){if(void 0!==e&&e._returnedNonUndefined())return;if(0==(65535&d._bitField))return;c&&(c+=" ");var f="",g="";if(b._trace){for(var h=b._trace.stack.split("\n"),i=w(h),j=i.length-1;j>=0;--j){var k=i[j];if(!Q.test(k)){var l=k.match(R);l&&(f="at "+l[1]+":"+l[2]+":"+l[3]+" ");break}}if(i.length>0)for(var m=i[0],j=0;j<h.length;++j)if(h[j]===m){j>0&&(g="\n"+h[j-1]);break}}var n="a promise was created in a "+c+"handler "+f+"but was not returned from it, see http://goo.gl/rRqMUw"+g;d._warn(n,!0,b)}}function r(a,b){var c=a+" is deprecated and will be removed in a future version.";return b&&(c+=" Use "+b+" instead."),s(c)}function s(a,b,d){if(ga.warnings){var e,f=new M(a);if(b)d._attachExtraTrace(f);else if(ga.longStackTraces&&(e=c._peekContext()))e.attachExtraTrace(f);else{var g=y(f);f.stack=g.message+"\n"+g.stack.join("\n")}ba("warning",f)||z(f,"",!0)}}function t(a,b){for(var c=0;c<b.length-1;++c)b[c].push("From previous event:"),b[c]=b[c].join("\n");return c<b.length&&(b[c]=b[c].join("\n")),a+"\n"+b.join("\n")}function u(a){for(var b=0;b<a.length;++b)(0===a[b].length||b+1<a.length&&a[b][0]===a[b+1][0])&&(a.splice(b,1),b--)}function v(a){for(var b=a[0],c=1;c<a.length;++c){for(var d=a[c],e=b.length-1,f=b[e],g=-1,h=d.length-1;h>=0;--h)if(d[h]===f){g=h;break}for(var h=g;h>=0;--h){var i=d[h];if(b[e]!==i)break;b.pop(),e--}b=d}}function w(a){for(var b=[],c=0;c<a.length;++c){var d=a[c],e="    (No stack trace)"===d||S.test(d),f=e&&da(d);e&&!f&&(U&&" "!==d.charAt(0)&&(d="    "+d),b.push(d))}return b}function x(a){for(var b=a.stack.replace(/\s+$/g,"").split("\n"),c=0;c<b.length;++c){var d=b[c];if("    (No stack trace)"===d||S.test(d))break}return c>0&&"SyntaxError"!=a.name&&(b=b.slice(c)),b}function y(a){var b=a.stack,c=a.toString();return b="string"==typeof b&&b.length>0?x(a):["    (No stack trace)"],{message:c,stack:"SyntaxError"==a.name?b:w(b)}}function z(a,b,c){if("undefined"!=typeof console){var d;if(N.isObject(a)){var e=a.stack;d=b+T(e,a)}else d=b+String(a);"function"==typeof J?J(d,c):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(d)}}function A(a,b,c,d){var e=!1;try{"function"==typeof b&&(e=!0,"rejectionHandled"===a?b(d):b(c,d))}catch(f){L.throwLater(f)}"unhandledRejection"===a?ba(a,c,d)||e||z(c,"Unhandled rejection "):ba(a,d)}function B(a){var b;if("function"==typeof a)b="[function "+(a.name||"anonymous")+"]";else{b=a&&"function"==typeof a.toString?a.toString():N.toString(a);if(/\[object [a-zA-Z0-9$_]+\]/.test(b))try{b=JSON.stringify(a)}catch(c){}0===b.length&&(b="(empty array)")}return"(<"+C(b)+">, no stack trace)"}function C(a){var b=41;return a.length<b?a:a.substr(0,b-3)+"..."}function D(){return"function"==typeof fa}function E(a){var b=a.match(ea);if(b)return{fileName:b[1],line:parseInt(b[2],10)}}function F(a,b){if(D()){for(var c,d,e=a.stack.split("\n"),f=b.stack.split("\n"),g=-1,h=-1,i=0;i<e.length;++i){var j=E(e[i]);if(j){c=j.fileName,g=j.line;break}}for(var i=0;i<f.length;++i){var j=E(f[i]);if(j){d=j.fileName,h=j.line;break}}g<0||h<0||!c||!d||c!==d||g>=h||(da=function(a){if(P.test(a))return!0;var b=E(a);return!!(b&&b.fileName===c&&g<=b.line&&b.line<=h)})}}function G(a){this._parent=a,this._promisesCreated=0;var b=this._length=1+(void 0===a?0:a._length);fa(this,G),b>32&&this.uncycle()}var H,I,J,K=c._getDomain,L=c._async,M=a("./errors").Warning,N=a("./util"),O=N.canAttachTrace,P=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,Q=/\((?:timers\.js):\d+:\d+\)/,R=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,S=null,T=null,U=!1,V=!(0==N.env("BLUEBIRD_DEBUG")),W=!(0==N.env("BLUEBIRD_WARNINGS")||!V&&!N.env("BLUEBIRD_WARNINGS")),X=!(0==N.env("BLUEBIRD_LONG_STACK_TRACES")||!V&&!N.env("BLUEBIRD_LONG_STACK_TRACES")),Y=0!=N.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(W||!!N.env("BLUEBIRD_W_FORGOTTEN_RETURN"));c.prototype.suppressUnhandledRejections=function(){var a=this._target();a._bitField=-1048577&a._bitField|524288},c.prototype._ensurePossibleRejectionHandled=function(){0==(524288&this._bitField)&&(this._setRejectionIsUnhandled(),L.invokeLater(this._notifyUnhandledRejection,this,void 0))},c.prototype._notifyUnhandledRejectionIsHandled=function(){A("rejectionHandled",H,void 0,this)},c.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},c.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},c.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var a=this._settledValue();this._setUnhandledRejectionIsNotified(),A("unhandledRejection",I,a,this)}},c.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},c.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},c.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},c.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},c.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},c.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},c.prototype._warn=function(a,b,c){return s(a,b,c||this)},c.onPossiblyUnhandledRejection=function(a){var b=K();I="function"==typeof a?null===b?a:N.domainBind(b,a):void 0},c.onUnhandledRejectionHandled=function(a){var b=K();H="function"==typeof a?null===b?a:N.domainBind(b,a):void 0};var Z=function(){};c.longStackTraces=function(){if(L.haveItemsQueued()&&!ga.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!ga.longStackTraces&&D()){var a=c.prototype._captureStackTrace,b=c.prototype._attachExtraTrace;ga.longStackTraces=!0,Z=function(){if(L.haveItemsQueued()&&!ga.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");c.prototype._captureStackTrace=a,c.prototype._attachExtraTrace=b,d.deactivateLongStackTraces(),L.enableTrampoline(),ga.longStackTraces=!1},c.prototype._captureStackTrace=o,c.prototype._attachExtraTrace=p,d.activateLongStackTraces(),L.disableTrampolineIfNecessary()}},c.hasLongStackTraces=function(){return ga.longStackTraces&&D()};var $=function(){try{if("function"==typeof CustomEvent){var a=new CustomEvent("CustomEvent");return N.global.dispatchEvent(a),function(a,b){var c=new CustomEvent(a.toLowerCase(),{detail:b,cancelable:!0});return!N.global.dispatchEvent(c)}}if("function"==typeof Event){var a=new Event("CustomEvent");return N.global.dispatchEvent(a),function(a,b){var c=new Event(a.toLowerCase(),{cancelable:!0});return c.detail=b,!N.global.dispatchEvent(c)}}var a=document.createEvent("CustomEvent");return a.initCustomEvent("testingtheevent",!1,!0,{}),N.global.dispatchEvent(a),function(a,b){var c=document.createEvent("CustomEvent");return c.initCustomEvent(a.toLowerCase(),!1,!0,b),!N.global.dispatchEvent(c)}}catch(b){}return function(){return!1}}(),_=function(){return N.isNode?function(){return b.emit.apply(b,arguments)}:N.global?function(a){var b="on"+a.toLowerCase(),c=N.global[b];return!!c&&(c.apply(N.global,[].slice.call(arguments,1)),!0)}:function(){return!1}}(),aa={promiseCreated:e,promiseFulfilled:e,promiseRejected:e,promiseResolved:e,promiseCancelled:e,promiseChained:function(a,b,c){return{promise:b,child:c}},warning:function(a,b){return{warning:b}},unhandledRejection:function(a,b,c){return{reason:b,promise:c}},rejectionHandled:e},ba=function(a){var b=!1;try{b=_.apply(null,arguments)}catch(d){L.throwLater(d),b=!0}var c=!1;try{c=$(a,aa[a].apply(null,arguments))}catch(d){L.throwLater(d),c=!0}return c||b};c.config=function(a){if(a=Object(a),"longStackTraces"in a&&(a.longStackTraces?c.longStackTraces():!a.longStackTraces&&c.hasLongStackTraces()&&Z()),"warnings"in a){var b=a.warnings;ga.warnings=!!b,Y=ga.warnings,N.isObject(b)&&"wForgottenReturn"in b&&(Y=!!b.wForgottenReturn)}if("cancellation"in a&&a.cancellation&&!ga.cancellation){if(L.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");c.prototype._clearCancellationData=k,c.prototype._propagateFrom=l,c.prototype._onCancel=i,c.prototype._setOnCancel=j,c.prototype._attachCancellationCallback=h,c.prototype._execute=g,ca=l,ga.cancellation=!0}return"monitoring"in a&&(a.monitoring&&!ga.monitoring?(ga.monitoring=!0,c.prototype._fireEvent=ba):!a.monitoring&&ga.monitoring&&(ga.monitoring=!1,c.prototype._fireEvent=f)),c},c.prototype._fireEvent=f,c.prototype._execute=function(a,b,c){try{a(b,c)}catch(d){return d}},c.prototype._onCancel=function(){},c.prototype._setOnCancel=function(a){},c.prototype._attachCancellationCallback=function(a){},c.prototype._captureStackTrace=function(){},c.prototype._attachExtraTrace=function(){},c.prototype._clearCancellationData=function(){},c.prototype._propagateFrom=function(a,b){};var ca=m,da=function(){return!1},ea=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;N.inherits(G,Error),d.CapturedTrace=G,G.prototype.uncycle=function(){var a=this._length;if(!(a<2)){for(var b=[],c={},d=0,e=this;void 0!==e;++d)b.push(e),e=e._parent;a=this._length=d;for(var d=a-1;d>=0;--d){var f=b[d].stack;void 0===c[f]&&(c[f]=d)}for(var d=0;d<a;++d){var g=b[d].stack,h=c[g];if(void 0!==h&&h!==d){h>0&&(b[h-1]._parent=void 0,b[h-1]._length=1),b[d]._parent=void 0,b[d]._length=1;var i=d>0?b[d-1]:this;h<a-1?(i._parent=b[h+1],i._parent.uncycle(),i._length=i._parent._length+1):(i._parent=void 0,i._length=1);for(var j=i._length+1,k=d-2;k>=0;--k)b[k]._length=j,j++;return}}}},G.prototype.attachExtraTrace=function(a){if(!a.__stackCleaned__){this.uncycle();for(var b=y(a),c=b.message,d=[b.stack],e=this;void 0!==e;)d.push(w(e.stack.split("\n"))),e=e._parent;v(d),u(d),N.notEnumerableProp(a,"stack",t(c,d)),N.notEnumerableProp(a,"__stackCleaned__",!0)}};var fa=function(){var a=/^\s*at\s*/,b=function(a,b){return"string"==typeof a?a:void 0!==b.name&&void 0!==b.message?b.toString():B(b)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,S=a,T=b;var c=Error.captureStackTrace;return da=function(a){return P.test(a)},function(a,b){Error.stackTraceLimit+=6,c(a,b),Error.stackTraceLimit-=6}}var d=new Error;if("string"==typeof d.stack&&d.stack.split("\n")[0].indexOf("stackDetection@")>=0)return S=/@/,T=b,U=!0,function(a){a.stack=(new Error).stack};var e;try{throw new Error}catch(f){e="stack"in f}return"stack"in d||!e||"number"!=typeof Error.stackTraceLimit?(T=function(a,b){return"string"==typeof a?a:"object"!=typeof b&&"function"!=typeof b||void 0===b.name||void 0===b.message?B(b):b.toString()},null):(S=a,T=b,function(a){Error.stackTraceLimit+=6;try{throw new Error}catch(f){a.stack=f.stack}Error.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(J=function(a){console.warn(a)},N.isNode&&b.stderr.isTTY?J=function(a,b){var c=b?"[33m":"[31m";console.warn(c+a+"[0m\n")}:N.isNode||"string"!=typeof(new Error).stack||(J=function(a,b){console.warn("%c"+a,b?"color: darkorange":"color: red")}));var ga={warnings:W,longStackTraces:!1,cancellation:!1,monitoring:!1};return X&&c.longStackTraces(),{longStackTraces:function(){return ga.longStackTraces},warnings:function(){return ga.warnings},cancellation:function(){return ga.cancellation},monitoring:function(){return ga.monitoring},propagateFromFunction:function(){return ca},boundValueFunction:function(){return n},checkForgottenReturns:q,setBounds:F,warn:s,deprecated:r,CapturedTrace:G,fireDomEvent:$,fireGlobalEvent:_}}},{"./errors":12,"./util":36}],10:[function(a,b,c){"use strict";b.exports=function(a){function b(){return this.value}function c(){throw this.reason}a.prototype.return=a.prototype.thenReturn=function(c){return c instanceof a&&c.suppressUnhandledRejections(),this._then(b,void 0,void 0,{value:c},void 0)},a.prototype.throw=a.prototype.thenThrow=function(a){return this._then(c,void 0,void 0,{reason:a},void 0)},a.prototype.catchThrow=function(a){if(arguments.length<=1)return this._then(void 0,c,void 0,{reason:a},void 0);var b=arguments[1],d=function(){throw b};return this.caught(a,d)},a.prototype.catchReturn=function(c){if(arguments.length<=1)return c instanceof a&&c.suppressUnhandledRejections(),this._then(void 0,b,void 0,{value:c},void 0);var d=arguments[1];d instanceof a&&d.suppressUnhandledRejections();var e=function(){return d};return this.caught(c,e)}}},{}],11:[function(a,b,c){"use strict";b.exports=function(a,b){function c(){return f(this)}function d(a,c){return e(a,c,b,b)}var e=a.reduce,f=a.all;a.prototype.each=function(a){return e(this,a,b,0)._then(c,void 0,void 0,this,void 0)},a.prototype.mapSeries=function(a){return e(this,a,b,b)},a.each=function(a,d){return e(a,d,b,0)._then(c,void 0,void 0,a,void 0)},a.mapSeries=d}},{}],12:[function(a,b,c){"use strict";function d(a,b){function c(d){if(!(this instanceof c))return new c(d);l(this,"message","string"==typeof d?d:b),l(this,"name",a),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return k(c,Error),c}function e(a){if(!(this instanceof e))return new e(a);l(this,"name","OperationalError"),l(this,"message",a),this.cause=a,this.isOperational=!0,a instanceof Error?(l(this,"message",a.message),l(this,"stack",a.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}var f,g,h=a("./es5"),i=h.freeze,j=a("./util"),k=j.inherits,l=j.notEnumerableProp,m=d("Warning","warning"),n=d("CancellationError","cancellation error"),o=d("TimeoutError","timeout error"),p=d("AggregateError","aggregate error");try{f=TypeError,g=RangeError}catch(u){f=d("TypeError","type error"),g=d("RangeError","range error")}for(var q="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),r=0;r<q.length;++r)"function"==typeof Array.prototype[q[r]]&&(p.prototype[q[r]]=Array.prototype[q[r]]);h.defineProperty(p.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),p.prototype.isOperational=!0;var s=0;p.prototype.toString=function(){var a=Array(4*s+1).join(" "),b="\n"+a+"AggregateError of:\n";s++,a=Array(4*s+1).join(" ");for(var c=0;c<this.length;++c){for(var d=this[c]===this?"[Circular AggregateError]":this[c]+"",e=d.split("\n"),f=0;f<e.length;++f)e[f]=a+e[f];d=e.join("\n"),b+=d+"\n"}return s--,b},k(e,Error);var t=Error.__BluebirdErrorTypes__;t||(t=i({CancellationError:n,TimeoutError:o,OperationalError:e,RejectionError:e,AggregateError:p}),h.defineProperty(Error,"__BluebirdErrorTypes__",{value:t,writable:!1,enumerable:!1,configurable:!1})),b.exports={Error:Error,TypeError:f,RangeError:g,CancellationError:t.CancellationError,OperationalError:t.OperationalError,TimeoutError:t.TimeoutError,AggregateError:t.AggregateError,Warning:m}},{"./es5":13,"./util":36}],13:[function(a,b,c){var d=function(){"use strict";return void 0===this}();if(d)b.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:d,propertyIsWritable:function(a,b){var c=Object.getOwnPropertyDescriptor(a,b);return!(c&&!c.writable&&!c.set)}};else{var e={}.hasOwnProperty,f={}.toString,g={}.constructor.prototype,h=function(a){var b=[];for(var c in a)e.call(a,c)&&b.push(c);return b},i=function(a,b){return{value:a[b]}},j=function(a,b,c){return a[b]=c.value,a},k=function(a){return a},l=function(a){try{return Object(a).constructor.prototype}catch(b){return g}},m=function(a){try{return"[object Array]"===f.call(a)}catch(b){return!1}};b.exports={isArray:m,keys:h,names:h,defineProperty:j,getDescriptor:i,freeze:k,getPrototypeOf:l,isES5:d,propertyIsWritable:function(){return!0}}}},{}],14:[function(a,b,c){"use strict";b.exports=function(a,b){var c=a.map;a.prototype.filter=function(a,d){return c(this,a,d,b)},a.filter=function(a,d,e){return c(a,d,e,b)}}},{}],15:[function(a,b,c){"use strict";b.exports=function(b,c){function d(a,b,c){this.promise=a,this.type=b,this.handler=c,this.called=!1,this.cancelPromise=null}function e(a){this.finallyHandler=a}function f(a,b){return null!=a.cancelPromise&&(arguments.length>1?a.cancelPromise._reject(b):a.cancelPromise._cancel(),a.cancelPromise=null,!0)}function g(){return i.call(this,this.promise._target()._settledValue())}function h(a){if(!f(this,a))return l.e=a,l}function i(a){var d=this.promise,i=this.handler;if(!this.called){this.called=!0;var j=this.isFinallyHandler()?i.call(d._boundValue()):i.call(d._boundValue(),a);if(void 0!==j){d._setReturnedNonUndefined();var m=c(j,d);if(m instanceof b){if(null!=this.cancelPromise){if(m._isCancelled()){var n=new k("late cancellation observer");return d._attachExtraTrace(n),l.e=n,l}m.isPending()&&m._attachCancellationCallback(new e(this))}return m._then(g,h,void 0,this,void 0)}}}return d.isRejected()?(f(this),l.e=a,l):(f(this),a)}var j=a("./util"),k=b.CancellationError,l=j.errorObj
;return d.prototype.isFinallyHandler=function(){return 0===this.type},e.prototype._resultCancelled=function(){f(this.finallyHandler)},b.prototype._passThrough=function(a,b,c,e){return"function"!=typeof a?this.then():this._then(c,e,void 0,new d(this,b,a),void 0)},b.prototype.lastly=b.prototype.finally=function(a){return this._passThrough(a,0,i,i)},b.prototype.tap=function(a){return this._passThrough(a,1,i)},d}},{"./util":36}],16:[function(a,b,c){"use strict";b.exports=function(b,c,d,e,f,g){function h(a,c,d){for(var f=0;f<c.length;++f){d._pushContext();var g=n(c[f])(a);if(d._popContext(),g===m){d._pushContext();var h=b.reject(m.e);return d._popContext(),h}var i=e(g,d);if(i instanceof b)return i}return null}function i(a,c,e,f){if(g.cancellation()){var h=new b(d),i=this._finallyPromise=new b(d);this._promise=h.lastly(function(){return i}),h._captureStackTrace(),h._setOnCancel(this)}else{(this._promise=new b(d))._captureStackTrace()}this._stack=f,this._generatorFunction=a,this._receiver=c,this._generator=void 0,this._yieldHandlers="function"==typeof e?[e].concat(o):o,this._yieldedPromise=null,this._cancellationPhase=!1}var j=a("./errors"),k=j.TypeError,l=a("./util"),m=l.errorObj,n=l.tryCatch,o=[];l.inherits(i,f),i.prototype._isResolved=function(){return null===this._promise},i.prototype._cleanup=function(){this._promise=this._generator=null,g.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},i.prototype._promiseCancelled=function(){if(!this._isResolved()){var a,c=void 0!==this._generator.return;if(c)this._promise._pushContext(),a=n(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var d=new b.CancellationError("generator .return() sentinel");b.coroutine.returnSentinel=d,this._promise._attachExtraTrace(d),this._promise._pushContext(),a=n(this._generator.throw).call(this._generator,d),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(a)}},i.prototype._promiseFulfilled=function(a){this._yieldedPromise=null,this._promise._pushContext();var b=n(this._generator.next).call(this._generator,a);this._promise._popContext(),this._continue(b)},i.prototype._promiseRejected=function(a){this._yieldedPromise=null,this._promise._attachExtraTrace(a),this._promise._pushContext();var b=n(this._generator.throw).call(this._generator,a);this._promise._popContext(),this._continue(b)},i.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof b){var a=this._yieldedPromise;this._yieldedPromise=null,a.cancel()}},i.prototype.promise=function(){return this._promise},i.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},i.prototype._continue=function(a){var c=this._promise;if(a===m)return this._cleanup(),this._cancellationPhase?c.cancel():c._rejectCallback(a.e,!1);var d=a.value;if(!0===a.done)return this._cleanup(),this._cancellationPhase?c.cancel():c._resolveCallback(d);var f=e(d,this._promise);if(!(f instanceof b)&&null===(f=h(f,this._yieldHandlers,this._promise)))return void this._promiseRejected(new k("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",d)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));f=f._target();var g=f._bitField;0==(50397184&g)?(this._yieldedPromise=f,f._proxy(this,null)):0!=(33554432&g)?b._async.invoke(this._promiseFulfilled,this,f._value()):0!=(16777216&g)?b._async.invoke(this._promiseRejected,this,f._reason()):this._promiseCancelled()},b.coroutine=function(a,b){if("function"!=typeof a)throw new k("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var c=Object(b).yieldHandler,d=i,e=(new Error).stack;return function(){var b=a.apply(this,arguments),f=new d(void 0,void 0,c,e),g=f.promise();return f._generator=b,f._promiseFulfilled(void 0),g}},b.coroutine.addYieldHandler=function(a){if("function"!=typeof a)throw new k("expecting a function but got "+l.classString(a));o.push(a)},b.spawn=function(a){if(g.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof a)return c("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var d=new i(a,this),e=d.promise();return d._run(b.spawn),e}}},{"./errors":12,"./util":36}],17:[function(a,b,c){"use strict";b.exports=function(b,c,d,e,f,g){var h=a("./util");h.canEvaluate,h.tryCatch,h.errorObj;b.join=function(){var a,b=arguments.length-1;if(b>0&&"function"==typeof arguments[b]){a=arguments[b];var d}var e=[].slice.call(arguments);a&&e.pop();var d=new c(e).promise();return void 0!==a?d.spread(a):d}}},{"./util":36}],18:[function(a,b,c){"use strict";b.exports=function(b,c,d,e,f,g){function h(a,b,c,d){this.constructor$(a),this._promise._captureStackTrace();var e=j();this._callback=null===e?b:k.domainBind(e,b),this._preservedValues=d===f?new Array(this.length()):null,this._limit=c,this._inFlight=0,this._queue=[],n.invoke(this._asyncInit,this,void 0)}function i(a,c,e,f){if("function"!=typeof c)return d("expecting a function but got "+k.classString(c));var g=0;if(void 0!==e){if("object"!=typeof e||null===e)return b.reject(new TypeError("options argument must be an object but it is "+k.classString(e)));if("number"!=typeof e.concurrency)return b.reject(new TypeError("'concurrency' must be a number but it is "+k.classString(e.concurrency)));g=e.concurrency}return g="number"==typeof g&&isFinite(g)&&g>=1?g:0,new h(a,c,g,f).promise()}var j=b._getDomain,k=a("./util"),l=k.tryCatch,m=k.errorObj,n=b._async;k.inherits(h,c),h.prototype._asyncInit=function(){this._init$(void 0,-2)},h.prototype._init=function(){},h.prototype._promiseFulfilled=function(a,c){var d=this._values,f=this.length(),h=this._preservedValues,i=this._limit;if(c<0){if(c=-1*c-1,d[c]=a,i>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(i>=1&&this._inFlight>=i)return d[c]=a,this._queue.push(c),!1;null!==h&&(h[c]=a);var j=this._promise,k=this._callback,n=j._boundValue();j._pushContext();var o=l(k).call(n,a,c,f),p=j._popContext();if(g.checkForgottenReturns(o,p,null!==h?"Promise.filter":"Promise.map",j),o===m)return this._reject(o.e),!0;var q=e(o,this._promise);if(q instanceof b){q=q._target();var r=q._bitField;if(0==(50397184&r))return i>=1&&this._inFlight++,d[c]=q,q._proxy(this,-1*(c+1)),!1;if(0==(33554432&r))return 0!=(16777216&r)?(this._reject(q._reason()),!0):(this._cancel(),!0);o=q._value()}d[c]=o}return++this._totalResolved>=f&&(null!==h?this._filter(d,h):this._resolve(d),!0)},h.prototype._drainQueue=function(){for(var a=this._queue,b=this._limit,c=this._values;a.length>0&&this._inFlight<b;){if(this._isResolved())return;var d=a.pop();this._promiseFulfilled(c[d],d)}},h.prototype._filter=function(a,b){for(var c=b.length,d=new Array(c),e=0,f=0;f<c;++f)a[f]&&(d[e++]=b[f]);d.length=e,this._resolve(d)},h.prototype.preservedValues=function(){return this._preservedValues},b.prototype.map=function(a,b){return i(this,a,b,null)},b.map=function(a,b,c,d){return i(a,b,c,d)}}},{"./util":36}],19:[function(a,b,c){"use strict";b.exports=function(b,c,d,e,f){var g=a("./util"),h=g.tryCatch;b.method=function(a){if("function"!=typeof a)throw new b.TypeError("expecting a function but got "+g.classString(a));return function(){var d=new b(c);d._captureStackTrace(),d._pushContext();var e=h(a).apply(this,arguments),g=d._popContext();return f.checkForgottenReturns(e,g,"Promise.method",d),d._resolveFromSyncValue(e),d}},b.attempt=b.try=function(a){if("function"!=typeof a)return e("expecting a function but got "+g.classString(a));var d=new b(c);d._captureStackTrace(),d._pushContext();var i;if(arguments.length>1){f.deprecated("calling Promise.try with more than 1 argument");var j=arguments[1],k=arguments[2];i=g.isArray(j)?h(a).apply(k,j):h(a).call(k,j)}else i=h(a)();var l=d._popContext();return f.checkForgottenReturns(i,l,"Promise.try",d),d._resolveFromSyncValue(i),d},b.prototype._resolveFromSyncValue=function(a){a===g.errorObj?this._rejectCallback(a.e,!1):this._resolveCallback(a,!0)}}},{"./util":36}],20:[function(a,b,c){"use strict";function d(a){return a instanceof Error&&k.getPrototypeOf(a)===Error.prototype}function e(a){var b;if(d(a)){b=new j(a),b.name=a.name,b.message=a.message,b.stack=a.stack;for(var c=k.keys(a),e=0;e<c.length;++e){var f=c[e];l.test(f)||(b[f]=a[f])}return b}return g.markAsOriginatingFromRejection(a),a}function f(a,b){return function(c,d){if(null!==a){if(c){var f=e(h(c));a._attachExtraTrace(f),a._reject(f)}else if(b){var g=[].slice.call(arguments,1);a._fulfill(g)}else a._fulfill(d);a=null}}}var g=a("./util"),h=g.maybeWrapAsError,i=a("./errors"),j=i.OperationalError,k=a("./es5"),l=/^(?:name|message|stack|cause)$/;b.exports=f},{"./errors":12,"./es5":13,"./util":36}],21:[function(a,b,c){"use strict";b.exports=function(b){function c(a,b){var c=this;if(!f.isArray(a))return d.call(c,a,b);var e=h(b).apply(c._boundValue(),[null].concat(a));e===i&&g.throwLater(e.e)}function d(a,b){var c=this,d=c._boundValue(),e=void 0===a?h(b).call(d,null):h(b).call(d,null,a);e===i&&g.throwLater(e.e)}function e(a,b){var c=this;if(!a){var d=new Error(a+"");d.cause=a,a=d}var e=h(b).call(c._boundValue(),a);e===i&&g.throwLater(e.e)}var f=a("./util"),g=b._async,h=f.tryCatch,i=f.errorObj;b.prototype.asCallback=b.prototype.nodeify=function(a,b){if("function"==typeof a){var f=d;void 0!==b&&Object(b).spread&&(f=c),this._then(f,e,void 0,this,a)}return this}}},{"./util":36}],22:[function(a,c,d){"use strict";c.exports=function(){function d(){}function e(a,b){if("function"!=typeof b)throw new t("expecting a function but got "+o.classString(b));if(a.constructor!==f)throw new t("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n")}function f(a){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,a!==v&&(e(this,a),this._resolveFromExecutor(a)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function g(a){this.promise._resolveCallback(a)}function h(a){this.promise._rejectCallback(a,!1)}function i(a){var b=new f(v);b._fulfillmentHandler0=a,b._rejectionHandler0=a,b._promise0=a,b._receiver0=a}var j,k=function(){return new t("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},l=function(){return new f.PromiseInspection(this._target())},m=function(a){return f.reject(new t(a))},n={},o=a("./util");j=o.isNode?function(){var a=b.domain;return void 0===a&&(a=null),a}:function(){return null},o.notEnumerableProp(f,"_getDomain",j);var p=a("./es5"),q=a("./async"),r=new q;p.defineProperty(f,"_async",{value:r});var s=a("./errors"),t=f.TypeError=s.TypeError;f.RangeError=s.RangeError;var u=f.CancellationError=s.CancellationError;f.TimeoutError=s.TimeoutError,f.OperationalError=s.OperationalError,f.RejectionError=s.OperationalError,f.AggregateError=s.AggregateError;var v=function(){},w={},x={},y=a("./thenables")(f,v),z=a("./promise_array")(f,v,y,m,d),A=a("./context")(f),B=A.create,C=a("./debuggability")(f,A),D=(C.CapturedTrace,a("./finally")(f,y)),E=a("./catch_filter")(x),F=a("./nodeback"),G=o.errorObj,H=o.tryCatch;return f.prototype.toString=function(){return"[object Promise]"},f.prototype.caught=f.prototype.catch=function(a){var b=arguments.length;if(b>1){var c,d=new Array(b-1),e=0;for(c=0;c<b-1;++c){var f=arguments[c];if(!o.isObject(f))return m("expecting an object but got A catch statement predicate "+o.classString(f));d[e++]=f}return d.length=e,a=arguments[c],this.then(void 0,E(d,a,this))}return this.then(void 0,a)},f.prototype.reflect=function(){return this._then(l,l,void 0,this,void 0)},f.prototype.then=function(a,b){if(C.warnings()&&arguments.length>0&&"function"!=typeof a&&"function"!=typeof b){var c=".then() only accepts functions but was passed: "+o.classString(a);arguments.length>1&&(c+=", "+o.classString(b)),this._warn(c)}return this._then(a,b,void 0,void 0,void 0)},f.prototype.done=function(a,b){this._then(a,b,void 0,void 0,void 0)._setIsFinal()},f.prototype.spread=function(a){return"function"!=typeof a?m("expecting a function but got "+o.classString(a)):this.all()._then(a,void 0,void 0,w,void 0)},f.prototype.toJSON=function(){var a={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(a.fulfillmentValue=this.value(),a.isFulfilled=!0):this.isRejected()&&(a.rejectionReason=this.reason(),a.isRejected=!0),a},f.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new z(this).promise()},f.prototype.error=function(a){return this.caught(o.originatesFromRejection,a)},f.getNewLibraryCopy=c.exports,f.is=function(a){return a instanceof f},f.fromNode=f.fromCallback=function(a){var b=new f(v);b._captureStackTrace();var c=arguments.length>1&&!!Object(arguments[1]).multiArgs,d=H(a)(F(b,c));return d===G&&b._rejectCallback(d.e,!0),b._isFateSealed()||b._setAsyncGuaranteed(),b},f.all=function(a){return new z(a).promise()},f.cast=function(a){var b=y(a);return b instanceof f||(b=new f(v),b._captureStackTrace(),b._setFulfilled(),b._rejectionHandler0=a),b},f.resolve=f.fulfilled=f.cast,f.reject=f.rejected=function(a){var b=new f(v);return b._captureStackTrace(),b._rejectCallback(a,!0),b},f.setScheduler=function(a){if("function"!=typeof a)throw new t("expecting a function but got "+o.classString(a));return r.setScheduler(a)},f.prototype._then=function(a,b,c,d,e){var g=void 0!==e,h=g?e:new f(v),i=this._target(),k=i._bitField;g||(h._propagateFrom(this,3),h._captureStackTrace(),void 0===d&&0!=(2097152&this._bitField)&&(d=0!=(50397184&k)?this._boundValue():i===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,h));var l=j();if(0!=(50397184&k)){var m,n,p=i._settlePromiseCtx;0!=(33554432&k)?(n=i._rejectionHandler0,m=a):0!=(16777216&k)?(n=i._fulfillmentHandler0,m=b,i._unsetRejectionIsUnhandled()):(p=i._settlePromiseLateCancellationObserver,n=new u("late cancellation observer"),i._attachExtraTrace(n),m=b),r.invoke(p,i,{handler:null===l?m:"function"==typeof m&&o.domainBind(l,m),promise:h,receiver:d,value:n})}else i._addCallbacks(a,b,h,d,l);return h},f.prototype._length=function(){return 65535&this._bitField},f.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},f.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},f.prototype._setLength=function(a){this._bitField=-65536&this._bitField|65535&a},f.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},f.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},f.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},f.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},f.prototype._isFinal=function(){return(4194304&this._bitField)>0},f.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},f.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},f.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},f.prototype._setAsyncGuaranteed=function(){r.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},f.prototype._receiverAt=function(a){var b=0===a?this._receiver0:this[4*a-4+3];if(b!==n)return void 0===b&&this._isBound()?this._boundValue():b},f.prototype._promiseAt=function(a){return this[4*a-4+2]},f.prototype._fulfillmentHandlerAt=function(a){return this[4*a-4+0]},f.prototype._rejectionHandlerAt=function(a){return this[4*a-4+1]},f.prototype._boundValue=function(){},f.prototype._migrateCallback0=function(a){var b=(a._bitField,a._fulfillmentHandler0),c=a._rejectionHandler0,d=a._promise0,e=a._receiverAt(0);void 0===e&&(e=n),this._addCallbacks(b,c,d,e,null)},f.prototype._migrateCallbackAt=function(a,b){var c=a._fulfillmentHandlerAt(b),d=a._rejectionHandlerAt(b),e=a._promiseAt(b),f=a._receiverAt(b);void 0===f&&(f=n),this._addCallbacks(c,d,e,f,null)},f.prototype._addCallbacks=function(a,b,c,d,e){var f=this._length();if(f>=65531&&(f=0,this._setLength(0)),0===f)this._promise0=c,this._receiver0=d,"function"==typeof a&&(this._fulfillmentHandler0=null===e?a:o.domainBind(e,a)),"function"==typeof b&&(this._rejectionHandler0=null===e?b:o.domainBind(e,b));else{var g=4*f-4;this[g+2]=c,this[g+3]=d,"function"==typeof a&&(this[g+0]=null===e?a:o.domainBind(e,a)),"function"==typeof b&&(this[g+1]=null===e?b:o.domainBind(e,b))}return this._setLength(f+1),f},f.prototype._proxy=function(a,b){this._addCallbacks(void 0,void 0,b,a,null)},f.prototype._resolveCallback=function(a,b){if(0==(117506048&this._bitField)){if(a===this)return this._rejectCallback(k(),!1);var c=y(a,this);if(!(c instanceof f))return this._fulfill(a);b&&this._propagateFrom(c,2);var d=c._target();if(d===this)return void this._reject(k());var e=d._bitField;if(0==(50397184&e)){var g=this._length();g>0&&d._migrateCallback0(this);for(var h=1;h<g;++h)d._migrateCallbackAt(this,h);this._setFollowing(),this._setLength(0),this._setFollowee(d)}else if(0!=(33554432&e))this._fulfill(d._value());else if(0!=(16777216&e))this._reject(d._reason());else{var i=new u("late cancellation observer");d._attachExtraTrace(i),this._reject(i)}}},f.prototype._rejectCallback=function(a,b,c){var d=o.ensureErrorObject(a),e=d===a;if(!e&&!c&&C.warnings()){var f="a promise was rejected with a non-error: "+o.classString(a);this._warn(f,!0)}this._attachExtraTrace(d,!!b&&e),this._reject(a)},f.prototype._resolveFromExecutor=function(a){var b=this;this._captureStackTrace(),this._pushContext();var c=!0,d=this._execute(a,function(a){b._resolveCallback(a)},function(a){b._rejectCallback(a,c)});c=!1,this._popContext(),void 0!==d&&b._rejectCallback(d,!0)},f.prototype._settlePromiseFromHandler=function(a,b,c,d){var e=d._bitField;if(0==(65536&e)){d._pushContext();var f;b===w?c&&"number"==typeof c.length?f=H(a).apply(this._boundValue(),c):(f=G,f.e=new t("cannot .spread() a non-array: "+o.classString(c))):f=H(a).call(b,c);var g=d._popContext();e=d._bitField,0==(65536&e)&&(f===x?d._reject(c):f===G?d._rejectCallback(f.e,!1):(C.checkForgottenReturns(f,g,"",d,this),d._resolveCallback(f)))}},f.prototype._target=function(){for(var a=this;a._isFollowing();)a=a._followee();return a},f.prototype._followee=function(){return this._rejectionHandler0},f.prototype._setFollowee=function(a){this._rejectionHandler0=a},f.prototype._settlePromise=function(a,b,c,e){var g=a instanceof f,h=this._bitField,i=0!=(134217728&h);0!=(65536&h)?(g&&a._invokeInternalOnCancel(),c instanceof D&&c.isFinallyHandler()?(c.cancelPromise=a,H(b).call(c,e)===G&&a._reject(G.e)):b===l?a._fulfill(l.call(c)):c instanceof d?c._promiseCancelled(a):g||a instanceof z?a._cancel():c.cancel()):"function"==typeof b?g?(i&&a._setAsyncGuaranteed(),this._settlePromiseFromHandler(b,c,e,a)):b.call(c,e,a):c instanceof d?c._isResolved()||(0!=(33554432&h)?c._promiseFulfilled(e,a):c._promiseRejected(e,a)):g&&(i&&a._setAsyncGuaranteed(),0!=(33554432&h)?a._fulfill(e):a._reject(e))},f.prototype._settlePromiseLateCancellationObserver=function(a){var b=a.handler,c=a.promise,d=a.receiver,e=a.value;"function"==typeof b?c instanceof f?this._settlePromiseFromHandler(b,d,e,c):b.call(d,e,c):c instanceof f&&c._reject(e)},f.prototype._settlePromiseCtx=function(a){this._settlePromise(a.promise,a.handler,a.receiver,a.value)},f.prototype._settlePromise0=function(a,b,c){var d=this._promise0,e=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(d,a,e,b)},f.prototype._clearCallbackDataAtIndex=function(a){var b=4*a-4;this[b+2]=this[b+3]=this[b+0]=this[b+1]=void 0},f.prototype._fulfill=function(a){var b=this._bitField;if(!((117506048&b)>>>16)){if(a===this){var c=k();return this._attachExtraTrace(c),this._reject(c)}this._setFulfilled(),this._rejectionHandler0=a,(65535&b)>0&&(0!=(134217728&b)?this._settlePromises():r.settlePromises(this))}},f.prototype._reject=function(a){var b=this._bitField;if(!((117506048&b)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=a,this._isFinal())return r.fatalError(a,o.isNode);(65535&b)>0?r.settlePromises(this):this._ensurePossibleRejectionHandled()}},f.prototype._fulfillPromises=function(a,b){for(var c=1;c<a;c++){var d=this._fulfillmentHandlerAt(c),e=this._promiseAt(c),f=this._receiverAt(c);this._clearCallbackDataAtIndex(c),this._settlePromise(e,d,f,b)}},f.prototype._rejectPromises=function(a,b){for(var c=1;c<a;c++){var d=this._rejectionHandlerAt(c),e=this._promiseAt(c),f=this._receiverAt(c);this._clearCallbackDataAtIndex(c),this._settlePromise(e,d,f,b)}},f.prototype._settlePromises=function(){var a=this._bitField,b=65535&a;if(b>0){if(0!=(16842752&a)){var c=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,c,a),this._rejectPromises(b,c)}else{var d=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,d,a),this._fulfillPromises(b,d)}this._setLength(0)}this._clearCancellationData()},f.prototype._settledValue=function(){var a=this._bitField;return 0!=(33554432&a)?this._rejectionHandler0:0!=(16777216&a)?this._fulfillmentHandler0:void 0},f.defer=f.pending=function(){return C.deprecated("Promise.defer","new Promise"),{promise:new f(v),resolve:g,reject:h}},o.notEnumerableProp(f,"_makeSelfResolutionError",k),a("./method")(f,v,y,m,C),a("./bind")(f,v,y,C),a("./cancel")(f,z,m,C),a("./direct_resolve")(f),a("./synchronous_inspection")(f),a("./join")(f,z,y,v,r,j),f.Promise=f,f.version="3.4.7",a("./map.js")(f,z,m,y,v,C),a("./call_get.js")(f),a("./using.js")(f,m,y,B,v,C),a("./timers.js")(f,v,C),a("./generators.js")(f,m,v,y,d,C),a("./nodeify.js")(f),a("./promisify.js")(f,v),a("./props.js")(f,z,y,m),a("./race.js")(f,v,y,m),a("./reduce.js")(f,z,m,y,v,C),a("./settle.js")(f,z,C),a("./some.js")(f,z,m),a("./filter.js")(f,v),a("./each.js")(f,v),a("./any.js")(f),o.toFastProperties(f),o.toFastProperties(f.prototype),i({a:1}),i({b:2}),i({c:3}),i(1),i(function(){}),i(void 0),i(!1),i(new f(v)),C.setBounds(q.firstLineError,o.lastLineError),f}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(a,b,c){"use strict";b.exports=function(b,c,d,e,f){function g(a){switch(a){case-2:return[];case-3:return{}}}function h(a){var d=this._promise=new b(c);a instanceof b&&d._propagateFrom(a,3),d._setOnCancel(this),this._values=a,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var i=a("./util");i.isArray;return i.inherits(h,f),h.prototype.length=function(){return this._length},h.prototype.promise=function(){return this._promise},h.prototype._init=function a(c,f){var h=d(this._values,this._promise);if(h instanceof b){h=h._target();var j=h._bitField;if(this._values=h,0==(50397184&j))return this._promise._setAsyncGuaranteed(),h._then(a,this._reject,void 0,this,f);if(0==(33554432&j))return 0!=(16777216&j)?this._reject(h._reason()):this._cancel();h=h._value()}if(null===(h=i.asArray(h))){var k=e("expecting an array or an iterable object but got "+i.classString(h)).reason();return void this._promise._rejectCallback(k,!1)}if(0===h.length)return void(-5===f?this._resolveEmptyArray():this._resolve(g(f)));this._iterate(h)},h.prototype._iterate=function(a){var c=this.getActualLength(a.length);this._length=c,this._values=this.shouldCopyValues()?new Array(c):this._values;for(var e=this._promise,f=!1,g=null,h=0;h<c;++h){var i=d(a[h],e);i instanceof b?(i=i._target(),g=i._bitField):g=null,f?null!==g&&i.suppressUnhandledRejections():null!==g?0==(50397184&g)?(i._proxy(this,h),this._values[h]=i):f=0!=(33554432&g)?this._promiseFulfilled(i._value(),h):0!=(16777216&g)?this._promiseRejected(i._reason(),h):this._promiseCancelled(h):f=this._promiseFulfilled(i,h)}f||e._setAsyncGuaranteed()},h.prototype._isResolved=function(){return null===this._values},h.prototype._resolve=function(a){this._values=null,this._promise._fulfill(a)},h.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},h.prototype._reject=function(a){this._values=null,this._promise._rejectCallback(a,!1)},h.prototype._promiseFulfilled=function(a,b){return this._values[b]=a,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},h.prototype._promiseCancelled=function(){return this._cancel(),!0},h.prototype._promiseRejected=function(a){return this._totalResolved++,this._reject(a),!0},h.prototype._resultCancelled=function(){if(!this._isResolved()){var a=this._values;if(this._cancel(),a instanceof b)a.cancel();else for(var c=0;c<a.length;++c)a[c]instanceof b&&a[c].cancel()}},h.prototype.shouldCopyValues=function(){return!0},h.prototype.getActualLength=function(a){return a},h}},{"./util":36}],24:[function(a,b,c){"use strict";b.exports=function(b,c){function d(a){return!w.test(a)}function e(a){try{return!0===a.__isPromisified__}catch(b){return!1}}function f(a,b,c){var d=n.getDataPropertyOrDefault(a,b+c,u);return!!d&&e(d)}function g(a,b,c){for(var d=0;d<a.length;d+=2){var e=a[d];if(c.test(e))for(var f=e.replace(c,""),g=0;g<a.length;g+=2)if(a[g]===f)throw new s("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",b))}}function h(a,b,c,d){for(var h=n.inheritedDataKeys(a),i=[],j=0;j<h.length;++j){var k=h[j],l=a[k],m=d===x||x(k,l,a);"function"!=typeof l||e(l)||f(a,k,b)||!d(k,l,a,m)||i.push(k,l)}return g(i,b,c),i}function i(a,d,e,f,g,h){function i(){var e=d;d===m&&(e=this);var f=new b(c);f._captureStackTrace();var g="string"==typeof k&&this!==j?this[k]:a,i=o(f,h);try{g.apply(e,p(arguments,i))}catch(l){f._rejectCallback(q(l),!0,!0)}return f._isFateSealed()||f._setAsyncGuaranteed(),f}var j=function(){return this}(),k=a;return"string"==typeof k&&(a=f),n.notEnumerableProp(i,"__isPromisified__",!0),i}function j(a,b,c,d,e){for(var f=new RegExp(y(b)+"$"),g=h(a,b,f,c),i=0,j=g.length;i<j;i+=2){var k=g[i],l=g[i+1],o=k+b;if(d===z)a[o]=z(k,m,k,l,b,e);else{var p=d(l,function(){return z(k,m,k,l,b,e)});n.notEnumerableProp(p,"__isPromisified__",!0),a[o]=p}}return n.toFastProperties(a),a}function k(a,b,c){return z(a,b,void 0,a,null,c)}var l,m={},n=a("./util"),o=a("./nodeback"),p=n.withAppended,q=n.maybeWrapAsError,r=n.canEvaluate,s=a("./errors").TypeError,t="Async",u={__isPromisified__:!0},v=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],w=new RegExp("^(?:"+v.join("|")+")$"),x=function(a){return n.isIdentifier(a)&&"_"!==a.charAt(0)&&"constructor"!==a},y=function(a){return a.replace(/([$])/,"\\$")},z=r?l:i;b.promisify=function(a,b){if("function"!=typeof a)throw new s("expecting a function but got "+n.classString(a));if(e(a))return a;b=Object(b);var c=void 0===b.context?m:b.context,f=!!b.multiArgs,g=k(a,c,f);return n.copyDescriptors(a,g,d),g},b.promisifyAll=function(a,b){if("function"!=typeof a&&"object"!=typeof a)throw new s("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");b=Object(b);var c=!!b.multiArgs,d=b.suffix;"string"!=typeof d&&(d=t);var e=b.filter;"function"!=typeof e&&(e=x);var f=b.promisifier;if("function"!=typeof f&&(f=z),!n.isIdentifier(d))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var g=n.inheritedDataKeys(a),h=0;h<g.length;++h){var i=a[g[h]];"constructor"!==g[h]&&n.isClass(i)&&(j(i.prototype,d,e,f,c),j(i,d,e,f,c))}return j(a,d,e,f,c)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(a,b,c){"use strict";b.exports=function(b,c,d,e){function f(a){var b,c=!1;if(void 0!==h&&a instanceof h)b=l(a),c=!0;else{var d=k.keys(a),e=d.length;b=new Array(2*e);for(var f=0;f<e;++f){var g=d[f];b[f]=a[g],b[f+e]=g}}this.constructor$(b),this._isMap=c,this._init$(void 0,-3)}function g(a){var c,g=d(a);return j(g)?(c=g instanceof b?g._then(b.props,void 0,void 0,void 0,void 0):new f(g).promise(),g instanceof b&&c._propagateFrom(g,2),c):e("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var h,i=a("./util"),j=i.isObject,k=a("./es5");"function"==typeof Map&&(h=Map);var l=function(){function a(a,d){this[b]=a,this[b+c]=d,b++}var b=0,c=0;return function(d){c=d.size,b=0;var e=new Array(2*d.size);return d.forEach(a,e),e}}(),m=function(a){for(var b=new h,c=a.length/2|0,d=0;d<c;++d){var e=a[c+d],f=a[d];b.set(e,f)}return b};i.inherits(f,c),f.prototype._init=function(){},f.prototype._promiseFulfilled=function(a,b){if(this._values[b]=a,++this._totalResolved>=this._length){var c;if(this._isMap)c=m(this._values);else{c={};for(var d=this.length(),e=0,f=this.length();e<f;++e)c[this._values[e+d]]=this._values[e]}return this._resolve(c),!0}return!1},f.prototype.shouldCopyValues=function(){return!1},f.prototype.getActualLength=function(a){return a>>1},b.prototype.props=function(){return g(this)},b.props=function(a){return g(a)}}},{"./es5":13,"./util":36}],26:[function(a,b,c){"use strict";function d(a,b,c,d,e){for(var f=0;f<e;++f)c[f+d]=a[f+b],a[f+b]=void 0}function e(a){this._capacity=a,this._length=0,this._front=0}e.prototype._willBeOverCapacity=function(a){return this._capacity<a},e.prototype._pushOne=function(a){var b=this.length();this._checkCapacity(b+1),this[this._front+b&this._capacity-1]=a,this._length=b+1},e.prototype.push=function(a,b,c){var d=this.length()+3;if(this._willBeOverCapacity(d))return this._pushOne(a),this._pushOne(b),void this._pushOne(c);var e=this._front+d-3;this._checkCapacity(d);var f=this._capacity-1;this[e+0&f]=a,this[e+1&f]=b,this[e+2&f]=c,this._length=d},e.prototype.shift=function(){var a=this._front,b=this[a];return this[a]=void 0,this._front=a+1&this._capacity-1,this._length--,b},e.prototype.length=function(){return this._length},e.prototype._checkCapacity=function(a){this._capacity<a&&this._resizeTo(this._capacity<<1)},e.prototype._resizeTo=function(a){var b=this._capacity;this._capacity=a,d(this,0,this,b,this._front+this._length&b-1)},b.exports=e},{}],27:[function(a,b,c){"use strict";b.exports=function(b,c,d,e){function f(a,f){var i=d(a);if(i instanceof b)return h(i);if(null===(a=g.asArray(a)))return e("expecting an array or an iterable object but got "+g.classString(a));var j=new b(c);void 0!==f&&j._propagateFrom(f,3);for(var k=j._fulfill,l=j._reject,m=0,n=a.length;m<n;++m){var o=a[m];(void 0!==o||m in a)&&b.cast(o)._then(k,l,void 0,j,null)}return j}var g=a("./util"),h=function(a){return a.then(function(b){return f(b,a)})};b.race=function(a){return f(a,void 0)},b.prototype.race=function(){return f(this,void 0)}}},{"./util":36}],28:[function(a,b,c){"use strict";b.exports=function(b,c,d,e,f,g){function h(a,c,d,e){this.constructor$(a);var g=m();this._fn=null===g?c:n.domainBind(g,c),void 0!==d&&(d=b.resolve(d),d._attachCancellationCallback(this)),this._initialValue=d,this._currentCancellable=null,this._eachValues=e===f?Array(this._length):0===e?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function i(a,b){this.isFulfilled()?b._resolve(a):b._reject(a)}function j(a,b,c,e){return"function"!=typeof b?d("expecting a function but got "+n.classString(b)):new h(a,b,c,e).promise()}function k(a){this.accum=a,this.array._gotAccum(a);var c=e(this.value,this.array._promise);return c instanceof b?(this.array._currentCancellable=c,c._then(l,void 0,void 0,this,void 0)):l.call(this,c)}function l(a){var c=this.array,d=c._promise,e=o(c._fn);d._pushContext();var f
;(f=void 0!==c._eachValues?e.call(d._boundValue(),a,this.index,this.length):e.call(d._boundValue(),this.accum,a,this.index,this.length))instanceof b&&(c._currentCancellable=f);var h=d._popContext();return g.checkForgottenReturns(f,h,void 0!==c._eachValues?"Promise.each":"Promise.reduce",d),f}var m=b._getDomain,n=a("./util"),o=n.tryCatch;n.inherits(h,c),h.prototype._gotAccum=function(a){void 0!==this._eachValues&&null!==this._eachValues&&a!==f&&this._eachValues.push(a)},h.prototype._eachComplete=function(a){return null!==this._eachValues&&this._eachValues.push(a),this._eachValues},h.prototype._init=function(){},h.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},h.prototype.shouldCopyValues=function(){return!1},h.prototype._resolve=function(a){this._promise._resolveCallback(a),this._values=null},h.prototype._resultCancelled=function(a){if(a===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof b&&this._currentCancellable.cancel(),this._initialValue instanceof b&&this._initialValue.cancel())},h.prototype._iterate=function(a){this._values=a;var c,d,e=a.length;if(void 0!==this._initialValue?(c=this._initialValue,d=0):(c=b.resolve(a[0]),d=1),this._currentCancellable=c,!c.isRejected())for(;d<e;++d){var f={accum:null,value:a[d],index:d,length:e,array:this};c=c._then(k,void 0,void 0,f,void 0)}void 0!==this._eachValues&&(c=c._then(this._eachComplete,void 0,void 0,this,void 0)),c._then(i,i,void 0,c,this)},b.prototype.reduce=function(a,b){return j(this,a,b,null)},b.reduce=function(a,b,c,d){return j(a,b,c,d)}}},{"./util":36}],29:[function(a,e,f){"use strict";var g,h=a("./util"),i=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")},j=h.getNativePromise();if(h.isNode&&"undefined"==typeof MutationObserver){var k=c.setImmediate,l=b.nextTick;g=h.isRecentNode?function(a){k.call(c,a)}:function(a){l.call(b,a)}}else if("function"==typeof j&&"function"==typeof j.resolve){var m=j.resolve();g=function(a){m.then(a)}}else g="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?void 0!==d?function(a){d(a)}:"undefined"!=typeof setTimeout?function(a){setTimeout(a,0)}:i:function(){var a=document.createElement("div"),b={attributes:!0},c=!1,d=document.createElement("div");new MutationObserver(function(){a.classList.toggle("foo"),c=!1}).observe(d,b);var e=function(){c||(c=!0,d.classList.toggle("foo"))};return function(c){var d=new MutationObserver(function(){d.disconnect(),c()});d.observe(a,b),e()}}();e.exports=g},{"./util":36}],30:[function(a,b,c){"use strict";b.exports=function(b,c,d){function e(a){this.constructor$(a)}var f=b.PromiseInspection;a("./util").inherits(e,c),e.prototype._promiseResolved=function(a,b){return this._values[a]=b,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},e.prototype._promiseFulfilled=function(a,b){var c=new f;return c._bitField=33554432,c._settledValueField=a,this._promiseResolved(b,c)},e.prototype._promiseRejected=function(a,b){var c=new f;return c._bitField=16777216,c._settledValueField=a,this._promiseResolved(b,c)},b.settle=function(a){return d.deprecated(".settle()",".reflect()"),new e(a).promise()},b.prototype.settle=function(){return b.settle(this)}}},{"./util":36}],31:[function(a,b,c){"use strict";b.exports=function(b,c,d){function e(a){this.constructor$(a),this._howMany=0,this._unwrap=!1,this._initialized=!1}function f(a,b){if((0|b)!==b||b<0)return d("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var c=new e(a),f=c.promise();return c.setHowMany(b),c.init(),f}var g=a("./util"),h=a("./errors").RangeError,i=a("./errors").AggregateError,j=g.isArray,k={};g.inherits(e,c),e.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var a=j(this._values);!this._isResolved()&&a&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},e.prototype.init=function(){this._initialized=!0,this._init()},e.prototype.setUnwrap=function(){this._unwrap=!0},e.prototype.howMany=function(){return this._howMany},e.prototype.setHowMany=function(a){this._howMany=a},e.prototype._promiseFulfilled=function(a){return this._addFulfilled(a),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},e.prototype._promiseRejected=function(a){return this._addRejected(a),this._checkOutcome()},e.prototype._promiseCancelled=function(){return this._values instanceof b||null==this._values?this._cancel():(this._addRejected(k),this._checkOutcome())},e.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var a=new i,b=this.length();b<this._values.length;++b)this._values[b]!==k&&a.push(this._values[b]);return a.length>0?this._reject(a):this._cancel(),!0}return!1},e.prototype._fulfilled=function(){return this._totalResolved},e.prototype._rejected=function(){return this._values.length-this.length()},e.prototype._addRejected=function(a){this._values.push(a)},e.prototype._addFulfilled=function(a){this._values[this._totalResolved++]=a},e.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},e.prototype._getRangeError=function(a){var b="Input array must contain at least "+this._howMany+" items but contains only "+a+" items";return new h(b)},e.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},b.some=function(a,b){return f(a,b)},b.prototype.some=function(a){return f(this,a)},b._SomePromiseArray=e}},{"./errors":12,"./util":36}],32:[function(a,b,c){"use strict";b.exports=function(a){function b(a){void 0!==a?(a=a._target(),this._bitField=a._bitField,this._settledValueField=a._isFateSealed()?a._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}b.prototype._settledValue=function(){return this._settledValueField};var c=b.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},d=b.prototype.error=b.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},e=b.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},f=b.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},g=b.prototype.isPending=function(){return 0==(50397184&this._bitField)},h=b.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};b.prototype.isCancelled=function(){return 0!=(8454144&this._bitField)},a.prototype.__isCancelled=function(){return 65536==(65536&this._bitField)},a.prototype._isCancelled=function(){return this._target().__isCancelled()},a.prototype.isCancelled=function(){return 0!=(8454144&this._target()._bitField)},a.prototype.isPending=function(){return g.call(this._target())},a.prototype.isRejected=function(){return f.call(this._target())},a.prototype.isFulfilled=function(){return e.call(this._target())},a.prototype.isResolved=function(){return h.call(this._target())},a.prototype.value=function(){return c.call(this._target())},a.prototype.reason=function(){var a=this._target();return a._unsetRejectionIsUnhandled(),d.call(a)},a.prototype._value=function(){return this._settledValue()},a.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},a.PromiseInspection=b}},{}],33:[function(a,b,c){"use strict";b.exports=function(b,c){function d(a,d){if(k(a)){if(a instanceof b)return a;var e=f(a);if(e===j){d&&d._pushContext();var i=b.reject(e.e);return d&&d._popContext(),i}if("function"==typeof e){if(g(a)){var i=new b(c);return a._then(i._fulfill,i._reject,void 0,i,null),i}return h(a,e,d)}}return a}function e(a){return a.then}function f(a){try{return e(a)}catch(b){return j.e=b,j}}function g(a){try{return l.call(a,"_promise0")}catch(b){return!1}}function h(a,d,e){function f(a){h&&(h._resolveCallback(a),h=null)}function g(a){h&&(h._rejectCallback(a,l,!0),h=null)}var h=new b(c),k=h;e&&e._pushContext(),h._captureStackTrace(),e&&e._popContext();var l=!0,m=i.tryCatch(d).call(a,f,g);return l=!1,h&&m===j&&(h._rejectCallback(m.e,!0,!0),h=null),k}var i=a("./util"),j=i.errorObj,k=i.isObject,l={}.hasOwnProperty;return d}},{"./util":36}],34:[function(a,b,c){"use strict";b.exports=function(b,c,d){function e(a){this.handle=a}function f(a){return clearTimeout(this.handle),a}function g(a){throw clearTimeout(this.handle),a}var h=a("./util"),i=b.TimeoutError;e.prototype._resultCancelled=function(){clearTimeout(this.handle)};var j=function(a){return k(+this).thenReturn(a)},k=b.delay=function(a,f){var g,h;return void 0!==f?(g=b.resolve(f)._then(j,null,null,a,void 0),d.cancellation()&&f instanceof b&&g._setOnCancel(f)):(g=new b(c),h=setTimeout(function(){g._fulfill()},+a),d.cancellation()&&g._setOnCancel(new e(h)),g._captureStackTrace()),g._setAsyncGuaranteed(),g};b.prototype.delay=function(a){return k(a,this)};var l=function(a,b,c){var d;d="string"!=typeof b?b instanceof Error?b:new i("operation timed out"):new i(b),h.markAsOriginatingFromRejection(d),a._attachExtraTrace(d),a._reject(d),null!=c&&c.cancel()};b.prototype.timeout=function(a,b){a=+a;var c,h,i=new e(setTimeout(function(){c.isPending()&&l(c,b,h)},a));return d.cancellation()?(h=this.then(),c=h._then(f,g,void 0,i,void 0),c._setOnCancel(i)):c=this._then(f,g,void 0,i,void 0),c}}},{"./util":36}],35:[function(a,b,c){"use strict";b.exports=function(b,c,d,e,f,g){function h(a){setTimeout(function(){throw a},0)}function i(a){var b=d(a);return b!==a&&"function"==typeof a._isDisposable&&"function"==typeof a._getDisposer&&a._isDisposable()&&b._setDisposable(a._getDisposer()),b}function j(a,c){function e(){if(g>=j)return k._fulfill();var f=i(a[g++]);if(f instanceof b&&f._isDisposable()){try{f=d(f._getDisposer().tryDispose(c),a.promise)}catch(l){return h(l)}if(f instanceof b)return f._then(e,h,null,null,null)}e()}var g=0,j=a.length,k=new b(f);return e(),k}function k(a,b,c){this._data=a,this._promise=b,this._context=c}function l(a,b,c){this.constructor$(a,b,c)}function m(a){return k.isDisposer(a)?(this.resources[this.index]._setDisposable(a),a.promise()):a}function n(a){this.length=a,this.promise=null,this[a-1]=null}var o=a("./util"),p=a("./errors").TypeError,q=a("./util").inherits,r=o.errorObj,s=o.tryCatch,t={};k.prototype.data=function(){return this._data},k.prototype.promise=function(){return this._promise},k.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():t},k.prototype.tryDispose=function(a){var b=this.resource(),c=this._context;void 0!==c&&c._pushContext();var d=b!==t?this.doDispose(b,a):null;return void 0!==c&&c._popContext(),this._promise._unsetDisposable(),this._data=null,d},k.isDisposer=function(a){return null!=a&&"function"==typeof a.resource&&"function"==typeof a.tryDispose},q(l,k),l.prototype.doDispose=function(a,b){return this.data().call(a,a,b)},n.prototype._resultCancelled=function(){for(var a=this.length,c=0;c<a;++c){var d=this[c];d instanceof b&&d.cancel()}},b.using=function(){var a=arguments.length;if(a<2)return c("you must pass at least 2 arguments to Promise.using");var e=arguments[a-1];if("function"!=typeof e)return c("expecting a function but got "+o.classString(e));var f,h=!0;2===a&&Array.isArray(arguments[0])?(f=arguments[0],a=f.length,h=!1):(f=arguments,a--);for(var i=new n(a),l=0;l<a;++l){var p=f[l];if(k.isDisposer(p)){var q=p;p=p.promise(),p._setDisposable(q)}else{var t=d(p);t instanceof b&&(p=t._then(m,null,null,{resources:i,index:l},void 0))}i[l]=p}for(var u=new Array(i.length),l=0;l<u.length;++l)u[l]=b.resolve(i[l]).reflect();var v=b.all(u).then(function(a){for(var b=0;b<a.length;++b){var c=a[b];if(c.isRejected())return r.e=c.error(),r;if(!c.isFulfilled())return void v.cancel();a[b]=c.value()}w._pushContext(),e=s(e);var d=h?e.apply(void 0,a):e(a),f=w._popContext();return g.checkForgottenReturns(d,f,"Promise.using",w),d}),w=v.lastly(function(){var a=new b.PromiseInspection(v);return j(i,a)});return i.promise=w,w._setOnCancel(i),w},b.prototype._setDisposable=function(a){this._bitField=131072|this._bitField,this._disposer=a},b.prototype._isDisposable=function(){return(131072&this._bitField)>0},b.prototype._getDisposer=function(){return this._disposer},b.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},b.prototype.disposer=function(a){if("function"==typeof a)return new l(a,this,e());throw new p}}},{"./errors":12,"./util":36}],36:[function(a,d,e){"use strict";function f(){try{var a=F;return F=null,a.apply(this,arguments)}catch(b){return E.e=b,E}}function g(a){return F=a,f}function h(a){return null==a||!0===a||!1===a||"string"==typeof a||"number"==typeof a}function i(a){return"function"==typeof a||"object"==typeof a&&null!==a}function j(a){return h(a)?new Error(s(a)):a}function k(a,b){var c,d=a.length,e=new Array(d+1);for(c=0;c<d;++c)e[c]=a[c];return e[c]=b,e}function l(a,b,c){if(!C.isES5)return{}.hasOwnProperty.call(a,b)?a[b]:void 0;var d=Object.getOwnPropertyDescriptor(a,b);return null!=d?null==d.get&&null==d.set?d.value:c:void 0}function m(a,b,c){if(h(a))return a;var d={value:c,configurable:!0,enumerable:!1,writable:!0};return C.defineProperty(a,b,d),a}function n(a){throw a}function o(a){try{if("function"==typeof a){var b=C.names(a.prototype),c=C.isES5&&b.length>1,d=b.length>0&&!(1===b.length&&"constructor"===b[0]),e=J.test(a+"")&&C.names(a).length>0;if(c||d||e)return!0}return!1}catch(f){return!1}}function p(a){function b(){}b.prototype=a;for(var c=8;c--;)new b;return a}function q(a){return K.test(a)}function r(a,b,c){for(var d=new Array(a),e=0;e<a;++e)d[e]=b+e+c;return d}function s(a){try{return a+""}catch(b){return"[no string representation]"}}function t(a){return null!==a&&"object"==typeof a&&"string"==typeof a.message&&"string"==typeof a.name}function u(a){try{m(a,"isOperational",!0)}catch(b){}}function v(a){return null!=a&&(a instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===a.isOperational)}function w(a){return t(a)&&C.propertyIsWritable(a,"stack")}function x(a){return{}.toString.call(a)}function y(a,b,c){for(var d=C.names(a),e=0;e<d.length;++e){var f=d[e];if(c(f))try{C.defineProperty(b,f,C.getDescriptor(a,f))}catch(g){}}}function z(a){return P?b.env[a]:void 0}function A(){if("function"==typeof Promise)try{var a=new Promise(function(){});if("[object Promise]"==={}.toString.call(a))return Promise}catch(b){}}function B(a,b){return a.bind(b)}var C=a("./es5"),D="undefined"==typeof navigator,E={e:{}},F,G="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==c?c:void 0!==this?this:null,H=function(a,b){function c(){this.constructor=a,this.constructor$=b;for(var c in b.prototype)d.call(b.prototype,c)&&"$"!==c.charAt(c.length-1)&&(this[c+"$"]=b.prototype[c])}var d={}.hasOwnProperty;return c.prototype=b.prototype,a.prototype=new c,a.prototype},I=function(){var a=[Array.prototype,Object.prototype,Function.prototype],b=function(b){for(var c=0;c<a.length;++c)if(a[c]===b)return!0;return!1};if(C.isES5){var c=Object.getOwnPropertyNames;return function(a){for(var d=[],e=Object.create(null);null!=a&&!b(a);){var f;try{f=c(a)}catch(j){return d}for(var g=0;g<f.length;++g){var h=f[g];if(!e[h]){e[h]=!0;var i=Object.getOwnPropertyDescriptor(a,h);null!=i&&null==i.get&&null==i.set&&d.push(h)}}a=C.getPrototypeOf(a)}return d}}var d={}.hasOwnProperty;return function(c){if(b(c))return[];var e=[];a:for(var f in c)if(d.call(c,f))e.push(f);else{for(var g=0;g<a.length;++g)if(d.call(a[g],f))continue a;e.push(f)}return e}}(),J=/this\s*\.\s*\S+\s*=/,K=/^[a-z$_][a-z$_0-9]*$/i,L=function(){return"stack"in new Error?function(a){return w(a)?a:new Error(s(a))}:function(a){if(w(a))return a;try{throw new Error(s(a))}catch(b){return b}}}(),M=function(a){return C.isArray(a)?a:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var N="function"==typeof Array.from?function(a){return Array.from(a)}:function(a){for(var b,c=[],d=a[Symbol.iterator]();!(b=d.next()).done;)c.push(b.value);return c};M=function(a){return C.isArray(a)?a:null!=a&&"function"==typeof a[Symbol.iterator]?N(a):null}}var O=void 0!==b&&"[object process]"===x(b).toLowerCase(),P=void 0!==b&&void 0!==b.env,Q={isClass:o,isIdentifier:q,inheritedDataKeys:I,getDataPropertyOrDefault:l,thrower:n,isArray:C.isArray,asArray:M,notEnumerableProp:m,isPrimitive:h,isObject:i,isError:t,canEvaluate:D,errorObj:E,tryCatch:g,inherits:H,withAppended:k,maybeWrapAsError:j,toFastProperties:p,filledRange:r,toString:s,canAttachTrace:w,ensureErrorObject:L,originatesFromRejection:v,markAsOriginatingFromRejection:u,classString:x,copyDescriptors:y,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:O,hasEnvVariables:P,env:z,global:G,getNativePromise:A,domainBind:B};Q.isRecentNode=Q.isNode&&function(){var a=b.versions.node.split(".").map(Number);return 0===a[0]&&a[1]>10||a[0]>0}(),Q.isNode&&Q.toFastProperties(b);try{throw new Error}catch(R){Q.lastLineError=R}d.exports=Q},{"./es5":13}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(b,c(2),function(){return this}(),c(4).setImmediate)},function(a,b,c){(function(a,d){function e(a,b){this._id=a,this._clearFn=b}var f=c(2).nextTick,g=Function.prototype.apply,h=Array.prototype.slice,i={},j=0;b.setTimeout=function(){return new e(g.call(setTimeout,window,arguments),clearTimeout)},b.setInterval=function(){return new e(g.call(setInterval,window,arguments),clearInterval)},b.clearTimeout=b.clearInterval=function(a){a.close()},e.prototype.unref=e.prototype.ref=function(){},e.prototype.close=function(){this._clearFn.call(window,this._id)},b.enroll=function(a,b){clearTimeout(a._idleTimeoutId),a._idleTimeout=b},b.unenroll=function(a){clearTimeout(a._idleTimeoutId),a._idleTimeout=-1},b._unrefActive=b.active=function(a){clearTimeout(a._idleTimeoutId);var b=a._idleTimeout;b>=0&&(a._idleTimeoutId=setTimeout(function(){a._onTimeout&&a._onTimeout()},b))},b.setImmediate="function"==typeof a?a:function(a){var c=j++,d=!(arguments.length<2)&&h.call(arguments,1);return i[c]=!0,f(function(){i[c]&&(d?a.apply(null,d):a.call(null),b.clearImmediate(c))}),c},b.clearImmediate="function"==typeof d?d:function(a){delete i[a]}}).call(b,c(4).setImmediate,c(4).clearImmediate)},function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f=c(1),g=d(f);if(g.default._isNode&&(localStorage=c(6)),g.default.toJSON=function(a){if(a.constructor===Array){for(var b=0;b<a.length;b++)a[b]=g.default.toJSON(a[b]);return a}var c=null,d=null,e=null,f=null,h=null;a instanceof g.default.CloudGeoPoint&&(f=a.document.latitude,h=a.document.longitude),a instanceof g.default.CloudFile&&(c=a.document._id),a instanceof g.default.Column&&(d=a.document.name),a instanceof g.default.CloudQueue&&(e=a.document.name),a instanceof g.default.CloudTable&&(e=a.document.name),a instanceof g.default.CloudCache&&(e=a.document.name);var i=g.default._clone(a,c,h,f,e,d);if(!i instanceof g.default.CloudObject||!i instanceof g.default.CloudFile||!i instanceof g.default.CloudGeoPoint||!i instanceof g.default.CloudTable||!i instanceof g.default.Column||!i instanceof g.default.QueueMessage||!i instanceof g.default.CloudQueue||!i instanceof g.default.CloudCache)throw"Data passed is not an instance of CloudObject or CloudFile or CloudGeoPoint";if(i instanceof g.default.Column)return i.document;if(i instanceof g.default.CloudGeoPoint)return i.document;var j=i.document;for(var k in j)if(j[k]instanceof g.default.CloudObject||j[k]instanceof g.default.CloudFile||j[k]instanceof g.default.CloudGeoPoint||j[k]instanceof g.default.Column||j[k]instanceof g.default.QueueMessage||j[k]instanceof g.default.CloudQueue||j[k]instanceof g.default.CloudCache)j[k]=g.default.toJSON(j[k]);else if("ACL"===k){var l=j[k].document;j[k]=l}else if(j[k]instanceof Array&&j[k][0]&&(j[k][0]instanceof g.default.CloudObject||j[k][0]instanceof g.default.CloudFile||j[k][0]instanceof g.default.CloudGeoPoint||j[k][0]instanceof g.default.Column||j[k][0]instanceof g.default.QueueMessage||j[k][0]instanceof g.default.CloudQueue||j[k][0]instanceof g.default.CloudCache)){for(var m=[],b=0;b<j[k].length;b++)m.push(g.default.toJSON(j[k][b]));j[k]=m}return j},g.default.fromJSON=function(a,b){if(!a||""===a)return null;if(a instanceof Array){if(a[0]&&a[0]instanceof Object){for(var c=[],d=0;d<a.length;d++)l=g.default.fromJSON(a[d]),c.push(l);return c}return a}if(a instanceof Object&&a._type){var e={};for(var f in a)a[f]instanceof Array?e[f]=g.default.fromJSON(a[f]):a[f]instanceof Object?"ACL"===f?(e[f]=new g.default.ACL,e[f].document=a[f]):a[f]._type?e[f]=b?g.default.fromJSON(a[f],b.get(f)):g.default.fromJSON(a[f]):e[f]=a[f]:e[f]=a[f];var h=b;if(b instanceof Object&&!(b instanceof g.default.CloudQueue)&&(h=b._id||b.id),b&&a._id!==h)b.document=e;else{var h=null,i=null,j=null,k=null;"file"===e._type&&(h=e._id),"point"===e._type&&(i=e.latitude,j=e.longitude),"table"===e._type&&(k=e.name),"column"===e._type&&(k=e.name),"queue"===e._type&&(k=e.name),"cache"===e._type&&(k=e.name);var l=g.default._getObjectByType(e._type,h,j,i,k);l.document=e,b=l}return(b instanceof g.default.CloudObject||b instanceof g.default.CloudUser||b instanceof g.default.CloudRole||b instanceof g.default.CloudQueue||b instanceof g.default.QueueMessage||b instanceof g.default.CloudFile||b instanceof g.default.CloudCache)&&b.document.ACL&&(b.document.ACL.parent=b),b}return a},g.default._getObjectByType=function(a,b,c,d,e){var f=null;return"custom"===a&&(f=new g.default.CloudObject),"queue"===a&&(f=new g.default.CloudQueue(e)),"queue-message"===a&&(f=new g.default.QueueMessage),"cache"===a&&(f=new g.default.CloudCache(e)),"role"===a&&(f=new g.default.CloudRole),"user"===a&&(f=new g.default.CloudUser),"file"===a&&(f=new g.default.CloudFile(b)),"point"===a&&(f=new g.default.CloudGeoPoint(0,0),f.document.latitude=Number(d),f.document.longitude=Number(c)),"table"===a&&(f=new g.default.CloudTable(e)),"column"===a&&(f=new g.default.Column(e)),f},g.default._validate=function(){if(!g.default.appId)throw"AppID is null. Please use CB.CloudApp.init to initialize your app.";if(!g.default.appKey)throw"AppKey is null. Please use CB.CloudApp.init to initialize your app."},g.default._clone=function(a,b,c,d,e,f){var h={};if(a.document._type&&"point"!=a.document._type){h=g.default._getObjectByType(a.document._type,b,c,d,e,f);var i=a.document,j={};for(var k in i)i[k]instanceof g.default.CloudFile?j[k]=g.default._clone(i[k],i[k].document._id):i[k]instanceof g.default.CloudObject?j[k]=g.default._clone(i[k],null):i[k]instanceof g.default.CloudQueue?j[k]=g.default._clone(i[k],null):i[k]instanceof g.default.QueueMessage?j[k]=g.default._clone(i[k],null):i[k]instanceof g.default.CloudGeoPoint?j[k]=g.default._clone(i[k],null):i[k]instanceof g.default.CloudCache?j[k]=g.default._clone(i[k],null):j[k]=i[k]}else if(a instanceof g.default.CloudGeoPoint)return h=new g.default.CloudGeoPoint(a.get("longitude"),a.get("latitude"));return h.document=j,h},g.default._request=function(a,b,d,f,h,i){if(g.default._validate(),!g.default.CloudApp._isConnected)throw"Your CloudApp is disconnected. Please use CB.CloudApp.connect() and try again.";var j,k=new g.default.Promise,l={};if(j=c(g.default._isNode?7:8),!f){var m=g.default._getSessionId();null!=m&&(l.sessionID=m)}return d&&"object"!=(void 0===d?"undefined":e(d))&&(d=JSON.parse(d)),j({method:a,url:b,data:d,headers:l,onUploadProgress:function(a){if(a.lengthComputable){var b=a.loaded/a.total;i&&i(b)}}}).then(function(a){if(!f){var b=a.headers.sessionid;b?localStorage.setItem("sessionID",b):localStorage.removeItem("sessionID")}k.resolve(JSON.stringify(a.data))},function(a){k.reject(a)}),k.promise},g.default._getSessionId=function(){return localStorage.getItem("sessionID")},g.default._columnValidation=function(a,b){var c=["id","createdAt","updatedAt","ACL"];return"user"==b.document.type?c.concat(["username","email","password","roles"]):"role"==b.document.type&&c.push("name"),-1===c.indexOf(a.name.toLowerCase())},g.default._tableValidation=function(a){if(!a)throw"table name cannot be empty";if(!isNaN(a[0]))throw"table name should not start with a number";if(!a.match(/^\S+$/))throw"table name should not contain spaces";if(new RegExp(/[~`!#$%\^&*+=\-\[\]\\';,\/{}|\\":<>\?]/).test(a))throw"table not shoul not contain special characters"},g.default._modified=function(a,b){a.document._isModified=!0,a.document._modifiedColumns?-1===a.document._modifiedColumns.indexOf(b)&&a.document._modifiedColumns.push(b):(a.document._modifiedColumns=[],a.document._modifiedColumns.push(b))},g.default._columnNameValidation=function(a){if(!a)throw"table name cannot be empty";if(!isNaN(a[0]))throw"column name should not start with a number";if(!a.match(/^\S+$/))throw"column name should not contain spaces";if(new RegExp(/[~`!#$%\^&*+=\-\[\]\\';,\/{}|\\":<>\?]/).test(a))throw"column name not should not contain special characters"},g.default._columnDataTypeValidation=function(a){if(!a)throw"data type cannot be empty";if(["Text","Email","URL","Number","Boolean","DateTime","GeoPoint","File","List","Relation","Object","EncryptedText"].indexOf(a)<0)throw"invalid data type"},g.default._defaultColumns=function(a){var b=new g.default.Column("id");b.dataType="Id",b.required=!0,b.unique=!0,b.document.isDeletable=!1,b.document.isEditable=!1;var c=new g.default.Column("expires");c.dataType="DateTime",c.document.isDeletable=!1,c.document.isEditable=!1;var d=new g.default.Column("createdAt");d.dataType="DateTime",d.required=!0,d.document.isDeletable=!1,d.document.isEditable=!1;var e=new g.default.Column("updatedAt");e.dataType="DateTime",e.required=!0,e.document.isDeletable=!1,e.document.isEditable=!1;var f=new g.default.Column("ACL");f.dataType="ACL",f.required=!0,f.document.isDeletable=!1,f.document.isEditable=!1;var h=[b,c,e,d,f];if("custom"===a)return h;if("user"===a){var i=new g.default.Column("username");i.dataType="Text",i.required=!1,i.unique=!0,i.document.isDeletable=!1,i.document.isEditable=!1;var j=new g.default.Column("email");j.dataType="Email",j.unique=!0,j.document.isDeletable=!1,j.document.isEditable=!1;var k=new g.default.Column("password");k.dataType="EncryptedText",k.required=!1,k.document.isDeletable=!1,k.document.isEditable=!1;var l=new g.default.Column("roles");l.dataType="List",l.relatedTo="Role",l.relatedToType="role",l.document.relationType="table",l.document.isDeletable=!1,l.document.isEditable=!1;var m=new g.default.Column("socialAuth");m.dataType="List",m.relatedTo="Object",m.required=!1,m.document.isDeletable=!1,m.document.isEditable=!1;var n=new g.default.Column("verified");return n.dataType="Boolean",n.required=!1,n.document.isDeletable=!1,n.document.isEditable=!1,h.push(i),h.push(l),h.push(k),h.push(j),h.push(m),h.push(n),h}if("role"===a){var o=new g.default.Column("name");return o.dataType="Text",o.unique=!0,o.required=!0,o.document.isDeletable=!1,o.document.isEditable=!1,h.push(o),h}if("device"===a){var p=new g.default.Column("channels");p.dataType="List",p.relatedTo="Text",p.document.isDeletable=!1,p.document.isEditable=!1;var q=new g.default.Column("deviceToken");q.dataType="Text",q.unique=!0,q.document.isDeletable=!1,q.document.isEditable=!1;var r=new g.default.Column("deviceOS");r.dataType="Text",r.document.isDeletable=!1,r.document.isEditable=!1;var s=new g.default.Column("timezone");s.dataType="Text",s.document.isDeletable=!1,s.document.isEditable=!1;var t=new g.default.Column("metadata");return t.dataType="Object",t.document.isDeletable=!1,t.document.isEditable=!1,h.push(p),h.push(q),h.push(r),h.push(s),h.push(t),h}},g.default._fileCheck=function(a){var b=new g.default.Promise,c=[];for(var d in a.document)if(a.document[d]instanceof Array&&a.document[d][0]instanceof g.default.CloudFile)for(var e=0;e<a.document[d].length;e++)a.document[d][e].id||c.push(a.document[d][e].save());else a.document[d]instanceof Object&&a.document[d]instanceof g.default.CloudFile&&(a.document[d].id||c.push(a.document[d].save()));return c.length>0?g.default.Promise.all(c).then(function(){var c=arguments,d=0;for(var e in a.document)if(a.document[e]instanceof Array&&a.document[e][0]instanceof g.default.CloudFile)for(var f=0;f<a.document[e].length;f++)a.document[e][f].id||(a.document[e][f]=c[d],d+=1);else a.document[e]instanceof Object&&a.document[e]instanceof g.default.CloudFile&&(a.document[e].id||(a.document[e]=c[d],d+=1));b.resolve(a)},function(a){b.reject(a)}):b.resolve(a),b.promise},g.default._bulkObjFileCheck=function(a){for(var b=new g.default.Promise,c=[],d=0;d<a.length;d++)c.push(g.default._fileCheck(a[d]));return g.default.Promise.all(c).then(function(){b.resolve(arguments)},function(a){b.reject(a)}),b.promise},g.default._generateHash=function(){for(var a="",b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",c=0;c<8;c++)a+=b.charAt(Math.floor(Math.random()*b.length));return a},g.default._isJsonString=function(a){try{JSON.parse(a)}catch(b){return!1}return!0},g.default._isJsonObject=function(a){try{JSON.stringify(a)}catch(b){return!1}return!0},g.default._getCookie=function(a){if("undefined"!=typeof Storage){if(new Date(localStorage.getItem(a+"_expires"))>new Date)return localStorage.getItem(a);g.default._deleteCookie(a)}else if("undefined"!=typeof document){for(var a=a+"=",b=document.cookie.split(";"),c=0;c<b.length;c++){for(var d=b[c];" "==d.charAt(0);)d=d.substring(1);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return""}},g.default._deleteCookie=function(a){if("undefined"!=typeof Storage)localStorage.removeItem(a),localStorage.removeItem(a+"_expires");else if("undefined"!=typeof document){var b=new Date;b.setTime(b.getTime()+0);var c="expires="+b.toUTCString();document.cookie=a+"=NaN"+c}},g.default._createCookie=function(a,b,c){var d=new Date;if(d.setTime(d.getTime()+c),"undefined"!=typeof Storage)localStorage.setItem(a,b.toString()),localStorage.setItem(a+"_expires",d);else if("undefined"!=typeof document){var c="expires="+d.toUTCString();document.cookie=+a+"="+b.toString()+"; "+c}},g.default._getQuerystringByKey=function(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b=new RegExp("[\\?&]"+a+"=([^&#]*)"),c=b.exec(location.search);return null===c?"":decodeURIComponent(c[1].replace(/\+/g," "))},"undefined"!=typeof location&&location.search){var h=g.default._getQuerystringByKey("cbtoken");h&&""!==h&&localStorage.setItem("sessionID",h)}g.default._getThisBrowserName=function(){if("undefined"!=typeof window){var a="navigator"in window&&"userAgent"in navigator&&navigator.userAgent.toLowerCase()||"",b="navigator"in window&&"vendor"in navigator&&navigator.vendor.toLowerCase()||"",c=("navigator"in window&&"appVersion"in navigator&&navigator.appVersion.toLowerCase(),{});return c.chrome=function(){return/chrome|chromium/i.test(a)&&/google inc/.test(b)},c.firefox=function(){return/firefox/i.test(a)},c.edge=function(){return/edge/i.test(a)},c.ie=function(b){return b?b>=11?"ActiveXObject"in window:new RegExp("msie "+b).test(a):/msie/i.test(a)||"ActiveXObject"in window},c.opera=function(){return/^Opera\//.test(a)||/\x20OPR\//.test(a)},c.safari=function(){return/safari/i.test(a)&&/apple computer/i.test(b)},c.chrome()?"chrome":c.firefox()?"firefox":c.edge()?"edge":c.ie()?"ie":c.opera()?"opera":c.safari()?"safari":"unidentified"}},b.default=!0},function(a,b){(function(b){!function(){"use strict";function c(){}var d;d=c,d.prototype.getItem=function(a){
return this.hasOwnProperty(a)?String(this[a]):null},d.prototype.setItem=function(a,b){this[a]=String(b)},d.prototype.removeItem=function(a){delete this[a]},d.prototype.clear=function(){var a=this;Object.keys(a).forEach(function(b){a[b]=void 0,delete a[b]})},d.prototype.key=function(a){return a=a||0,Object.keys(this)[a]},d.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),b.localStorage?a.exports=localStorage:a.exports=new c}()}).call(b,function(){return this}())},function(b,c){b.exports=a},function(a,b,c){a.exports=c(9)},function(a,b,c){"use strict";function d(a){var b=new g(a),c=f(g.prototype.request,b);return e.extend(c,g.prototype,b),e.extend(c,b),c}var e=c(10),f=c(11),g=c(12),h=d();h.Axios=g,h.create=function(a){return d(a)},h.all=function(a){return Promise.all(a)},h.spread=c(29),a.exports=h,a.exports.default=h},function(a,b,c){"use strict";function d(a){return"[object Array]"===x.call(a)}function e(a){return"[object ArrayBuffer]"===x.call(a)}function f(a){return"undefined"!=typeof FormData&&a instanceof FormData}function g(a){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(a):a&&a.buffer&&a.buffer instanceof ArrayBuffer}function h(a){return"string"==typeof a}function i(a){return"number"==typeof a}function j(a){return void 0===a}function k(a){return null!==a&&"object"==typeof a}function l(a){return"[object Date]"===x.call(a)}function m(a){return"[object File]"===x.call(a)}function n(a){return"[object Blob]"===x.call(a)}function o(a){return"[object Function]"===x.call(a)}function p(a){return k(a)&&o(a.pipe)}function q(a){return"undefined"!=typeof URLSearchParams&&a instanceof URLSearchParams}function r(a){return a.replace(/^\s*/,"").replace(/\s*$/,"")}function s(){return"undefined"!=typeof window&&"undefined"!=typeof document&&"function"==typeof document.createElement}function t(a,b){if(null!==a&&void 0!==a)if("object"==typeof a||d(a)||(a=[a]),d(a))for(var c=0,e=a.length;c<e;c++)b.call(null,a[c],c,a);else for(var f in a)a.hasOwnProperty(f)&&b.call(null,a[f],f,a)}function u(){function a(a,c){"object"==typeof b[c]&&"object"==typeof a?b[c]=u(b[c],a):b[c]=a}for(var b={},c=0,d=arguments.length;c<d;c++)t(arguments[c],a);return b}function v(a,b,c){return t(b,function(b,d){a[d]=c&&"function"==typeof b?w(b,c):b}),a}var w=c(11),x=Object.prototype.toString;a.exports={isArray:d,isArrayBuffer:e,isFormData:f,isArrayBufferView:g,isString:h,isNumber:i,isObject:k,isUndefined:j,isDate:l,isFile:m,isBlob:n,isFunction:o,isStream:p,isURLSearchParams:q,isStandardBrowserEnv:s,forEach:t,merge:u,extend:v,trim:r}},function(a,b){"use strict";a.exports=function(a,b){return function(){for(var c=new Array(arguments.length),d=0;d<c.length;d++)c[d]=arguments[d];return a.apply(b,c)}}},function(a,b,c){"use strict";function d(a){this.defaults=f.merge(e,a),this.interceptors={request:new g,response:new g}}var e=c(13),f=c(10),g=c(15),h=c(16),i=c(27),j=c(28);d.prototype.request=function(a){"string"==typeof a&&(a=f.merge({url:arguments[0]},arguments[1])),a=f.merge(e,this.defaults,{method:"get"},a),a.baseURL&&!i(a.url)&&(a.url=j(a.baseURL,a.url));var b=[h,void 0],c=Promise.resolve(a);for(this.interceptors.request.forEach(function(a){b.unshift(a.fulfilled,a.rejected)}),this.interceptors.response.forEach(function(a){b.push(a.fulfilled,a.rejected)});b.length;)c=c.then(b.shift(),b.shift());return c},f.forEach(["delete","get","head"],function(a){d.prototype[a]=function(b,c){return this.request(f.merge(c||{},{method:a,url:b}))}}),f.forEach(["post","put","patch"],function(a){d.prototype[a]=function(b,c,d){return this.request(f.merge(d||{},{method:a,url:b,data:c}))}}),a.exports=d},function(a,b,c){"use strict";function d(a,b){!e.isUndefined(a)&&e.isUndefined(a["Content-Type"])&&(a["Content-Type"]=b)}var e=c(10),f=c(14),g=/^\)\]\}',?\n/,h={"Content-Type":"application/x-www-form-urlencoded"};a.exports={transformRequest:[function(a,b){return f(b,"Content-Type"),e.isFormData(a)||e.isArrayBuffer(a)||e.isStream(a)||e.isFile(a)||e.isBlob(a)?a:e.isArrayBufferView(a)?a.buffer:e.isURLSearchParams(a)?(d(b,"application/x-www-form-urlencoded;charset=utf-8"),a.toString()):e.isObject(a)?(d(b,"application/json;charset=utf-8"),JSON.stringify(a)):a}],transformResponse:[function(a){if("string"==typeof a){a=a.replace(g,"");try{a=JSON.parse(a)}catch(b){}}return a}],headers:{common:{Accept:"application/json, text/plain, */*"},patch:e.merge(h),post:e.merge(h),put:e.merge(h)},timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(a){return a>=200&&a<300}}},function(a,b,c){"use strict";var d=c(10);a.exports=function(a,b){d.forEach(a,function(c,d){d!==b&&d.toUpperCase()===b.toUpperCase()&&(a[b]=c,delete a[d])})}},function(a,b,c){"use strict";function d(){this.handlers=[]}var e=c(10);d.prototype.use=function(a,b){return this.handlers.push({fulfilled:a,rejected:b}),this.handlers.length-1},d.prototype.eject=function(a){this.handlers[a]&&(this.handlers[a]=null)},d.prototype.forEach=function(a){e.forEach(this.handlers,function(b){null!==b&&a(b)})},a.exports=d},function(a,b,c){(function(b){"use strict";var d=c(10),e=c(17);a.exports=function(a){a.headers=a.headers||{},a.data=e(a.data,a.headers,a.transformRequest),a.headers=d.merge(a.headers.common||{},a.headers[a.method]||{},a.headers||{}),d.forEach(["delete","get","head","post","put","patch","common"],function(b){delete a.headers[b]});var f;return"function"==typeof a.adapter?f=a.adapter:"undefined"!=typeof XMLHttpRequest?f=c(18):void 0!==b&&(f=c(18)),Promise.resolve(a).then(f).then(function(b){return b.data=e(b.data,b.headers,a.transformResponse),b},function(b){return b&&b.response&&(b.response.data=e(b.response.data,b.response.headers,a.transformResponse)),Promise.reject(b)})}}).call(b,c(2))},function(a,b,c){"use strict";var d=c(10);a.exports=function(a,b,c){return d.forEach(c,function(c){a=c(a,b)}),a}},function(a,b,c){(function(b){"use strict";var d=c(10),e=c(19),f=c(22),g=c(23),h=c(24),i=c(20),j="undefined"!=typeof window&&window.btoa||c(25);a.exports=function(a){return new Promise(function(k,l){var m=a.data,n=a.headers;d.isFormData(m)&&delete n["Content-Type"];var o=new XMLHttpRequest,p="onreadystatechange",q=!1;if("test"===b.env.NODE_ENV||"undefined"==typeof window||!window.XDomainRequest||"withCredentials"in o||h(a.url)||(o=new window.XDomainRequest,p="onload",q=!0,o.onprogress=function(){},o.ontimeout=function(){}),a.auth){var r=a.auth.username||"",s=a.auth.password||"";n.Authorization="Basic "+j(r+":"+s)}if(o.open(a.method.toUpperCase(),f(a.url,a.params,a.paramsSerializer),!0),o.timeout=a.timeout,o[p]=function(){if(o&&(4===o.readyState||q)&&0!==o.status){var b="getAllResponseHeaders"in o?g(o.getAllResponseHeaders()):null,c=a.responseType&&"text"!==a.responseType?o.response:o.responseText,d={data:c,status:1223===o.status?204:o.status,statusText:1223===o.status?"No Content":o.statusText,headers:b,config:a,request:o};e(k,l,d),o=null}},o.onerror=function(){l(i("Network Error",a)),o=null},o.ontimeout=function(){l(i("timeout of "+a.timeout+"ms exceeded",a,"ECONNABORTED")),o=null},d.isStandardBrowserEnv()){var t=c(26),u=(a.withCredentials||h(a.url))&&a.xsrfCookieName?t.read(a.xsrfCookieName):void 0;u&&(n[a.xsrfHeaderName]=u)}if("setRequestHeader"in o&&d.forEach(n,function(a,b){void 0===m&&"content-type"===b.toLowerCase()?delete n[b]:o.setRequestHeader(b,a)}),a.withCredentials&&(o.withCredentials=!0),a.responseType)try{o.responseType=a.responseType}catch(v){if("json"!==o.responseType)throw v}"function"==typeof a.onDownloadProgress&&o.addEventListener("progress",a.onDownloadProgress),"function"==typeof a.onUploadProgress&&o.upload&&o.upload.addEventListener("progress",a.onUploadProgress),void 0===m&&(m=null),o.send(m)})}}).call(b,c(2))},function(a,b,c){"use strict";var d=c(20);a.exports=function(a,b,c){var e=c.config.validateStatus;c.status&&e&&!e(c.status)?b(d("Request failed with status code "+c.status,c.config,null,c)):a(c)}},function(a,b,c){"use strict";var d=c(21);a.exports=function(a,b,c,e){var f=new Error(a);return d(f,b,c,e)}},function(a,b){"use strict";a.exports=function(a,b,c,d){return a.config=b,c&&(a.code=c),a.response=d,a}},function(a,b,c){"use strict";function d(a){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var e=c(10);a.exports=function(a,b,c){if(!b)return a;var f;if(c)f=c(b);else if(e.isURLSearchParams(b))f=b.toString();else{var g=[];e.forEach(b,function(a,b){null!==a&&void 0!==a&&(e.isArray(a)&&(b+="[]"),e.isArray(a)||(a=[a]),e.forEach(a,function(a){e.isDate(a)?a=a.toISOString():e.isObject(a)&&(a=JSON.stringify(a)),g.push(d(b)+"="+d(a))}))}),f=g.join("&")}return f&&(a+=(-1===a.indexOf("?")?"?":"&")+f),a}},function(a,b,c){"use strict";var d=c(10);a.exports=function(a){var b,c,e,f={};return a?(d.forEach(a.split("\n"),function(a){e=a.indexOf(":"),b=d.trim(a.substr(0,e)).toLowerCase(),c=d.trim(a.substr(e+1)),b&&(f[b]=f[b]?f[b]+", "+c:c)}),f):f}},function(a,b,c){"use strict";var d=c(10);a.exports=d.isStandardBrowserEnv()?function(){function a(a){var b=a;return c&&(e.setAttribute("href",b),b=e.href),e.setAttribute("href",b),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:"/"===e.pathname.charAt(0)?e.pathname:"/"+e.pathname}}var b,c=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");return b=a(window.location.href),function(c){var e=d.isString(c)?a(c):c;return e.protocol===b.protocol&&e.host===b.host}}():function(){return function(){return!0}}()},function(a,b){"use strict";function c(){this.message="String contains an invalid character"}function d(a){for(var b,d,f=String(a),g="",h=0,i=e;f.charAt(0|h)||(i="=",h%1);g+=i.charAt(63&b>>8-h%1*8)){if((d=f.charCodeAt(h+=.75))>255)throw new c;b=b<<8|d}return g}var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";c.prototype=new Error,c.prototype.code=5,c.prototype.name="InvalidCharacterError",a.exports=d},function(a,b,c){"use strict";var d=c(10);a.exports=d.isStandardBrowserEnv()?function(){return{write:function(a,b,c,e,f,g){var h=[];h.push(a+"="+encodeURIComponent(b)),d.isNumber(c)&&h.push("expires="+new Date(c).toGMTString()),d.isString(e)&&h.push("path="+e),d.isString(f)&&h.push("domain="+f),!0===g&&h.push("secure"),document.cookie=h.join("; ")},read:function(a){var b=document.cookie.match(new RegExp("(^|;\\s*)("+a+")=([^;]*)"));return b?decodeURIComponent(b[3]):null},remove:function(a){this.write(a,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},function(a,b){"use strict";a.exports=function(a){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(a)}},function(a,b){"use strict";a.exports=function(a,b){return a.replace(/\/+$/,"")+"/"+b.replace(/^\/+/,"")}},function(a,b){"use strict";a.exports=function(a){return function(b){return a.apply(null,b)}}},function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a){j.default._request("GET","https://api.cloudboost.io/status").then(function(a){j.default.CloudApp._isConnected=!0},function(a){j.default.CloudApp._isConnected=!1})}Object.defineProperty(b,"__esModule",{value:!0});var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(1),j=d(i),k=function(){function a(){e(this,a),this._isConnected=!1}return h(a,[{key:"init",value:function(a,b,d,e){d?j.default.apiUrl=a:(d=b,b=a),"object"===(void 0===d?"undefined":g(d))&&(e=d,d=b,b=a),j.default.appId=b,j.default.appKey=d,e&&!0===e.disableRealtime?j.default._isRealtimeDisabled=!0:j.default._isNode?(j.default.io=c(31),j.default.Socket=j.default.io(j.default.apiUrl,{jsonp:!1,transports:["websocket"]})):(j.default.io=c(32),j.default.Socket=j.default.io(j.default.apiUrl)),j.default.CloudApp._isConnected=!0,f(),this.onConnect(function(){j.default.CloudApp._isConnected=!0,j.default.CloudObject.sync()}),this.onDisconnect(function(){j.default.CloudApp._isConnected=!1})}},{key:"onConnect",value:function(a){if(j.default._validate(),!j.default.Socket)throw"Socket couldn't be found. Init app first.";j.default.Socket.on("connect",a)}},{key:"onDisconnect",value:function(a){if(j.default._validate(),!j.default.Socket)throw"Socket couldn't be found. Init app first.";j.default.Socket.on("disconnect",a)}},{key:"connect",value:function(){if(j.default._validate(),!j.default.Socket)throw"Socket couldn't be found. Init app first.";j.default.Socket.connect(),this._isConnected=!0}},{key:"disconnect",value:function(){if(j.default._validate(),!j.default.Socket)throw"Socket couldn't be found. Init app first.";j.default.Socket.emit("socket-disconnect",j.default.appId),this._isConnected=!1}}]),a}();j.default.CloudApp=new k,b.default=k},function(a,c){a.exports=b},function(a,b,c){var d,e,f,g,g;(function(c){var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};CB._isNode||function(c){if("object"===h(b)&&void 0!==a)a.exports=c();else{e=[],d=c,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}}(function(){var a;return function a(b,c,d){function e(h,i){if(!c[h]){if(!b[h]){var j="function"==typeof g&&g;if(!i&&j)return g(h,!0);if(f)return f(h,!0);var k=new Error("Cannot find module '"+h+"'");throw k.code="MODULE_NOT_FOUND",k}var l=c[h]={exports:{}};b[h][0].call(l.exports,function(a){var c=b[h][1][a];return e(c||a)},l,l.exports,a,b,c,d)}return c[h].exports}for(var f="function"==typeof g&&g,h=0;h<d.length;h++)e(d[h]);return e}({1:[function(a,b,c){b.exports=a("./lib/")},{"./lib/":2}],2:[function(a,b,c){b.exports=a("./socket"),b.exports.parser=a("engine.io-parser")},{"./socket":3,"engine.io-parser":19}],3:[function(a,b,d){(function(c){function d(a,b){if(!(this instanceof d))return new d(a,b);b=b||{},a&&"object"==(void 0===a?"undefined":h(a))&&(b=a,a=null),a?(a=l(a),b.hostname=a.host,b.secure="https"==a.protocol||"wss"==a.protocol,b.port=a.port,a.query&&(b.query=a.query)):b.host&&(b.hostname=l(b.host).host),this.secure=null!=b.secure?b.secure:c.location&&"https:"==location.protocol,b.hostname&&!b.port&&(b.port=this.secure?"443":"80"),this.agent=b.agent||!1,this.hostname=b.hostname||(c.location?location.hostname:"localhost"),this.port=b.port||(c.location&&location.port?location.port:this.secure?443:80),this.query=b.query||{},"string"==typeof this.query&&(this.query=n.decode(this.query)),this.upgrade=!1!==b.upgrade,this.path=(b.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!b.forceJSONP,this.jsonp=!1!==b.jsonp,this.forceBase64=!!b.forceBase64,this.enablesXDR=!!b.enablesXDR,this.timestampParam=b.timestampParam||"t",this.timestampRequests=b.timestampRequests,this.transports=b.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.policyPort=b.policyPort||843,this.rememberUpgrade=b.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=b.onlyBinaryUpgrades,this.perMessageDeflate=!1!==b.perMessageDeflate&&(b.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=b.pfx||null,this.key=b.key||null,this.passphrase=b.passphrase||null,this.cert=b.cert||null,this.ca=b.ca||null,this.ciphers=b.ciphers||null,this.rejectUnauthorized=void 0===b.rejectUnauthorized?null:b.rejectUnauthorized;var e="object"==(void 0===c?"undefined":h(c))&&c;e.global===e&&b.extraHeaders&&Object.keys(b.extraHeaders).length>0&&(this.extraHeaders=b.extraHeaders),this.open()}function e(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}var f=a("./transports"),g=a("component-emitter"),i=a("debug")("engine.io-client:socket"),j=a("indexof"),k=a("engine.io-parser"),l=a("parseuri"),m=a("parsejson"),n=a("parseqs");b.exports=d,d.priorWebsocketSuccess=!1,g(d.prototype),d.protocol=k.protocol,d.Socket=d,d.Transport=a("./transport"),d.transports=a("./transports"),d.parser=a("engine.io-parser"),d.prototype.createTransport=function(a){i('creating transport "%s"',a);var b=e(this.query);return b.EIO=k.protocol,b.transport=a,this.id&&(b.sid=this.id),new f[a]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:b,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders})},d.prototype.open=function(){var a;if(this.rememberUpgrade&&d.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket"))a="websocket";else{if(0===this.transports.length){var b=this;return void setTimeout(function(){b.emit("error","No transports available")},0)}a=this.transports[0]}this.readyState="opening";try{a=this.createTransport(a)}catch(c){return this.transports.shift(),void this.open()}a.open(),this.setTransport(a)},d.prototype.setTransport=function(a){i("setting transport %s",a.name);var b=this;this.transport&&(i("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=a,a.on("drain",function(){b.onDrain()}).on("packet",function(a){b.onPacket(a)}).on("error",function(a){b.onError(a)}).on("close",function(){b.onClose("transport close")})},d.prototype.probe=function(a){function b(){if(m.onlyBinaryUpgrades){var b=!this.supportsBinary&&m.transport.supportsBinary;l=l||b}l||(i('probe transport "%s" opened',a),k.send([{type:"ping",data:"probe"}]),k.once("packet",function(b){if(!l)if("pong"==b.type&&"probe"==b.data){if(i('probe transport "%s" pong',a),m.upgrading=!0,m.emit("upgrading",k),!k)return;d.priorWebsocketSuccess="websocket"==k.name,i('pausing current transport "%s"',m.transport.name),m.transport.pause(function(){l||"closed"!=m.readyState&&(i("changing transport and sending upgrade packet"),j(),m.setTransport(k),k.send([{type:"upgrade"}]),m.emit("upgrade",k),k=null,m.upgrading=!1,m.flush())})}else{i('probe transport "%s" failed',a);var c=new Error("probe error");c.transport=k.name,m.emit("upgradeError",c)}}))}function c(){l||(l=!0,j(),k.close(),k=null)}function e(b){var d=new Error("probe error: "+b);d.transport=k.name,c(),i('probe transport "%s" failed because of error: %s',a,b),m.emit("upgradeError",d)}function f(){e("transport closed")}function g(){e("socket closed")}function h(a){k&&a.name!=k.name&&(i('"%s" works - aborting "%s"',a.name,k.name),c())}function j(){k.removeListener("open",b),k.removeListener("error",e),k.removeListener("close",f),m.removeListener("close",g),m.removeListener("upgrading",h)}i('probing transport "%s"',a);var k=this.createTransport(a,{probe:1}),l=!1,m=this;d.priorWebsocketSuccess=!1,k.once("open",b),k.once("error",e),k.once("close",f),this.once("close",g),this.once("upgrading",h),k.open()},d.prototype.onOpen=function(){if(i("socket open"),this.readyState="open",d.priorWebsocketSuccess="websocket"==this.transport.name,this.emit("open"),this.flush(),"open"==this.readyState&&this.upgrade&&this.transport.pause){i("starting upgrade probes");for(var a=0,b=this.upgrades.length;a<b;a++)this.probe(this.upgrades[a])}},d.prototype.onPacket=function(a){if("opening"==this.readyState||"open"==this.readyState)switch(i('socket receive: type "%s", data "%s"',a.type,a.data),this.emit("packet",a),this.emit("heartbeat"),a.type){case"open":this.onHandshake(m(a.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var b=new Error("server error");b.code=a.data,this.onError(b);break;case"message":this.emit("data",a.data),this.emit("message",a.data)}else i('packet received with socket readyState "%s"',this.readyState)},d.prototype.onHandshake=function(a){this.emit("handshake",a),this.id=a.sid,this.transport.query.sid=a.sid,this.upgrades=this.filterUpgrades(a.upgrades),this.pingInterval=a.pingInterval,this.pingTimeout=a.pingTimeout,this.onOpen(),"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},d.prototype.onHeartbeat=function(a){clearTimeout(this.pingTimeoutTimer);var b=this;b.pingTimeoutTimer=setTimeout(function(){"closed"!=b.readyState&&b.onClose("ping timeout")},a||b.pingInterval+b.pingTimeout)},d.prototype.setPing=function(){var a=this;clearTimeout(a.pingIntervalTimer),a.pingIntervalTimer=setTimeout(function(){i("writing ping packet - expecting pong within %sms",a.pingTimeout),a.ping(),a.onHeartbeat(a.pingTimeout)},a.pingInterval)},d.prototype.ping=function(){var a=this;this.sendPacket("ping",function(){a.emit("ping")})},d.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},d.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(i("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},d.prototype.write=d.prototype.send=function(a,b,c){return this.sendPacket("message",a,b,c),this},d.prototype.sendPacket=function(a,b,c,d){if("function"==typeof b&&(d=b,b=void 0),"function"==typeof c&&(d=c,c=null),"closing"!=this.readyState&&"closed"!=this.readyState){c=c||{},c.compress=!1!==c.compress;var e={type:a,data:b,options:c};this.emit("packetCreate",e),this.writeBuffer.push(e),d&&this.once("flush",d),this.flush()}},d.prototype.close=function(){function a(){d.onClose("forced close"),i("socket closing - telling transport to close"),d.transport.close()}function b(){d.removeListener("upgrade",b),d.removeListener("upgradeError",b),a()}function c(){d.once("upgrade",b),d.once("upgradeError",b)}if("opening"==this.readyState||"open"==this.readyState){this.readyState="closing";var d=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?c():a()}):this.upgrading?c():a()}return this},d.prototype.onError=function(a){i("socket error %j",a),d.priorWebsocketSuccess=!1,this.emit("error",a),this.onClose("transport error",a)},d.prototype.onClose=function(a,b){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState){i('socket close with reason: "%s"',a);var c=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",a,b),c.writeBuffer=[],c.prevBufferLen=0}},d.prototype.filterUpgrades=function(a){for(var b=[],c=0,d=a.length;c<d;c++)~j(this.transports,a[c])&&b.push(a[c]);return b}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==c?c:{})},{"./transport":4,"./transports":5,"component-emitter":15,debug:17,"engine.io-parser":19,indexof:23,parsejson:26,parseqs:27,parseuri:28}],4:[function(a,b,c){function d(a){this.path=a.path,this.hostname=a.hostname,this.port=a.port,this.secure=a.secure,this.query=a.query,this.timestampParam=a.timestampParam,this.timestampRequests=a.timestampRequests,this.readyState="",this.agent=a.agent||!1,this.socket=a.socket,this.enablesXDR=a.enablesXDR,this.pfx=a.pfx,this.key=a.key,this.passphrase=a.passphrase,this.cert=a.cert,this.ca=a.ca,this.ciphers=a.ciphers,this.rejectUnauthorized=a.rejectUnauthorized,this.extraHeaders=a.extraHeaders}var e=a("engine.io-parser"),f=a("component-emitter");b.exports=d,f(d.prototype),d.prototype.onError=function(a,b){var c=new Error(a);return c.type="TransportError",c.description=b,this.emit("error",c),this},d.prototype.open=function(){return"closed"!=this.readyState&&""!=this.readyState||(this.readyState="opening",this.doOpen()),this},d.prototype.close=function(){return"opening"!=this.readyState&&"open"!=this.readyState||(this.doClose(),this.onClose()),this},d.prototype.send=function(a){if("open"!=this.readyState)throw new Error("Transport not open");this.write(a)},d.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},d.prototype.onData=function(a){var b=e.decodePacket(a,this.socket.binaryType);this.onPacket(b)},d.prototype.onPacket=function(a){this.emit("packet",a)},d.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":15,"engine.io-parser":19}],5:[function(a,b,d){(function(b){function c(a){var c=!1,d=!1,h=!1!==a.jsonp;if(b.location){var i="https:"==location.protocol,j=location.port;j||(j=i?443:80),c=a.hostname!=location.hostname||j!=a.port,d=a.secure!=i}if(a.xdomain=c,a.xscheme=d,"open"in new e(a)&&!a.forceJSONP)return new f(a);if(!h)throw new Error("JSONP disabled");return new g(a)}var e=a("xmlhttprequest-ssl"),f=a("./polling-xhr"),g=a("./polling-jsonp"),h=a("./websocket");d.polling=c,d.websocket=h}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==c?c:{})},{"./polling-jsonp":6,"./polling-xhr":7,"./websocket":9,"xmlhttprequest-ssl":10}],6:[function(a,b,d){(function(c){function d(){}function e(a){f.call(this,a),this.query=this.query||{},h||(c.___eio||(c.___eio=[]),h=c.___eio),this.index=h.length;var b=this;h.push(function(a){b.onData(a)}),this.query.j=this.index,c.document&&c.addEventListener&&c.addEventListener("beforeunload",function(){b.script&&(b.script.onerror=d)},!1)}var f=a("./polling"),g=a("component-inherit");b.exports=e;var h,i=/\n/g,j=/\\n/g;g(e,f),e.prototype.supportsBinary=!1,e.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),f.prototype.doClose.call(this)},e.prototype.doPoll=function(){var a=this,b=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),b.async=!0,b.src=this.uri(),b.onerror=function(b){a.onError("jsonp poll error",b)};var c=document.getElementsByTagName("script")[0];c?c.parentNode.insertBefore(b,c):(document.head||document.body).appendChild(b),this.script=b,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var a=document.createElement("iframe");document.body.appendChild(a),document.body.removeChild(a)},100)},e.prototype.doWrite=function(a,b){function c(){d(),b()}function d(){if(e.iframe)try{e.form.removeChild(e.iframe)}catch(b){e.onError("jsonp polling iframe removal error",b)}try{var a='<iframe src="javascript:0" name="'+e.iframeId+'">';f=document.createElement(a)}catch(b){f=document.createElement("iframe"),f.name=e.iframeId,f.src="javascript:0"}f.id=e.iframeId,e.form.appendChild(f),e.iframe=f}var e=this;if(!this.form){var f,g=document.createElement("form"),h=document.createElement("textarea"),k=this.iframeId="eio_iframe_"+this.index;g.className="socketio",g.style.position="absolute",g.style.top="-1000px",g.style.left="-1000px",g.target=k,g.method="POST",g.setAttribute("accept-charset","utf-8"),h.name="d",g.appendChild(h),document.body.appendChild(g),this.form=g,this.area=h}this.form.action=this.uri(),d(),a=a.replace(j,"\\\n"),this.area.value=a.replace(i,"\\n");try{this.form.submit()}catch(l){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==e.iframe.readyState&&c()}:this.iframe.onload=c}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==c?c:{})},{"./polling":8,"component-inherit":16}],7:[function(a,b,d){(function(c){function d(){}function e(a){if(i.call(this,a),c.location){var b="https:"==location.protocol,d=location.port;d||(d=b?443:80),this.xd=a.hostname!=c.location.hostname||d!=a.port,this.xs=a.secure!=b}else this.extraHeaders=a.extraHeaders}function f(a){this.method=a.method||"GET",this.uri=a.uri,this.xd=!!a.xd,this.xs=!!a.xs,this.async=!1!==a.async,this.data=void 0!=a.data?a.data:null,this.agent=a.agent,this.isBinary=a.isBinary,this.supportsBinary=a.supportsBinary,this.enablesXDR=a.enablesXDR,this.pfx=a.pfx,this.key=a.key,this.passphrase=a.passphrase,this.cert=a.cert,this.ca=a.ca,this.ciphers=a.ciphers,this.rejectUnauthorized=a.rejectUnauthorized,this.extraHeaders=a.extraHeaders,this.create()}function g(){for(var a in f.requests)f.requests.hasOwnProperty(a)&&f.requests[a].abort()}var h=a("xmlhttprequest-ssl"),i=a("./polling"),j=a("component-emitter"),k=a("component-inherit"),l=a("debug")("engine.io-client:polling-xhr");b.exports=e,b.exports.Request=f,k(e,i),e.prototype.supportsBinary=!0,e.prototype.request=function(a){return a=a||{},a.uri=this.uri(),a.xd=this.xd,a.xs=this.xs,a.agent=this.agent||!1,a.supportsBinary=this.supportsBinary,a.enablesXDR=this.enablesXDR,a.pfx=this.pfx,a.key=this.key,a.passphrase=this.passphrase,a.cert=this.cert,a.ca=this.ca,a.ciphers=this.ciphers,a.rejectUnauthorized=this.rejectUnauthorized,a.extraHeaders=this.extraHeaders,new f(a)},e.prototype.doWrite=function(a,b){var c="string"!=typeof a&&void 0!==a,d=this.request({method:"POST",data:a,isBinary:c}),e=this;d.on("success",b),d.on("error",function(a){e.onError("xhr post error",a)}),this.sendXhr=d},e.prototype.doPoll=function(){l("xhr poll");var a=this.request(),b=this;a.on("data",function(a){b.onData(a)}),a.on("error",function(a){b.onError("xhr poll error",a)}),this.pollXhr=a},j(f.prototype),f.prototype.create=function(){var a={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};a.pfx=this.pfx,a.key=this.key,a.passphrase=this.passphrase,a.cert=this.cert,a.ca=this.ca,a.ciphers=this.ciphers,a.rejectUnauthorized=this.rejectUnauthorized;var b=this.xhr=new h(a),d=this;try{l("xhr open %s: %s",this.method,this.uri),b.open(this.method,this.uri,this.async);try{if(this.extraHeaders){b.setDisableHeaderCheck(!0);for(var e in this.extraHeaders)this.extraHeaders.hasOwnProperty(e)&&b.setRequestHeader(e,this.extraHeaders[e])}}catch(g){}if(this.supportsBinary&&(b.responseType="arraybuffer"),"POST"==this.method)try{this.isBinary?b.setRequestHeader("Content-type","application/octet-stream"):b.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(g){}"withCredentials"in b&&(b.withCredentials=!0),this.hasXDR()?(b.onload=function(){d.onLoad()},b.onerror=function(){d.onError(b.responseText)}):b.onreadystatechange=function(){4==b.readyState&&(200==b.status||1223==b.status?d.onLoad():setTimeout(function(){d.onError(b.status)},0))},l("xhr data %s",this.data),b.send(this.data)}catch(g){return void setTimeout(function(){d.onError(g)},0)}c.document&&(this.index=f.requestsCount++,f.requests[this.index]=this)},f.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},f.prototype.onData=function(a){this.emit("data",a),this.onSuccess()},f.prototype.onError=function(a){this.emit("error",a),this.cleanup(!0)},f.prototype.cleanup=function(a){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=d:this.xhr.onreadystatechange=d,a)try{this.xhr.abort()}catch(b){}c.document&&delete f.requests[this.index],this.xhr=null}},f.prototype.onLoad=function(){var a;try{var b;try{b=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(g){}if("application/octet-stream"===b)a=this.xhr.response;else if(this.supportsBinary)try{
a=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(g){for(var c=new Uint8Array(this.xhr.response),d=[],e=0,f=c.length;e<f;e++)d.push(c[e]);a=String.fromCharCode.apply(null,d)}else a=this.xhr.responseText}catch(g){this.onError(g)}null!=a&&this.onData(a)},f.prototype.hasXDR=function(){return void 0!==c.XDomainRequest&&!this.xs&&this.enablesXDR},f.prototype.abort=function(){this.cleanup()},c.document&&(f.requestsCount=0,f.requests={},c.attachEvent?c.attachEvent("onunload",g):c.addEventListener&&c.addEventListener("beforeunload",g,!1))}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==c?c:{})},{"./polling":8,"component-emitter":15,"component-inherit":16,debug:17,"xmlhttprequest-ssl":10}],8:[function(a,b,c){function d(a){var b=a&&a.forceBase64;k&&!b||(this.supportsBinary=!1),e.call(this,a)}var e=a("../transport"),f=a("parseqs"),g=a("engine.io-parser"),h=a("component-inherit"),i=a("yeast"),j=a("debug")("engine.io-client:polling");b.exports=d;var k=function(){return null!=new(a("xmlhttprequest-ssl"))({xdomain:!1}).responseType}();h(d,e),d.prototype.name="polling",d.prototype.doOpen=function(){this.poll()},d.prototype.pause=function(a){function b(){j("paused"),c.readyState="paused",a()}var c=this;if(this.readyState="pausing",this.polling||!this.writable){var d=0;this.polling&&(j("we are currently polling - waiting to pause"),d++,this.once("pollComplete",function(){j("pre-pause polling complete"),--d||b()})),this.writable||(j("we are currently writing - waiting to pause"),d++,this.once("drain",function(){j("pre-pause writing complete"),--d||b()}))}else b()},d.prototype.poll=function(){j("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},d.prototype.onData=function(a){var b=this;j("polling got data %s",a);var c=function(a,c,d){if("opening"==b.readyState&&b.onOpen(),"close"==a.type)return b.onClose(),!1;b.onPacket(a)};g.decodePayload(a,this.socket.binaryType,c),"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():j('ignoring poll - transport state "%s"',this.readyState))},d.prototype.doClose=function(){function a(){j("writing close packet"),b.write([{type:"close"}])}var b=this;"open"==this.readyState?(j("transport open - closing"),a()):(j("transport not open - deferring close"),this.once("open",a))},d.prototype.write=function(a){var b=this;this.writable=!1;var c=function(){b.writable=!0,b.emit("drain")},b=this;g.encodePayload(a,this.supportsBinary,function(a){b.doWrite(a,c)})},d.prototype.uri=function(){var a=this.query||{},b=this.secure?"https":"http",c="";return!1!==this.timestampRequests&&(a[this.timestampParam]=i()),this.supportsBinary||a.sid||(a.b64=1),a=f.encode(a),this.port&&("https"==b&&443!=this.port||"http"==b&&80!=this.port)&&(c=":"+this.port),a.length&&(a="?"+a),b+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+c+this.path+a}},{"../transport":4,"component-inherit":16,debug:17,"engine.io-parser":19,parseqs:27,"xmlhttprequest-ssl":10,yeast:30}],9:[function(a,b,d){(function(c){function d(a){a&&a.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=a.perMessageDeflate,e.call(this,a)}var e=a("../transport"),f=a("engine.io-parser"),g=a("parseqs"),h=a("component-inherit"),i=a("yeast"),j=a("debug")("engine.io-client:websocket"),k=c.WebSocket||c.MozWebSocket,l=k;if(!l&&"undefined"==typeof window)try{l=a("ws")}catch(m){}b.exports=d,h(d,e),d.prototype.name="websocket",d.prototype.supportsBinary=!0,d.prototype.doOpen=function(){if(this.check()){var a=this.uri(),b={agent:this.agent,perMessageDeflate:this.perMessageDeflate};b.pfx=this.pfx,b.key=this.key,b.passphrase=this.passphrase,b.cert=this.cert,b.ca=this.ca,b.ciphers=this.ciphers,b.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(b.headers=this.extraHeaders),this.ws=k?new l(a):new l(a,void 0,b),void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="buffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},d.prototype.addEventListeners=function(){var a=this;this.ws.onopen=function(){a.onOpen()},this.ws.onclose=function(){a.onClose()},this.ws.onmessage=function(b){a.onData(b.data)},this.ws.onerror=function(b){a.onError("websocket error",b)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(d.prototype.onData=function(a){var b=this;setTimeout(function(){e.prototype.onData.call(b,a)},0)}),d.prototype.write=function(a){function b(){d.emit("flush"),setTimeout(function(){d.writable=!0,d.emit("drain")},0)}var d=this;this.writable=!1;for(var e=a.length,g=0,h=e;g<h;g++)!function(a){f.encodePacket(a,d.supportsBinary,function(f){if(!k){var g={};if(a.options&&(g.compress=a.options.compress),d.perMessageDeflate){("string"==typeof f?c.Buffer.byteLength(f):f.length)<d.perMessageDeflate.threshold&&(g.compress=!1)}}try{k?d.ws.send(f):d.ws.send(f,g)}catch(m){j("websocket closed before onclose event")}--e||b()})}(a[g])},d.prototype.onClose=function(){e.prototype.onClose.call(this)},d.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},d.prototype.uri=function(){var a=this.query||{},b=this.secure?"wss":"ws",c="";return this.port&&("wss"==b&&443!=this.port||"ws"==b&&80!=this.port)&&(c=":"+this.port),this.timestampRequests&&(a[this.timestampParam]=i()),this.supportsBinary||(a.b64=1),a=g.encode(a),a.length&&(a="?"+a),b+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+c+this.path+a},d.prototype.check=function(){return!(!l||"__initialize"in l&&this.name===d.prototype.name)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==c?c:{})},{"../transport":4,"component-inherit":16,debug:17,"engine.io-parser":19,parseqs:27,ws:void 0,yeast:30}],10:[function(a,b,c){var d=a("has-cors");b.exports=function(a){var b=a.xdomain,c=a.xscheme,e=a.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!b||d))return new XMLHttpRequest}catch(f){}try{if("undefined"!=typeof XDomainRequest&&!c&&e)return new XDomainRequest}catch(f){}if(!b)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(f){}}},{"has-cors":22}],11:[function(a,b,c){function d(a,b,c){function d(a,e){if(d.count<=0)throw new Error("after called too many times");--d.count,a?(f=!0,b(a),b=c):0!==d.count||f||b(null,e)}var f=!1;return c=c||e,d.count=a,0===a?b():d}function e(){}b.exports=d},{}],12:[function(a,b,c){b.exports=function(a,b,c){var d=a.byteLength;if(b=b||0,c=c||d,a.slice)return a.slice(b,c);if(b<0&&(b+=d),c<0&&(c+=d),c>d&&(c=d),b>=d||b>=c||0===d)return new ArrayBuffer(0);for(var e=new Uint8Array(a),f=new Uint8Array(c-b),g=b,h=0;g<c;g++,h++)f[h]=e[g];return f.buffer}},{}],13:[function(a,b,c){!function(a){"use strict";c.encode=function(b){var c,d=new Uint8Array(b),e=d.length,f="";for(c=0;c<e;c+=3)f+=a[d[c]>>2],f+=a[(3&d[c])<<4|d[c+1]>>4],f+=a[(15&d[c+1])<<2|d[c+2]>>6],f+=a[63&d[c+2]];return e%3==2?f=f.substring(0,f.length-1)+"=":e%3==1&&(f=f.substring(0,f.length-2)+"=="),f},c.decode=function(b){var c,d,e,f,g,h=.75*b.length,i=b.length,j=0;"="===b[b.length-1]&&(h--,"="===b[b.length-2]&&h--);var k=new ArrayBuffer(h),l=new Uint8Array(k);for(c=0;c<i;c+=4)d=a.indexOf(b[c]),e=a.indexOf(b[c+1]),f=a.indexOf(b[c+2]),g=a.indexOf(b[c+3]),l[j++]=d<<2|e>>4,l[j++]=(15&e)<<4|f>>2,l[j++]=(3&f)<<6|63&g;return k}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],14:[function(a,b,d){(function(a){function c(a){for(var b=0;b<a.length;b++){var c=a[b];if(c.buffer instanceof ArrayBuffer){var d=c.buffer;if(c.byteLength!==d.byteLength){var e=new Uint8Array(c.byteLength);e.set(new Uint8Array(d,c.byteOffset,c.byteLength)),d=e.buffer}a[b]=d}}}function d(a,b){b=b||{};var d=new f;c(a);for(var e=0;e<a.length;e++)d.append(a[e]);return b.type?d.getBlob(b.type):d.getBlob()}function e(a,b){return c(a),new Blob(a,b||{})}var f=a.BlobBuilder||a.WebKitBlobBuilder||a.MSBlobBuilder||a.MozBlobBuilder,g=function(){try{return 2===new Blob(["hi"]).size}catch(a){return!1}}(),h=g&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(a){return!1}}(),i=f&&f.prototype.append&&f.prototype.getBlob;b.exports=function(){return g?h?a.Blob:e:i?d:void 0}()}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==c?c:{})},{}],15:[function(a,b,c){function d(a){if(a)return e(a)}function e(a){for(var b in d.prototype)a[b]=d.prototype[b];return a}b.exports=d,d.prototype.on=d.prototype.addEventListener=function(a,b){return this._callbacks=this._callbacks||{},(this._callbacks[a]=this._callbacks[a]||[]).push(b),this},d.prototype.once=function(a,b){function c(){d.off(a,c),b.apply(this,arguments)}var d=this;return this._callbacks=this._callbacks||{},c.fn=b,this.on(a,c),this},d.prototype.off=d.prototype.removeListener=d.prototype.removeAllListeners=d.prototype.removeEventListener=function(a,b){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var c=this._callbacks[a];if(!c)return this;if(1==arguments.length)return delete this._callbacks[a],this;for(var d,e=0;e<c.length;e++)if((d=c[e])===b||d.fn===b){c.splice(e,1);break}return this},d.prototype.emit=function(a){this._callbacks=this._callbacks||{};var b=[].slice.call(arguments,1),c=this._callbacks[a];if(c){c=c.slice(0);for(var d=0,e=c.length;d<e;++d)c[d].apply(this,b)}return this},d.prototype.listeners=function(a){return this._callbacks=this._callbacks||{},this._callbacks[a]||[]},d.prototype.hasListeners=function(a){return!!this.listeners(a).length}},{}],16:[function(a,b,c){b.exports=function(a,b){var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},{}],17:[function(a,b,c){function d(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function e(){var a=arguments,b=this.useColors;if(a[0]=(b?"%c":"")+this.namespace+(b?" %c":" ")+a[0]+(b?"%c ":" ")+"+"+c.humanize(this.diff),!b)return a;var d="color: "+this.color;a=[a[0],d,"color: inherit"].concat(Array.prototype.slice.call(a,1));var e=0,f=0;return a[0].replace(/%[a-z%]/g,function(a){"%%"!==a&&(e++,"%c"===a&&(f=e))}),a.splice(f,0,d),a}function f(){return"object"===("undefined"==typeof console?"undefined":h(console))&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function g(a){try{null==a?c.storage.removeItem("debug"):c.storage.debug=a}catch(b){}}function i(){var a;try{a=c.storage.debug}catch(b){}return a}function j(){try{return window.localStorage}catch(a){}}c=b.exports=a("./debug"),c.log=f,c.formatArgs=e,c.save=g,c.load=i,c.useColors=d,c.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:j(),c.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],c.formatters.j=function(a){return JSON.stringify(a)},c.enable(i())},{"./debug":18}],18:[function(a,b,c){function d(){return c.colors[k++%c.colors.length]}function e(a){function b(){}function e(){var a=e,b=+new Date,f=b-(j||b);a.diff=f,a.prev=j,a.curr=b,j=b,null==a.useColors&&(a.useColors=c.useColors()),null==a.color&&a.useColors&&(a.color=d());var g=Array.prototype.slice.call(arguments);g[0]=c.coerce(g[0]),"string"!=typeof g[0]&&(g=["%o"].concat(g));var h=0;g[0]=g[0].replace(/%([a-z%])/g,function(b,d){if("%%"===b)return b;h++;var e=c.formatters[d];if("function"==typeof e){var f=g[h];b=e.call(a,f),g.splice(h,1),h--}return b}),"function"==typeof c.formatArgs&&(g=c.formatArgs.apply(a,g)),(e.log||c.log||console.log.bind(console)).apply(a,g)}b.enabled=!1,e.enabled=!0;var f=c.enabled(a)?e:b;return f.namespace=a,f}function f(a){c.save(a);for(var b=(a||"").split(/[\s,]+/),d=b.length,e=0;e<d;e++)b[e]&&(a=b[e].replace(/\*/g,".*?"),"-"===a[0]?c.skips.push(new RegExp("^"+a.substr(1)+"$")):c.names.push(new RegExp("^"+a+"$")))}function g(){c.enable("")}function h(a){var b,d;for(b=0,d=c.skips.length;b<d;b++)if(c.skips[b].test(a))return!1;for(b=0,d=c.names.length;b<d;b++)if(c.names[b].test(a))return!0;return!1}function i(a){return a instanceof Error?a.stack||a.message:a}c=b.exports=e,c.coerce=i,c.disable=g,c.enable=f,c.enabled=h,c.humanize=a("ms"),c.names=[],c.skips=[],c.formatters={};var j,k=0},{ms:25}],19:[function(a,b,d){(function(b){function c(a,b){return b("b"+d.packets[a.type]+a.data.data)}function e(a,b,c){if(!b)return d.encodeBase64Packet(a,c);var e=a.data,f=new Uint8Array(e),g=new Uint8Array(1+e.byteLength);g[0]=r[a.type];for(var h=0;h<f.length;h++)g[h+1]=f[h];return c(g.buffer)}function f(a,b,c){if(!b)return d.encodeBase64Packet(a,c);var e=new FileReader;return e.onload=function(){a.data=e.result,d.encodePacket(a,b,!0,c)},e.readAsArrayBuffer(a.data)}function g(a,b,c){if(!b)return d.encodeBase64Packet(a,c);if(q)return f(a,b,c);var e=new Uint8Array(1);return e[0]=r[a.type],c(new u([e.buffer,a.data]))}function h(a,b,c){for(var d=new Array(a.length),e=m(a.length,c),f=function(a,c,e){b(c,function(b,c){d[a]=c,e(b,d)})},g=0;g<a.length;g++)f(g,a[g],e)}var i=a("./keys"),j=a("has-binary"),k=a("arraybuffer.slice"),l=a("base64-arraybuffer"),m=a("after"),n=a("utf8"),o=navigator.userAgent.match(/Android/i),p=/PhantomJS/i.test(navigator.userAgent),q=o||p;d.protocol=3;var r=d.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},s=i(r),t={type:"error",data:"parser error"},u=a("blob");d.encodePacket=function(a,d,f,h){"function"==typeof d&&(h=d,d=!1),"function"==typeof f&&(h=f,f=null);var i=void 0===a.data?void 0:a.data.buffer||a.data;if(b.ArrayBuffer&&i instanceof ArrayBuffer)return e(a,d,h);if(u&&i instanceof b.Blob)return g(a,d,h);if(i&&i.base64)return c(a,h);var j=r[a.type];return void 0!==a.data&&(j+=f?n.encode(String(a.data)):String(a.data)),h(""+j)},d.encodeBase64Packet=function(a,c){var e="b"+d.packets[a.type];if(u&&a.data instanceof b.Blob){var f=new FileReader;return f.onload=function(){var a=f.result.split(",")[1];c(e+a)},f.readAsDataURL(a.data)}var g;try{g=String.fromCharCode.apply(null,new Uint8Array(a.data))}catch(k){for(var h=new Uint8Array(a.data),i=new Array(h.length),j=0;j<h.length;j++)i[j]=h[j];g=String.fromCharCode.apply(null,i)}return e+=b.btoa(g),c(e)},d.decodePacket=function(a,b,c){if("string"==typeof a||void 0===a){if("b"==a.charAt(0))return d.decodeBase64Packet(a.substr(1),b);if(c)try{a=n.decode(a)}catch(h){return t}var e=a.charAt(0);return Number(e)==e&&s[e]?a.length>1?{type:s[e],data:a.substring(1)}:{type:s[e]}:t}var f=new Uint8Array(a),e=f[0],g=k(a,1);return u&&"blob"===b&&(g=new u([g])),{type:s[e],data:g}},d.decodeBase64Packet=function(a,c){var d=s[a.charAt(0)];if(!b.ArrayBuffer)return{type:d,data:{base64:!0,data:a.substr(1)}};var e=l.decode(a.substr(1));return"blob"===c&&u&&(e=new u([e])),{type:d,data:e}},d.encodePayload=function(a,b,c){function e(a){return a.length+":"+a}function f(a,c){d.encodePacket(a,!!g&&b,!0,function(a){c(null,e(a))})}"function"==typeof b&&(c=b,b=null);var g=j(a);return b&&g?u&&!q?d.encodePayloadAsBlob(a,c):d.encodePayloadAsArrayBuffer(a,c):a.length?void h(a,f,function(a,b){return c(b.join(""))}):c("0:")},d.decodePayload=function(a,b,c){if("string"!=typeof a)return d.decodePayloadAsBinary(a,b,c);"function"==typeof b&&(c=b,b=null);var e;if(""==a)return c(t,0,1);for(var f,g,h="",i=0,j=a.length;i<j;i++){var k=a.charAt(i);if(":"!=k)h+=k;else{if(""==h||h!=(f=Number(h)))return c(t,0,1);if(g=a.substr(i+1,f),h!=g.length)return c(t,0,1);if(g.length){if(e=d.decodePacket(g,b,!0),t.type==e.type&&t.data==e.data)return c(t,0,1);if(!1===c(e,i+f,j))return}i+=f,h=""}}return""!=h?c(t,0,1):void 0},d.encodePayloadAsArrayBuffer=function(a,b){function c(a,b){d.encodePacket(a,!0,!0,function(a){return b(null,a)})}if(!a.length)return b(new ArrayBuffer(0));h(a,c,function(a,c){var d=c.reduce(function(a,b){var c;return c="string"==typeof b?b.length:b.byteLength,a+c.toString().length+c+2},0),e=new Uint8Array(d),f=0;return c.forEach(function(a){var b="string"==typeof a,c=a;if(b){for(var d=new Uint8Array(a.length),g=0;g<a.length;g++)d[g]=a.charCodeAt(g);c=d.buffer}e[f++]=b?0:1;for(var h=c.byteLength.toString(),g=0;g<h.length;g++)e[f++]=parseInt(h[g]);e[f++]=255;for(var d=new Uint8Array(c),g=0;g<d.length;g++)e[f++]=d[g]}),b(e.buffer)})},d.encodePayloadAsBlob=function(a,b){function c(a,b){d.encodePacket(a,!0,!0,function(a){var c=new Uint8Array(1);if(c[0]=1,"string"==typeof a){for(var d=new Uint8Array(a.length),e=0;e<a.length;e++)d[e]=a.charCodeAt(e);a=d.buffer,c[0]=0}for(var f=a instanceof ArrayBuffer?a.byteLength:a.size,g=f.toString(),h=new Uint8Array(g.length+1),e=0;e<g.length;e++)h[e]=parseInt(g[e]);if(h[g.length]=255,u){var i=new u([c.buffer,h.buffer,a]);b(null,i)}})}h(a,c,function(a,c){return b(new u(c))})},d.decodePayloadAsBinary=function(a,b,c){"function"==typeof b&&(c=b,b=null);for(var e=a,f=[],g=!1;e.byteLength>0;){for(var h=new Uint8Array(e),i=0===h[0],j="",l=1;255!=h[l];l++){if(j.length>310){g=!0;break}j+=h[l]}if(g)return c(t,0,1);e=k(e,2+j.length),j=parseInt(j);var m=k(e,0,j);if(i)try{m=String.fromCharCode.apply(null,new Uint8Array(m))}catch(p){var n=new Uint8Array(m);m="";for(var l=0;l<n.length;l++)m+=String.fromCharCode(n[l])}f.push(m),e=k(e,j)}var o=f.length;f.forEach(function(a,e){c(d.decodePacket(a,b,!0),e,o)})}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==c?c:{})},{"./keys":20,after:11,"arraybuffer.slice":12,"base64-arraybuffer":13,blob:14,"has-binary":21,utf8:29}],20:[function(a,b,c){b.exports=Object.keys||function(a){var b=[],c=Object.prototype.hasOwnProperty;for(var d in a)c.call(a,d)&&b.push(d);return b}},{}],21:[function(a,b,d){(function(c){function d(a){function b(a){if(!a)return!1;if(c.Buffer&&c.Buffer.isBuffer(a)||c.ArrayBuffer&&a instanceof ArrayBuffer||c.Blob&&a instanceof Blob||c.File&&a instanceof File)return!0;if(e(a)){for(var d=0;d<a.length;d++)if(b(a[d]))return!0}else if(a&&"object"==(void 0===a?"undefined":h(a))){a.toJSON&&(a=a.toJSON());for(var f in a)if(Object.prototype.hasOwnProperty.call(a,f)&&b(a[f]))return!0}return!1}return b(a)}var e=a("isarray");b.exports=d}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==c?c:{})},{isarray:24}],22:[function(a,b,c){try{b.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(d){b.exports=!1}},{}],23:[function(a,b,c){var d=[].indexOf;b.exports=function(a,b){if(d)return a.indexOf(b);for(var c=0;c<a.length;++c)if(a[c]===b)return c;return-1}},{}],24:[function(a,b,c){b.exports=Array.isArray||function(a){return"[object Array]"==Object.prototype.toString.call(a)}},{}],25:[function(a,b,c){function d(a){if(a=""+a,!(a.length>1e4)){var b=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(a);if(b){var c=parseFloat(b[1]);switch((b[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*l;case"days":case"day":case"d":return c*k;case"hours":case"hour":case"hrs":case"hr":case"h":return c*j;case"minutes":case"minute":case"mins":case"min":case"m":return c*i;case"seconds":case"second":case"secs":case"sec":case"s":return c*h;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c}}}}function e(a){return a>=k?Math.round(a/k)+"d":a>=j?Math.round(a/j)+"h":a>=i?Math.round(a/i)+"m":a>=h?Math.round(a/h)+"s":a+"ms"}function f(a){return g(a,k,"day")||g(a,j,"hour")||g(a,i,"minute")||g(a,h,"second")||a+" ms"}function g(a,b,c){if(!(a<b))return a<1.5*b?Math.floor(a/b)+" "+c:Math.ceil(a/b)+" "+c+"s"}var h=1e3,i=60*h,j=60*i,k=24*j,l=365.25*k;b.exports=function(a,b){return b=b||{},"string"==typeof a?d(a):b.long?f(a):e(a)}},{}],26:[function(a,b,d){(function(a){var c=/^[\],:{}\s]*$/,d=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,e=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,f=/(?:^|:|,)(?:\s*\[)+/g,g=/^\s+/,h=/\s+$/;b.exports=function(b){return"string"==typeof b&&b?(b=b.replace(g,"").replace(h,""),a.JSON&&JSON.parse?JSON.parse(b):c.test(b.replace(d,"@").replace(e,"]").replace(f,""))?new Function("return "+b)():void 0):null}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==c?c:{})},{}],27:[function(a,b,c){c.encode=function(a){var b="";for(var c in a)a.hasOwnProperty(c)&&(b.length&&(b+="&"),b+=encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b},c.decode=function(a){for(var b={},c=a.split("&"),d=0,e=c.length;d<e;d++){var f=c[d].split("=");b[decodeURIComponent(f[0])]=decodeURIComponent(f[1])}return b}},{}],28:[function(a,b,c){var d=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,e=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];b.exports=function(a){var b=a,c=a.indexOf("["),f=a.indexOf("]");-1!=c&&-1!=f&&(a=a.substring(0,c)+a.substring(c,f).replace(/:/g,";")+a.substring(f,a.length));for(var g=d.exec(a||""),h={},i=14;i--;)h[e[i]]=g[i]||"";return-1!=c&&-1!=f&&(h.source=b,h.host=h.host.substring(1,h.host.length-1).replace(/;/g,":"),h.authority=h.authority.replace("[","").replace("]","").replace(/;/g,":"),h.ipv6uri=!0),h}},{}],29:[function(b,d,e){(function(b){!function(c){function f(a){for(var b,c,d=[],e=0,f=a.length;e<f;)b=a.charCodeAt(e++),b>=55296&&b<=56319&&e<f?(c=a.charCodeAt(e++),56320==(64512&c)?d.push(((1023&b)<<10)+(1023&c)+65536):(d.push(b),e--)):d.push(b);return d}function g(a){for(var b,c=a.length,d=-1,e="";++d<c;)b=a[d],b>65535&&(b-=65536,e+=v(b>>>10&1023|55296),b=56320|1023&b),e+=v(b);return e}function i(a){if(a>=55296&&a<=57343)throw Error("Lone surrogate U+"+a.toString(16).toUpperCase()+" is not a scalar value")}function j(a,b){return v(a>>b&63|128)}function k(a){if(0==(4294967168&a))return v(a);var b="";return 0==(4294965248&a)?b=v(a>>6&31|192):0==(4294901760&a)?(i(a),b=v(a>>12&15|224),b+=j(a,6)):0==(4292870144&a)&&(b=v(a>>18&7|240),b+=j(a,12),b+=j(a,6)),b+=v(63&a|128)}function l(a){for(var b,c=f(a),d=c.length,e=-1,g="";++e<d;)b=c[e],g+=k(b);return g}function m(){if(u>=t)throw Error("Invalid byte index");var a=255&s[u];if(u++,128==(192&a))return 63&a;throw Error("Invalid continuation byte")}function n(){var a,b,c,d,e;if(u>t)throw Error("Invalid byte index");if(u==t)return!1;if(a=255&s[u],u++,0==(128&a))return a;if(192==(224&a)){var b=m();if((e=(31&a)<<6|b)>=128)return e;throw Error("Invalid continuation byte")}if(224==(240&a)){if(b=m(),c=m(),(e=(15&a)<<12|b<<6|c)>=2048)return i(e),e;throw Error("Invalid continuation byte")}if(240==(248&a)&&(b=m(),c=m(),d=m(),(e=(15&a)<<18|b<<12|c<<6|d)>=65536&&e<=1114111))return e;throw Error("Invalid UTF-8 detected")}function o(a){s=f(a),t=s.length,u=0;for(var b,c=[];!1!==(b=n());)c.push(b);return g(c)}var p="object"==(void 0===e?"undefined":h(e))&&e,q="object"==(void 0===d?"undefined":h(d))&&d&&d.exports==p&&d,r="object"==(void 0===b?"undefined":h(b))&&b;r.global!==r&&r.window!==r||(c=r);var s,t,u,v=String.fromCharCode,w={version:"2.0.0",encode:l,decode:o};if("function"==typeof a&&"object"==h(a.amd)&&a.amd)a(function(){return w});else if(p&&!p.nodeType)if(q)q.exports=w;else{var x={},y=x.hasOwnProperty;for(var z in w)y.call(w,z)&&(p[z]=w[z])}else c.utf8=w}(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==c?c:{})},{}],30:[function(a,b,c){"use strict";function d(a){var b="";do{b=h[a%i]+b,a=Math.floor(a/i)}while(a>0);return b}function e(a){var b=0;for(l=0;l<a.length;l++)b=b*i+j[a.charAt(l)];return b}function f(){var a=d(+new Date);return a!==g?(k=0,g=a):a+"."+d(k++)}for(var g,h="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),i=64,j={},k=0,l=0;l<i;l++)j[h[l]]=l;f.encode=d,f.decode=e,b.exports=f},{}],31:[function(a,b,c){function d(a,b){"object"==(void 0===a?"undefined":h(a))&&(b=a,a=void 0),b=b||{};var c,d=e(a),f=d.source,k=d.id,l=d.path,m=j[k]&&l in j[k].nsps,n=b.forceNew||b["force new connection"]||!1===b.multiplex||m;return n?(i("ignoring socket cache for %s",f),c=g(f,b)):(j[k]||(i("new io instance for %s",f),j[k]=g(f,b)),c=j[k]),c.socket(d.path)}var e=a("./url"),f=a("socket.io-parser"),g=a("./manager"),i=a("debug")("socket.io-client");b.exports=c=d;var j=c.managers={};c.protocol=f.protocol,c.connect=d,c.Manager=a("./manager"),c.Socket=a("./socket")},{"./manager":32,"./socket":34,"./url":35,debug:39,"socket.io-parser":47}],32:[function(a,b,c){function d(a,b){if(!(this instanceof d))return new d(a,b);a&&"object"==(void 0===a?"undefined":h(a))&&(b=a,a=void 0),b=b||{},b.path=b.path||"/socket.io",this.nsps={},this.subs=[],this.opts=b,this.reconnection(!1!==b.reconnection),this.reconnectionAttempts(b.reconnectionAttempts||1/0),this.reconnectionDelay(b.reconnectionDelay||1e3),this.reconnectionDelayMax(b.reconnectionDelayMax||5e3),this.randomizationFactor(b.randomizationFactor||.5),this.backoff=new n({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==b.timeout?2e4:b.timeout),this.readyState="closed",this.uri=a,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[],this.encoder=new i.Encoder,this.decoder=new i.Decoder,this.autoConnect=!1!==b.autoConnect,this.autoConnect&&this.open()}var e=a("engine.io-client"),f=a("./socket"),g=a("component-emitter"),i=a("socket.io-parser"),j=a("./on"),k=a("component-bind"),l=a("debug")("socket.io-client:manager"),m=a("indexof"),n=a("backo2"),o=Object.prototype.hasOwnProperty;b.exports=d,d.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var a in this.nsps)o.call(this.nsps,a)&&this.nsps[a].emit.apply(this.nsps[a],arguments)},d.prototype.updateSocketIds=function(){for(var a in this.nsps)o.call(this.nsps,a)&&(this.nsps[a].id=this.engine.id)},g(d.prototype),d.prototype.reconnection=function(a){return arguments.length?(this._reconnection=!!a,this):this._reconnection},d.prototype.reconnectionAttempts=function(a){return arguments.length?(this._reconnectionAttempts=a,this):this._reconnectionAttempts},d.prototype.reconnectionDelay=function(a){return arguments.length?(this._reconnectionDelay=a,this.backoff&&this.backoff.setMin(a),this):this._reconnectionDelay},d.prototype.randomizationFactor=function(a){return arguments.length?(this._randomizationFactor=a,this.backoff&&this.backoff.setJitter(a),this):this._randomizationFactor},d.prototype.reconnectionDelayMax=function(a){return arguments.length?(this._reconnectionDelayMax=a,this.backoff&&this.backoff.setMax(a),this):this._reconnectionDelayMax},d.prototype.timeout=function(a){return arguments.length?(this._timeout=a,this):this._timeout},d.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},d.prototype.open=d.prototype.connect=function(a){if(l("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;l("opening %s",this.uri),this.engine=e(this.uri,this.opts);var b=this.engine,c=this;this.readyState="opening",this.skipReconnect=!1;var d=j(b,"open",function(){c.onopen(),a&&a()}),f=j(b,"error",function(b){if(l("connect_error"),c.cleanup(),c.readyState="closed",c.emitAll("connect_error",b),a){var d=new Error("Connection error");d.data=b,a(d)}else c.maybeReconnectOnOpen()});if(!1!==this._timeout){var g=this._timeout;l("connect attempt will timeout after %d",g);var h=setTimeout(function(){l("connect attempt timed out after %d",g),d.destroy(),b.close(),b.emit("error","timeout"),c.emitAll("connect_timeout",g)},g);this.subs.push({destroy:function(){clearTimeout(h)}})}return this.subs.push(d),this.subs.push(f),this},d.prototype.onopen=function(){l("open"),this.cleanup(),this.readyState="open",this.emit("open");var a=this.engine;this.subs.push(j(a,"data",k(this,"ondata"))),this.subs.push(j(a,"ping",k(this,"onping"))),this.subs.push(j(a,"pong",k(this,"onpong"))),this.subs.push(j(a,"error",k(this,"onerror"))),this.subs.push(j(a,"close",k(this,"onclose"))),this.subs.push(j(this.decoder,"decoded",k(this,"ondecoded")))},d.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},d.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},d.prototype.ondata=function(a){this.decoder.add(a)},d.prototype.ondecoded=function(a){this.emit("packet",a)},d.prototype.onerror=function(a){l("error",a),this.emitAll("error",a)},d.prototype.socket=function(a){function b(){~m(d.connecting,c)||d.connecting.push(c)}var c=this.nsps[a];if(!c){c=new f(this,a),this.nsps[a]=c;var d=this;c.on("connecting",b),c.on("connect",function(){c.id=d.engine.id}),this.autoConnect&&b()}return c},d.prototype.destroy=function(a){var b=m(this.connecting,a);~b&&this.connecting.splice(b,1),this.connecting.length||this.close()},d.prototype.packet=function(a){l("writing packet %j",a);var b=this;b.encoding?b.packetBuffer.push(a):(b.encoding=!0,this.encoder.encode(a,function(c){for(var d=0;d<c.length;d++)b.engine.write(c[d],a.options);b.encoding=!1,b.processPacketQueue()}))},d.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var a=this.packetBuffer.shift();this.packet(a)}},d.prototype.cleanup=function(){l("cleanup");for(var a;a=this.subs.shift();)a.destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},d.prototype.close=d.prototype.disconnect=function(){l("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"==this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},d.prototype.onclose=function(a){l("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",a),this._reconnection&&!this.skipReconnect&&this.reconnect()},d.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var a=this;if(this.backoff.attempts>=this._reconnectionAttempts)l("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var b=this.backoff.duration();l("will wait %dms before reconnect attempt",b),this.reconnecting=!0;var c=setTimeout(function(){a.skipReconnect||(l("attempting reconnect"),a.emitAll("reconnect_attempt",a.backoff.attempts),a.emitAll("reconnecting",a.backoff.attempts),a.skipReconnect||a.open(function(b){b?(l("reconnect attempt error"),a.reconnecting=!1,a.reconnect(),a.emitAll("reconnect_error",b.data)):(l("reconnect success"),a.onreconnect())}))},b);this.subs.push({destroy:function(){clearTimeout(c)}})}},d.prototype.onreconnect=function(){var a=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",a)}},{"./on":33,"./socket":34,backo2:36,"component-bind":37,"component-emitter":38,debug:39,"engine.io-client":1,indexof:42,"socket.io-parser":47}],33:[function(a,b,c){function d(a,b,c){return a.on(b,c),{destroy:function(){a.removeListener(b,c)}}}b.exports=d},{}],34:[function(a,b,c){function d(a,b){this.io=a,this.nsp=b,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.io.autoConnect&&this.open()}var e=a("socket.io-parser"),f=a("component-emitter"),g=a("to-array"),h=a("./on"),i=a("component-bind"),j=a("debug")("socket.io-client:socket"),k=a("has-binary");b.exports=d;var l={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},m=f.prototype.emit;f(d.prototype),d.prototype.subEvents=function(){if(!this.subs){var a=this.io;this.subs=[h(a,"open",i(this,"onopen")),h(a,"packet",i(this,"onpacket")),h(a,"close",i(this,"onclose"))]}},d.prototype.open=d.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"==this.io.readyState&&this.onopen(),this.emit("connecting"),this)},d.prototype.send=function(){var a=g(arguments);return a.unshift("message"),
this.emit.apply(this,a),this},d.prototype.emit=function(a){if(l.hasOwnProperty(a))return m.apply(this,arguments),this;var b=g(arguments),c=e.EVENT;k(b)&&(c=e.BINARY_EVENT);var d={type:c,data:b};return d.options={},d.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof b[b.length-1]&&(j("emitting packet with ack id %d",this.ids),this.acks[this.ids]=b.pop(),d.id=this.ids++),this.connected?this.packet(d):this.sendBuffer.push(d),delete this.flags,this},d.prototype.packet=function(a){a.nsp=this.nsp,this.io.packet(a)},d.prototype.onopen=function(){j("transport is open - connecting"),"/"!=this.nsp&&this.packet({type:e.CONNECT})},d.prototype.onclose=function(a){j("close (%s)",a),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",a)},d.prototype.onpacket=function(a){if(a.nsp==this.nsp)switch(a.type){case e.CONNECT:this.onconnect();break;case e.EVENT:case e.BINARY_EVENT:this.onevent(a);break;case e.ACK:case e.BINARY_ACK:this.onack(a);break;case e.DISCONNECT:this.ondisconnect();break;case e.ERROR:this.emit("error",a.data)}},d.prototype.onevent=function(a){var b=a.data||[];j("emitting event %j",b),null!=a.id&&(j("attaching ack callback to event"),b.push(this.ack(a.id))),this.connected?m.apply(this,b):this.receiveBuffer.push(b)},d.prototype.ack=function(a){var b=this,c=!1;return function(){if(!c){c=!0;var d=g(arguments);j("sending ack %j",d);var f=k(d)?e.BINARY_ACK:e.ACK;b.packet({type:f,id:a,data:d})}}},d.prototype.onack=function(a){var b=this.acks[a.id];"function"==typeof b?(j("calling ack %s with %j",a.id,a.data),b.apply(this,a.data),delete this.acks[a.id]):j("bad ack %s",a.id)},d.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},d.prototype.emitBuffered=function(){var a;for(a=0;a<this.receiveBuffer.length;a++)m.apply(this,this.receiveBuffer[a]);for(this.receiveBuffer=[],a=0;a<this.sendBuffer.length;a++)this.packet(this.sendBuffer[a]);this.sendBuffer=[]},d.prototype.ondisconnect=function(){j("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},d.prototype.destroy=function(){if(this.subs){for(var a=0;a<this.subs.length;a++)this.subs[a].destroy();this.subs=null}this.io.destroy(this)},d.prototype.close=d.prototype.disconnect=function(){return this.connected&&(j("performing disconnect (%s)",this.nsp),this.packet({type:e.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},d.prototype.compress=function(a){return this.flags=this.flags||{},this.flags.compress=a,this}},{"./on":33,"component-bind":37,"component-emitter":38,debug:39,"has-binary":41,"socket.io-parser":47,"to-array":51}],35:[function(a,b,d){(function(c){function d(a,b){var d=a,b=b||c.location;null==a&&(a=b.protocol+"//"+b.host),"string"==typeof a&&("/"==a.charAt(0)&&(a="/"==a.charAt(1)?b.protocol+a:b.host+a),/^(https?|wss?):\/\//.test(a)||(f("protocol-less url %s",a),a=void 0!==b?b.protocol+"//"+a:"https://"+a),f("parse %s",a),d=e(a)),d.port||(/^(http|ws)$/.test(d.protocol)?d.port="80":/^(http|ws)s$/.test(d.protocol)&&(d.port="443")),d.path=d.path||"/";var g=-1!==d.host.indexOf(":"),h=g?"["+d.host+"]":d.host;return d.id=d.protocol+"://"+h+":"+d.port,d.href=d.protocol+"://"+h+(b&&b.port==d.port?"":":"+d.port),d}var e=a("parseuri"),f=a("debug")("socket.io-client:url");b.exports=d}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==c?c:{})},{debug:39,parseuri:45}],36:[function(a,b,c){function d(a){a=a||{},this.ms=a.min||100,this.max=a.max||1e4,this.factor=a.factor||2,this.jitter=a.jitter>0&&a.jitter<=1?a.jitter:0,this.attempts=0}b.exports=d,d.prototype.duration=function(){var a=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var b=Math.random(),c=Math.floor(b*this.jitter*a);a=0==(1&Math.floor(10*b))?a-c:a+c}return 0|Math.min(a,this.max)},d.prototype.reset=function(){this.attempts=0},d.prototype.setMin=function(a){this.ms=a},d.prototype.setMax=function(a){this.max=a},d.prototype.setJitter=function(a){this.jitter=a}},{}],37:[function(a,b,c){var d=[].slice;b.exports=function(a,b){if("string"==typeof b&&(b=a[b]),"function"!=typeof b)throw new Error("bind() requires a function");var c=d.call(arguments,2);return function(){return b.apply(a,c.concat(d.call(arguments)))}}},{}],38:[function(a,b,c){function d(a){if(a)return e(a)}function e(a){for(var b in d.prototype)a[b]=d.prototype[b];return a}b.exports=d,d.prototype.on=d.prototype.addEventListener=function(a,b){return this._callbacks=this._callbacks||{},(this._callbacks["$"+a]=this._callbacks["$"+a]||[]).push(b),this},d.prototype.once=function(a,b){function c(){this.off(a,c),b.apply(this,arguments)}return c.fn=b,this.on(a,c),this},d.prototype.off=d.prototype.removeListener=d.prototype.removeAllListeners=d.prototype.removeEventListener=function(a,b){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var c=this._callbacks["$"+a];if(!c)return this;if(1==arguments.length)return delete this._callbacks["$"+a],this;for(var d,e=0;e<c.length;e++)if((d=c[e])===b||d.fn===b){c.splice(e,1);break}return this},d.prototype.emit=function(a){this._callbacks=this._callbacks||{};var b=[].slice.call(arguments,1),c=this._callbacks["$"+a];if(c){c=c.slice(0);for(var d=0,e=c.length;d<e;++d)c[d].apply(this,b)}return this},d.prototype.listeners=function(a){return this._callbacks=this._callbacks||{},this._callbacks["$"+a]||[]},d.prototype.hasListeners=function(a){return!!this.listeners(a).length}},{}],39:[function(a,b,c){arguments[4][17][0].apply(c,arguments)},{"./debug":40,dup:17}],40:[function(a,b,c){arguments[4][18][0].apply(c,arguments)},{dup:18,ms:44}],41:[function(a,b,d){(function(c){function d(a){function b(a){if(!a)return!1;if(c.Buffer&&c.Buffer.isBuffer&&c.Buffer.isBuffer(a)||c.ArrayBuffer&&a instanceof ArrayBuffer||c.Blob&&a instanceof Blob||c.File&&a instanceof File)return!0;if(e(a)){for(var d=0;d<a.length;d++)if(b(a[d]))return!0}else if(a&&"object"==(void 0===a?"undefined":h(a))){a.toJSON&&"function"==typeof a.toJSON&&(a=a.toJSON());for(var f in a)if(Object.prototype.hasOwnProperty.call(a,f)&&b(a[f]))return!0}return!1}return b(a)}var e=a("isarray");b.exports=d}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==c?c:{})},{isarray:43}],42:[function(a,b,c){arguments[4][23][0].apply(c,arguments)},{dup:23}],43:[function(a,b,c){arguments[4][24][0].apply(c,arguments)},{dup:24}],44:[function(a,b,c){arguments[4][25][0].apply(c,arguments)},{dup:25}],45:[function(a,b,c){arguments[4][28][0].apply(c,arguments)},{dup:28}],46:[function(a,b,d){(function(b){var c=a("isarray"),e=a("./is-buffer");d.deconstructPacket=function(a){function b(a){if(!a)return a;if(e(a)){var f={_placeholder:!0,num:d.length};return d.push(a),f}if(c(a)){for(var g=new Array(a.length),i=0;i<a.length;i++)g[i]=b(a[i]);return g}if("object"==(void 0===a?"undefined":h(a))&&!(a instanceof Date)){var g={};for(var j in a)g[j]=b(a[j]);return g}return a}var d=[],f=a.data,g=a;return g.data=b(f),g.attachments=d.length,{packet:g,buffers:d}},d.reconstructPacket=function(a,b){function d(a){if(a&&a._placeholder){return b[a.num]}if(c(a)){for(var e=0;e<a.length;e++)a[e]=d(a[e]);return a}if(a&&"object"==(void 0===a?"undefined":h(a))){for(var f in a)a[f]=d(a[f]);return a}return a}return a.data=d(a.data),a.attachments=void 0,a},d.removeBlobs=function(a,d){function f(a,j,k){if(!a)return a;if(b.Blob&&a instanceof Blob||b.File&&a instanceof File){g++;var l=new FileReader;l.onload=function(){k?k[j]=this.result:i=this.result,--g||d(i)},l.readAsArrayBuffer(a)}else if(c(a))for(var m=0;m<a.length;m++)f(a[m],m,a);else if(a&&"object"==(void 0===a?"undefined":h(a))&&!e(a))for(var n in a)f(a[n],n,a)}var g=0,i=a;f(i),g||d(i)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==c?c:{})},{"./is-buffer":48,isarray:43}],47:[function(a,b,c){function d(){}function e(a){var b="",d=!1;return b+=a.type,c.BINARY_EVENT!=a.type&&c.BINARY_ACK!=a.type||(b+=a.attachments,b+="-"),a.nsp&&"/"!=a.nsp&&(d=!0,b+=a.nsp),null!=a.id&&(d&&(b+=",",d=!1),b+=a.id),null!=a.data&&(d&&(b+=","),b+=l.stringify(a.data)),k("encoded %j as %s",a,b),b}function f(a,b){function c(a){var c=n.deconstructPacket(a),d=e(c.packet),f=c.buffers;f.unshift(d),b(f)}n.removeBlobs(a,c)}function g(){this.reconstructor=null}function h(a){var b={},d=0;if(b.type=Number(a.charAt(0)),null==c.types[b.type])return j();if(c.BINARY_EVENT==b.type||c.BINARY_ACK==b.type){for(var e="";"-"!=a.charAt(++d)&&(e+=a.charAt(d),d!=a.length););if(e!=Number(e)||"-"!=a.charAt(d))throw new Error("Illegal attachments");b.attachments=Number(e)}if("/"==a.charAt(d+1))for(b.nsp="";++d;){var f=a.charAt(d);if(","==f)break;if(b.nsp+=f,d==a.length)break}else b.nsp="/";var g=a.charAt(d+1);if(""!==g&&Number(g)==g){for(b.id="";++d;){var f=a.charAt(d);if(null==f||Number(f)!=f){--d;break}if(b.id+=a.charAt(d),d==a.length)break}b.id=Number(b.id)}if(a.charAt(++d))try{b.data=l.parse(a.substr(d))}catch(h){return j()}return k("decoded %s as %j",a,b),b}function i(a){this.reconPack=a,this.buffers=[]}function j(a){return{type:c.ERROR,data:"parser error"}}var k=a("debug")("socket.io-parser"),l=a("json3"),m=(a("isarray"),a("component-emitter")),n=a("./binary"),o=a("./is-buffer");c.protocol=4,c.types=["CONNECT","DISCONNECT","EVENT","BINARY_EVENT","ACK","BINARY_ACK","ERROR"],c.CONNECT=0,c.DISCONNECT=1,c.EVENT=2,c.ACK=3,c.ERROR=4,c.BINARY_EVENT=5,c.BINARY_ACK=6,c.Encoder=d,c.Decoder=g,d.prototype.encode=function(a,b){if(k("encoding packet %j",a),c.BINARY_EVENT==a.type||c.BINARY_ACK==a.type)f(a,b);else{b([e(a)])}},m(g.prototype),g.prototype.add=function(a){var b;if("string"==typeof a)b=h(a),c.BINARY_EVENT==b.type||c.BINARY_ACK==b.type?(this.reconstructor=new i(b),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",b)):this.emit("decoded",b);else{if(!o(a)&&!a.base64)throw new Error("Unknown type: "+a);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(b=this.reconstructor.takeBinaryData(a))&&(this.reconstructor=null,this.emit("decoded",b))}},g.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},i.prototype.takeBinaryData=function(a){if(this.buffers.push(a),this.buffers.length==this.reconPack.attachments){var b=n.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),b}return null},i.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},{"./binary":46,"./is-buffer":48,"component-emitter":49,debug:39,isarray:43,json3:50}],48:[function(a,b,d){(function(a){function c(b){return a.Buffer&&a.Buffer.isBuffer(b)||a.ArrayBuffer&&b instanceof ArrayBuffer}b.exports=c}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==c?c:{})},{}],49:[function(a,b,c){arguments[4][15][0].apply(c,arguments)},{dup:15}],50:[function(b,d,e){(function(b){(function(){function c(a,b){function d(a){if(d[a]!==r)return d[a];var c;if("bug-string-char-index"==a)c="a"!="a"[0];else if("json"==a)c=d("json-stringify")&&d("json-parse");else{var g,h='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==a){var i=b.stringify,j="function"==typeof i&&u;if(j){(g=function(){return 1}).toJSON=g;try{j="0"===i(0)&&"0"===i(new e)&&'""'==i(new f)&&i(t)===r&&i(r)===r&&i()===r&&"1"===i(g)&&"[1]"==i([g])&&"[null]"==i([r])&&"null"==i(null)&&"[null,null,null]"==i([r,t,null])&&i({a:[g,!0,!1,null,"\0\b\n\f\r\t"]})==h&&"1"===i(null,g)&&"[\n 1,\n 2\n]"==i([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==i(new k(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==i(new k(864e13))&&'"-000001-01-01T00:00:00.000Z"'==i(new k(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==i(new k(-1))}catch(n){j=!1}}c=j}if("json-parse"==a){var l=b.parse;if("function"==typeof l)try{if(0===l("0")&&!l(!1)){g=l(h);var m=5==g.a.length&&1===g.a[0];if(m){try{m=!l('"\t"')}catch(n){}if(m)try{m=1!==l("01")}catch(n){}if(m)try{m=1!==l("1.")}catch(n){}}}}catch(n){m=!1}c=m}}return d[a]=!!c}a||(a=j.Object()),b||(b=j.Object());var e=a.Number||j.Number,f=a.String||j.String,i=a.Object||j.Object,k=a.Date||j.Date,l=a.SyntaxError||j.SyntaxError,m=a.TypeError||j.TypeError,n=a.Math||j.Math,o=a.JSON||j.JSON;"object"==(void 0===o?"undefined":h(o))&&o&&(b.stringify=o.stringify,b.parse=o.parse);var p,q,r,s=i.prototype,t=s.toString,u=new k(-0xc782b5b800cec);try{u=-109252==u.getUTCFullYear()&&0===u.getUTCMonth()&&1===u.getUTCDate()&&10==u.getUTCHours()&&37==u.getUTCMinutes()&&6==u.getUTCSeconds()&&708==u.getUTCMilliseconds()}catch(U){}if(!d("json")){var v="[object Function]",w="[object Date]",x="[object Number]",y="[object String]",z="[object Array]",A="[object Boolean]",B=d("bug-string-char-index");if(!u)var C=n.floor,D=[0,31,59,90,120,151,181,212,243,273,304,334],E=function(a,b){return D[b]+365*(a-1970)+C((a-1969+(b=+(b>1)))/4)-C((a-1901+b)/100)+C((a-1601+b)/400)};if((p=s.hasOwnProperty)||(p=function(a){var b,c={};return(c.__proto__=null,c.__proto__={toString:1},c).toString!=t?p=function(a){var b=this.__proto__,c=a in(this.__proto__=null,this);return this.__proto__=b,c}:(b=c.constructor,p=function(a){var c=(this.constructor||b).prototype;return a in this&&!(a in c&&this[a]===c[a])}),c=null,p.call(this,a)}),q=function(a,b){var c,d,e,f=0;(c=function(){this.valueOf=0}).prototype.valueOf=0,d=new c;for(e in d)p.call(d,e)&&f++;return c=d=null,f?q=2==f?function(a,b){var c,d={},e=t.call(a)==v;for(c in a)e&&"prototype"==c||p.call(d,c)||!(d[c]=1)||!p.call(a,c)||b(c)}:function(a,b){var c,d,e=t.call(a)==v;for(c in a)e&&"prototype"==c||!p.call(a,c)||(d="constructor"===c)||b(c);(d||p.call(a,c="constructor"))&&b(c)}:(d=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],q=function(a,b){var c,e,f=t.call(a)==v,i=!f&&"function"!=typeof a.constructor&&g[h(a.hasOwnProperty)]&&a.hasOwnProperty||p;for(c in a)f&&"prototype"==c||!i.call(a,c)||b(c);for(e=d.length;c=d[--e];i.call(a,c)&&b(c));}),q(a,b)},!d("json-stringify")){var F={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},G="000000",H=function(a,b){return(G+(b||0)).slice(-a)},I="\\u00",J=function(a){for(var b='"',c=0,d=a.length,e=!B||d>10,f=e&&(B?a.split(""):a);c<d;c++){var g=a.charCodeAt(c);switch(g){case 8:case 9:case 10:case 12:case 13:case 34:case 92:b+=F[g];break;default:if(g<32){b+=I+H(2,g.toString(16));break}b+=e?f[c]:a.charAt(c)}}return b+'"'},K=function a(b,c,d,e,f,g,i){var j,k,l,n,o,s,u,v,B,D,F,G,I,K,L,M;try{j=c[b]}catch(U){}if("object"==(void 0===j?"undefined":h(j))&&j)if((k=t.call(j))!=w||p.call(j,"toJSON"))"function"==typeof j.toJSON&&(k!=x&&k!=y&&k!=z||p.call(j,"toJSON"))&&(j=j.toJSON(b));else if(j>-1/0&&j<1/0){if(E){for(o=C(j/864e5),l=C(o/365.2425)+1970-1;E(l+1,0)<=o;l++);for(n=C((o-E(l,0))/30.42);E(l,n+1)<=o;n++);o=1+o-E(l,n),s=(j%864e5+864e5)%864e5,u=C(s/36e5)%24,v=C(s/6e4)%60,B=C(s/1e3)%60,D=s%1e3}else l=j.getUTCFullYear(),n=j.getUTCMonth(),o=j.getUTCDate(),u=j.getUTCHours(),v=j.getUTCMinutes(),B=j.getUTCSeconds(),D=j.getUTCMilliseconds();j=(l<=0||l>=1e4?(l<0?"-":"+")+H(6,l<0?-l:l):H(4,l))+"-"+H(2,n+1)+"-"+H(2,o)+"T"+H(2,u)+":"+H(2,v)+":"+H(2,B)+"."+H(3,D)+"Z"}else j=null;if(d&&(j=d.call(c,b,j)),null===j)return"null";if((k=t.call(j))==A)return""+j;if(k==x)return j>-1/0&&j<1/0?""+j:"null";if(k==y)return J(""+j);if("object"==(void 0===j?"undefined":h(j))){for(K=i.length;K--;)if(i[K]===j)throw m();if(i.push(j),F=[],L=g,g+=f,k==z){for(I=0,K=j.length;I<K;I++)G=a(I,j,d,e,f,g,i),F.push(G===r?"null":G);M=F.length?f?"[\n"+g+F.join(",\n"+g)+"\n"+L+"]":"["+F.join(",")+"]":"[]"}else q(e||j,function(b){var c=a(b,j,d,e,f,g,i);c!==r&&F.push(J(b)+":"+(f?" ":"")+c)}),M=F.length?f?"{\n"+g+F.join(",\n"+g)+"\n"+L+"}":"{"+F.join(",")+"}":"{}";return i.pop(),M}};b.stringify=function(a,b,c){var d,e,f,i;if(g[void 0===b?"undefined":h(b)]&&b)if((i=t.call(b))==v)e=b;else if(i==z){f={};for(var j,k=0,l=b.length;k<l;j=b[k++],((i=t.call(j))==y||i==x)&&(f[j]=1));}if(c)if((i=t.call(c))==x){if((c-=c%1)>0)for(d="",c>10&&(c=10);d.length<c;d+=" ");}else i==y&&(d=c.length<=10?c:c.slice(0,10));return K("",(j={},j[""]=a,j),e,f,d,"",[])}}if(!d("json-parse")){var L,M,N=f.fromCharCode,O={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},P=function(){throw L=M=null,l()},Q=function(){for(var a,b,c,d,e,f=M,g=f.length;L<g;)switch(e=f.charCodeAt(L)){case 9:case 10:case 13:case 32:L++;break;case 123:case 125:case 91:case 93:case 58:case 44:return a=B?f.charAt(L):f[L],L++,a;case 34:for(a="@",L++;L<g;)if((e=f.charCodeAt(L))<32)P();else if(92==e)switch(e=f.charCodeAt(++L)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:a+=O[e],L++;break;case 117:for(b=++L,c=L+4;L<c;L++)(e=f.charCodeAt(L))>=48&&e<=57||e>=97&&e<=102||e>=65&&e<=70||P();a+=N("0x"+f.slice(b,L));break;default:P()}else{if(34==e)break;for(e=f.charCodeAt(L),b=L;e>=32&&92!=e&&34!=e;)e=f.charCodeAt(++L);a+=f.slice(b,L)}if(34==f.charCodeAt(L))return L++,a;P();default:if(b=L,45==e&&(d=!0,e=f.charCodeAt(++L)),e>=48&&e<=57){for(48==e&&(e=f.charCodeAt(L+1))>=48&&e<=57&&P(),d=!1;L<g&&(e=f.charCodeAt(L))>=48&&e<=57;L++)if(46==f.charCodeAt(L)){for(c=++L;c<g&&(e=f.charCodeAt(c))>=48&&e<=57;c++);c==L&&P(),L=c}if(101==(e=f.charCodeAt(L))||69==e){for(e=f.charCodeAt(++L),43!=e&&45!=e||L++,c=L;c<g&&(e=f.charCodeAt(c))>=48&&e<=57;c++);c==L&&P(),L=c}return+f.slice(b,L)}if(d&&P(),"true"==f.slice(L,L+4))return L+=4,!0;if("false"==f.slice(L,L+5))return L+=5,!1;if("null"==f.slice(L,L+4))return L+=4,null;P()}return"$"},R=function a(b){var c,d;if("$"==b&&P(),"string"==typeof b){if("@"==(B?b.charAt(0):b[0]))return b.slice(1);if("["==b){for(c=[];"]"!=(b=Q());d||(d=!0))d&&(","==b?"]"==(b=Q())&&P():P()),","==b&&P(),c.push(a(b));return c}if("{"==b){for(c={};"}"!=(b=Q());d||(d=!0))d&&(","==b?"}"==(b=Q())&&P():P()),","!=b&&"string"==typeof b&&"@"==(B?b.charAt(0):b[0])&&":"==Q()||P(),c[b.slice(1)]=a(Q());return c}P()}return b},S=function(a,b,c){var d=T(a,b,c);d===r?delete a[b]:a[b]=d},T=function(a,b,c){var d,e=a[b];if("object"==(void 0===e?"undefined":h(e))&&e)if(t.call(e)==z)for(d=e.length;d--;)S(e,d,c);else q(e,function(a){S(e,a,c)});return c.call(a,b,e)};b.parse=function(a,b){var c,d;return L=0,M=""+a,c=R(Q()),"$"!=Q()&&P(),L=M=null,b&&t.call(b)==v?T((d={},d[""]=c,d),"",b):c}}}return b.runInContext=c,b}var f="function"==typeof a&&a.amd,g={function:!0,object:!0},i=g[void 0===e?"undefined":h(e)]&&e&&!e.nodeType&&e,j=g["undefined"==typeof window?"undefined":h(window)]&&window||this,k=i&&g[void 0===d?"undefined":h(d)]&&d&&!d.nodeType&&"object"==(void 0===b?"undefined":h(b))&&b;if(!k||k.global!==k&&k.window!==k&&k.self!==k||(j=k),i&&!f)c(j,i);else{var l=j.JSON,m=j.JSON3,n=!1,o=c(j,j.JSON3={noConflict:function(){return n||(n=!0,j.JSON=l,j.JSON3=m,l=m=null),o}});j.JSON={parse:o.parse,stringify:o.stringify}}f&&a(function(){return o})}).call(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==c?c:{})},{}],51:[function(a,b,c){function d(a,b){var c=[];b=b||0;for(var d=b||0;d<a.length;d++)c[d-b]=a[d];return c}b.exports=d},{}]},{},[31])(31)})}).call(b,function(){return this}())},function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},g=c(1),h=d(g),i=function a(b,c,d,f){e(this,a),this.document={},b&&(h.default._columnNameValidation(b),this.document.name=b,this.document._type="column"),c?(h.default._columnDataTypeValidation(c),this.document.dataType=c):this.document.dataType="Text",this.document.required="boolean"==typeof d&&d,this.document.unique="boolean"==typeof f&&f,"Text"===c&&(this.document.isSearchable=!0),this.document.relatedTo=null,this.document.relationType=null,this.document.isDeletable=!0,this.document.isEditable=!0,this.document.isRenamable=!1,this.document.editableByMasterKey=!1,this.document.defaultValue=null};Object.defineProperty(i.prototype,"name",{get:function(){return this.document.name},set:function(a){this.document.name=a}}),Object.defineProperty(i.prototype,"dataType",{get:function(){return this.document.dataType},set:function(a){this.document.dataType=a}}),Object.defineProperty(i.prototype,"unique",{get:function(){return this.document.unique},set:function(a){this.document.unique=a}}),Object.defineProperty(i.prototype,"relatedTo",{get:function(){return this.document.relatedTo},set:function(a){this.document.relatedTo=a}}),Object.defineProperty(i.prototype,"required",{get:function(){return this.document.required},set:function(a){this.document.required=a}}),Object.defineProperty(i.prototype,"defaultValue",{get:function(){return this.document.defaultValue},set:function(a){if("string"==typeof a)if(supportedStringDataTypes=["Text","EncryptedText"],supportedStringDataTypes.indexOf(this.document.dataType)>-1)this.document.defaultValue=a;else if("URL"===this.document.dataType){if(a.match(/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/i)[0]!==a)throw new TypeError("Invalid URL");this.document.defaultValue=a}else if("Email"===this.document.dataType){if(a.match(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/i)[0]!==a)throw new TypeError("Invalid Email");this.document.defaultValue=a}else{if("DateTime"!==this.document.dataType)throw new TypeError("Unsupported DataType");if("Invalid Date"==new Date(a))throw new TypeError("Invalid default value for DateTime Field");this.document.defaultValue=a}else if(null!==a&&["number","boolean","object","undefined"].indexOf(void 0===a?"undefined":f(a))>-1){if(this.document.dataType.toUpperCase()!==(void 0===a?"undefined":f(a)).toUpperCase())throw new TypeError("Unsupported DataType");this.document.defaultValue=a}else{if(null!==a)throw new TypeError("Unsupported DataType");this.document.defaultValue=a}}}),Object.defineProperty(i.prototype,"editableByMasterKey",{get:function(){return this.document.editableByMasterKey},set:function(a){this.document.editableByMasterKey=a}}),Object.defineProperty(i.prototype,"isSearchable",{get:function(){return this.document.isSearchable},set:function(a){this.document.isSearchable=a}}),h.default.Column=i,b.default=h.default.Column},function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(1),h=d(g),i=function(){function a(b){e(this,a),h.default._tableValidation(b),this.document={},this.document.name=b,this.document.appId=h.default.appId,this.document._type="table",this.document.isEditableByClientKey=!1,"user"===b.toLowerCase()?(this.document.type="user",this.document.maxCount=1):"role"===b.toLowerCase()?(this.document.type="role",this.document.maxCount=1):"device"===b.toLowerCase()?(this.document.type="device",this.document.maxCount=1):(this.document.type="custom",this.document.maxCount=9999),this.document.columns=h.default._defaultColumns(this.document.type)}return f(a,[{key:"addColumn",value:function(a){if("[object String]"===Object.prototype.toString.call(a)){a=new h.default.Column(a)}if("[object Object]"===Object.prototype.toString.call(a))h.default._columnValidation(a,this)&&this.document.columns.push(a);else if("[object Array]"===Object.prototype.toString.call(a))for(var b=0;b<a.length;b++)h.default._columnValidation(a[b],this)&&this.document.columns.push(a[b])}},{key:"getColumn",value:function(a){if("[object String]"!==Object.prototype.toString.call(a))throw"Should enter a columnName";for(var b=this.document.columns,c=0;c<b.length;c++)if(b[c].name===a)return b[c];throw"Column Does Not Exists"}},{key:"updateColumn",value:function(a){if("[object Object]"!==Object.prototype.toString.call(a))throw"Invalid Column";if(!h.default._columnValidation(a,this))throw"Invalid Column";for(var b=this.document.columns,c=0;c<b.length;c++)if(b[c].name===a.name){b[c]=a,this.document.columns=b;break}}},{key:"deleteColumn",value:function(a){if("[object String]"===Object.prototype.toString.call(a)){a=new h.default.Column(a)}if("[object Object]"===Object.prototype.toString.call(a)){if(h.default._columnValidation(a,this)){for(var b=[],c=0;c<this.columns.length;c++)this.columns[c].name!==a.name&&b.push(this.columns[c]);this.document.columns=b}}else if("[object Array]"===Object.prototype.toString.call(a))for(var b=[],c=0;c<a.length;c++)if(h.default._columnValidation(a[c],this)){for(var c=0;c<this.columns.length;c++)this.columns[c].name!==a[c].name&&b.push(this.columns[c]);this.document.columns=b}}},{key:"delete",value:function(a){h.default._validate();var b;a||(b=new h.default.Promise);var c=JSON.stringify({key:h.default.appKey,name:this.name,method:"DELETE"}),d=this,e=h.default.apiUrl+"/app/"+h.default.appId+"/"+this.name;if(h.default._request("PUT",e,c,!0).then(function(c){a?a.success(d):b.resolve(d)},function(c){a?a.error(c):b.reject(c)}),!a)return b.promise}},{key:"save",value:function(a){var b;a||(b=new h.default.Promise),h.default._validate();var c=this,d=JSON.stringify({key:h.default.appKey,data:h.default.toJSON(c)}),c=this,e=h.default.apiUrl+"/app/"+h.default.appId+"/"+c.document.name;if(h.default._request("PUT",e,d,!0).then(function(d){d=JSON.parse(d),c=h.default.fromJSON(d),a?a.success(c):b.resolve(c)},function(c){a?a.error(c):b.reject(c)}),!a)return b.promise}}]),a}();Object.defineProperty(i.prototype,"columns",{get:function(){return this.document.columns}}),Object.defineProperty(i.prototype,"name",{get:function(){return this.document.name},set:function(){throw"You can not rename a table"}}),Object.defineProperty(i.prototype,"id",{get:function(){return this.document._id}}),Object.defineProperty(i.prototype,"isEditableByClientKey",{get:function(){return this.document.isEditableByClientKey},set:function(a){this.document.isEditableByClientKey=a}}),h.default.CloudTable=i,h.default.CloudTable.getAll=function(a){if(!h.default.appId)throw"CB.appId is null.";var b;a||(b=new h.default.Promise);var c=JSON.stringify({key:h.default.appKey}),d=h.default.apiUrl+"/app/"+h.default.appId+"/_getAll";if(h.default._request("POST",d,c,!0).then(function(c){c=JSON.parse(c);var d=h.default.fromJSON(c);a?a.success(d):b.resolve(d)},function(c){a?a.error(c):b.reject(c)}),!a)return b.promise},h.default.CloudTable.get=function(a,b){if("[object String]"===Object.prototype.toString.call(a)){a=new this(a)}if("[object Object]"===Object.prototype.toString.call(a)){if(!h.default.appId)throw"CB.appId is null.";var c;b||(c=new h.default.Promise);var d=JSON.stringify({key:h.default.appKey,appId:h.default.appId}),e=h.default.apiUrl+"/app/"+h.default.appId+"/"+a.document.name;if(h.default._request("POST",e,d,!0).then(function(a){if("null"===a||""===a)d=null;else{a=JSON.parse(a);var d=h.default.fromJSON(a)}b?b.success(d):c.resolve(d)},function(a){b?b.error(a):c.reject(a)}),!b)return c.promise}else if("[object Array]"===Object.prototype.toString.call(a))throw"cannot fetch array of tables"},b.default=h.default.CloudTable},function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(1),f=d(e);f.default.ACL=function(){this.document={},this.document.read={allow:{user:["all"],role:[]},deny:{user:[],role:[]}},this.document.write={allow:{user:["all"],role:[]},deny:{user:[],role:[]}},this.parent=null},f.default.ACL.prototype.setPublicWriteAccess=function(a){if(a)this.document.write.allow.user=["all"];else{var b=this.document.write.allow.user.indexOf("all");b>-1&&this.document.write.allow.user.splice(b,1)}this.parent&&f.default._modified(this.parent,"ACL")},f.default.ACL.prototype.setPublicReadAccess=function(a){if(a)this.document.read.allow.user=["all"];else{var b=this.document.read.allow.user.indexOf("all");b>-1&&this.document.read.allow.user.splice(b,1)}this.parent&&f.default._modified(this.parent,"ACL")},f.default.ACL.prototype.setUserWriteAccess=function(a,b){if(b){var c=this.document.write.allow.user.indexOf("all");c>-1&&this.document.write.allow.user.splice(c,1),-1===this.document.write.allow.user.indexOf(a)&&this.document.write.allow.user.push(a)}else{var c=this.document.write.allow.user.indexOf(a);c>-1&&this.document.write.allow.user.splice(c,1),this.document.write.deny.user.push(a)}this.parent&&f.default._modified(this.parent,"ACL")},f.default.ACL.prototype.setUserReadAccess=function(a,b){if(b){var c=this.document.read.allow.user.indexOf("all");c>-1&&this.document.read.allow.user.splice(c,1),-1===this.document.read.allow.user.indexOf(a)&&this.document.read.allow.user.push(a)}else{var c=this.document.read.allow.user.indexOf(a);c>-1&&this.document.read.allow.user.splice(c,1),this.document.read.deny.user.push(a)}this.parent&&f.default._modified(this.parent,"ACL")},f.default.ACL.prototype.setRoleWriteAccess=function(a,b){if(b){var c=this.document.write.allow.user.indexOf("all");c>-1&&this.document.write.allow.user.splice(c,1),-1===this.document.write.allow.role.indexOf(a)&&this.document.write.allow.role.push(a)}else{var c=this.document.write.allow.role.indexOf(a);c>-1&&this.document.write.allow.role.splice(c,1);var c=this.document.write.allow.user.indexOf("all");c>-1&&this.document.write.allow.user.splice(c,1),this.document.write.deny.role.push(a)}this.parent&&f.default._modified(this.parent,"ACL")},f.default.ACL.prototype.setRoleReadAccess=function(a,b){if(b){var c=this.document.read.allow.user.indexOf("all");c>-1&&this.document.read.allow.user.splice(c,1),-1===this.document.read.allow.role.indexOf(a)&&this.document.read.allow.role.push(a)}else{var c=this.document.read.allow.role.indexOf(a);c>-1&&this.document.read.allow.role.splice(c,1);var c=this.document.read.allow.user.indexOf("all");c>-1&&this.document.read.allow.user.splice(c,1),this.document.read.deny.role.push(a)}this.parent&&f.default._modified(this.parent,"ACL")},b.default=f.default.ACL},function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){var c=(a.document.coordinates[1]-b.document.coordinates[1]).toRad(),d=(a.document.coordinates[0]-b.document.coordinates[0]).toRad(),e=b.document.coordinates[1].toRad(),f=a.document.coordinates[1].toRad(),g=Math.sin(c/2)*Math.sin(c/2)+Math.sin(d/2)*Math.sin(d/2)*Math.cos(e)*Math.cos(f);return 2*Math.atan2(Math.sqrt(g),Math.sqrt(1-g))}Object.defineProperty(b,"__esModule",{value:!0});var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=c(1),i=d(h),j=function(){function a(b,c){if(e(this,a),!c&&0!==c||!b&&0!==b)throw"Latitude or Longitude is empty.";if(isNaN(c))throw"Latitude "+c+" is not a number type.";if(isNaN(b))throw"Longitude "+b+" is not a number type.";if(this.document={},this.document._type="point",this.document._isModified=!0,!(Number(c)>=-90&&Number(c)<=90&&Number(b)>=-180&&Number(b)<=180))throw"latitude and longitudes are not in range";this.document.coordinates=[Number(b),Number(c)],this.document.latitude=Number(c),this.document.longitude=Number(b)}return g(a,[{key:"get",value:function(a){return this.document[a]}},{key:"set",value:function(a,b){if("latitude"===a){if(!(Number(b)>=-90&&Number(b)<=90))throw"Latitude is not in Range";this.document.latitude=Number(b),this.document.coordinates[1]=Number(b),
this.document._isModified=!0}else{if(!(Number(b)>=-180&&Number(b)<=180))throw"Latitude is not in Range";this.document.longitude=Number(b),this.document.coordinates[0]=Number(b),this.document._isModified=!0}}},{key:"distanceInKMs",value:function(a){return 6371*f(this,a)}},{key:"distanceInMiles",value:function(a){return 3959*f(this,a)}},{key:"distanceInRadians",value:function(a){return f(this,a)}}]),a}();Object.defineProperty(j.prototype,"latitude",{get:function(){return this.document.coordinates[1]},set:function(a){if(!(Number(a)>=-90&&Number(a)<=90))throw"Latitude is not in Range";this.document.latitude=Number(a),this.document.coordinates[1]=Number(a),this.document._isModified=!0}}),Object.defineProperty(j.prototype,"longitude",{get:function(){return this.document.coordinates[0]},set:function(a){if(!(Number(a)>=-180&&Number(a)<=180))throw"Longitude is not in Range";this.document.longitude=Number(a),this.document.coordinates[0]=Number(a),this.document._isModified=!0}}),void 0===Number.prototype.toRad&&(Number.prototype.toRad=function(){return this*Math.PI/180}),i.default.CloudGeoPoint=i.default.CloudGeoPoint||j,b.default=i.default.CloudGeoPoint},function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a){for(var b={},c=0;c<a.length;c++){if(!(a[c]instanceof j.default.CloudObject))throw"Should Be an instance of CloudObjects";var d=a[c].document._tableName;b[d]||(b[d]=[]),b[d].push(a[c].document)}a=[];for(var d in b)a.push({tableName:d,object:b[d]});return a}Object.defineProperty(b,"__esModule",{value:!0});var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(1),j=d(i),k=c(38),l=d(k),m=function(){function a(b,c){e(this,a),this.document={},this.document._tableName=b,this.document.ACL=new j.default.ACL,this.document._type="custom",this.document.expires=null,this.document._hash=j.default._generateHash(),c?(this.document._modifiedColumns=[],this.document._isModified=!1,this.document._id=c):(this.document._modifiedColumns=["createdAt","updatedAt","ACL","expires"],this.document._isModified=!0)}return h(a,[{key:"set",value:function(a,b){var c=["_tableName","_type","operator"];if("id"===a||"_id"===a)throw"You cannot set the id of a CloudObject";if("id"===a&&(a="_"+a),c.indexOf(a)>-1)throw a+" is a keyword. Please choose a different column name.";this.document[a]=b,j.default._modified(this,a)}},{key:"relate",value:function(a,b,c){var d=["_tableName","_type","operator"];if("id"===a||"_id"===a)throw"You cannot set the id of a CloudObject";if("id"===a)throw"You cannot link an object to this column";if(d.indexOf(a)>-1)throw a+" is a keyword. Please choose a different column name.";this.document[a]=new j.default.CloudObject(b,c),j.default._modified(this,a)}},{key:"get",value:function(a){return"id"===a&&(a="_"+a),this.document[a]}},{key:"unset",value:function(a){this.document[a]=null,j.default._modified(this,a)}},{key:"save",value:function(a){var b;j.default._validate(),a||(b=new j.default.Promise);if(j.default._fileCheck(this).then(function(c){var d=JSON.stringify({document:j.default.toJSON(c),key:j.default.appKey}),e=j.default.apiUrl+"/data/"+j.default.appId+"/"+c.document._tableName;j.default._request("PUT",e,d).then(function(d){c=j.default.fromJSON(JSON.parse(d),c),a?a.success(c):b.resolve(c)},function(c){a?a.error(c):b.reject(c)})},function(c){a?a.error(c):b.reject(c)}),!a)return b.promise}},{key:"pin",value:function(a){j.default.CloudObject.pin(this,a)}},{key:"unPin",value:function(a){j.default.CloudObject.unPin(this,a)}},{key:"saveEventually",value:function(b){var c,d=this;if(b||(c=new j.default.Promise),j.default._validate(),l.default.getItem("cb-saveEventually-"+j.default.appId).then(function(e){var f=[];e&&(f=e),f.push({saved:!1,document:j.default.toJSON(d)}),l.default.setItem("cb-saveEventually-"+j.default.appId,f).then(function(e){a.pin(d,{success:function(a){b?b.success(e):c.resolve(e)},error:function(a){b?b.error(a):c.reject(a)}})}).catch(function(a){b?b.error(a):c.reject(a)})}).catch(function(a){b?b.error(a):c.reject(a)}),!b)return c.promise}},{key:"disableSync",value:function(a){j.default.CloudObject.disableSync(this.document,a)}},{key:"fetch",value:function(a){if(!j.default.appId)throw"CB.appId is null.";if(!this.document._id)throw"Can't fetch an object which is not saved.";var b,c=this;a||(b=new j.default.Promise);var d=null;if(d="file"===c.document._type?new j.default.CloudQuery("_File"):new j.default.CloudQuery(c.document._tableName),d.findById(c.get("id")).then(function(c){a?a.success(c):b.resolve(c)},function(c){a?a.error(c):b.reject(c)}),!a)return b.promise}},{key:"delete",value:function(a){if(!j.default.appId)throw"CB.appId is null.";if(!this.document._id)throw"You cannot delete an object which is not saved.";var b,c=this;a||(b=new j.default.Promise);var d=JSON.stringify({key:j.default.appKey,document:j.default.toJSON(c),method:"DELETE"}),e=j.default.apiUrl+"/data/"+j.default.appId+"/"+c.document._tableName;if(j.default._request("PUT",e,d).then(function(d){c=j.default.fromJSON(JSON.parse(d),c),a?a.success(c):b.resolve(c)},function(c){a?a.error(c):b.reject(c)}),!a)return b.promise}}]),a}();Object.defineProperty(m.prototype,"ACL",{get:function(){return this.document.ACL},set:function(a){this.document.ACL=a,this.document.ACL.parent=this,j.default._modified(this,"ACL")}}),Object.defineProperty(m.prototype,"id",{get:function(){return this.document._id}}),Object.defineProperty(m.prototype,"createdAt",{get:function(){return this.document.createdAt}}),Object.defineProperty(m.prototype,"updatedAt",{get:function(){return this.document.updatedAt}}),Object.defineProperty(m.prototype,"expires",{get:function(){return this.document.expires},set:function(a){this.document.expires=a,j.default._modified(this,"expires")}}),m.on=function(a,b,c,d,e){if(j.default._isRealtimeDisabled)throw"Realtime is disbaled for this app.";var f;if(!c||c instanceof j.default.CloudQuery||(null!==d&&"object"===(void 0===d?"undefined":g(d))&&(e=d,d=null),d=c,c=null),e||(f=new j.default.Promise),c&&c instanceof j.default.CloudQuery){if(c.tableName!==a)throw"CloudQuery TableName and CloudNotification TableName should be same.";if(c.query&&c.query.$include.length>0)throw"Include with CloudNotificaitons is not supported right now.";if(Object.keys(c.select).length>0)throw"You cannot pass the query with select in CloudNotifications."}if(a=a.toLowerCase(),b instanceof Array)for(var h=0;h<b.length;h++)j.default.CloudObject.on(a,b[h],c,d),h==b.length-1&&(e&&e.success?e.success():f.resolve());else{if("created"!==(b=b.toLowerCase())&&"updated"!==b&&"deleted"!==b)throw"created, updated, deleted are supported notification types.";var i=j.default._generateHash(),k={room:(j.default.appId+"table"+a+b).toLowerCase()+i,sessionId:j.default._getSessionId(),data:{query:c,timestamp:i,eventType:b}};j.default.Socket.emit("join-object-channel",k),j.default.Socket.on(k.room,function(a){a=JSON.parse(a),a=j.default.fromJSON(a),c&&c instanceof j.default.CloudQuery&&j.default.CloudObject._validateNotificationQuery(a,c)?d(a):c||d(a)}),e&&e.success?e.success():f.resolve()}if(!e)return f.promise},m.off=function(a,b,c){if(j.default._isRealtimeDisabled)throw"Realtime is disbaled for this app.";var d;if(c||(d=new j.default.Promise),a=a.toLowerCase(),b instanceof Array)for(var e=0;e<b.length;e++)j.default.CloudObject.off(a,b[e]),e==b.length-1&&(c&&c.success?c.success():d.resolve());else{b=b.toLowerCase();var f=j.default._generateHash();if("created"!==b&&"updated"!==b&&"deleted"!==b)throw"created, updated, deleted are supported notification types.";j.default.Socket.emit("leave-object-channel",{event:(j.default.appId+"table"+a+b).toLowerCase(),timestamp:f,eventType:b}),j.default.Socket.on("leave"+(j.default.appId+"table"+a+b).toLowerCase()+f,function(c){j.default.Socket.removeAllListeners((j.default.appId+"table"+a+b).toLowerCase()+c)}),c&&c.success?c.success():d.resolve()}if(!c)return d.promise},m.saveAll=function(a,b){if(!a||a.constructor!==Array)throw"Array of CloudObjects is Null";for(var c=0;c<a.length;c++)if(!(a[c]instanceof j.default.CloudObject))throw"Should Be an Array of CloudObjects";var d;if(b||(d=new j.default.Promise),j.default._bulkObjFileCheck(a).then(function(){var c=JSON.stringify({document:j.default.toJSON(a),key:j.default.appKey}),e=j.default.apiUrl+"/data/"+j.default.appId+"/"+a[0]._tableName;j.default._request("PUT",e,c).then(function(a){var c=j.default.fromJSON(JSON.parse(a));b?b.success(c):d.resolve(c)},function(a){b?b.error(a):d.reject(a)})},function(a){b?b.error(a):d.reject(a)}),!b)return d.promise},m.deleteAll=function(a,b){if(!a&&a.constructor!==Array)throw"Array of CloudObjects is Null";for(var c=0;c<a.length;c++)if(!(a[c]instanceof j.default.CloudObject))throw"Should Be an Array of CloudObjects";var d;b||(d=new j.default.Promise);var e=JSON.stringify({document:j.default.toJSON(a),key:j.default.appKey,method:"DELETE"}),f=j.default.apiUrl+"/data/"+j.default.appId+"/"+a[0]._tableName;if(j.default._request("PUT",f,e).then(function(a){var c=j.default.fromJSON(JSON.parse(a));b?b.success(c):d.resolve(c)},function(a){b?b.error(a):d.reject(a)}),!b)return d.promise},m.pin=function(a,b){if(!a)throw"cloudObject(s) is required.";var c;if(b||(c=new j.default.Promise),j.default._validate(),a instanceof Array){f(a).forEach(function(a){var d=[];l.default.getItem(j.default.appId+"-"+a.tableName).then(function(e){e&&(d=e),l.default.setItem(j.default.appId+"-"+a.tableName,d.concat(a.object)).then(function(a){b?b.success(a):c.resolve(a)}).catch(function(a){b?b.error(a):c.reject(a)})}).catch(function(a){b?b.error(a):c.reject(a)})})}else a=[a],m.pin(a,b);if(!b)return c.promise},m.unPin=function(a,b){if(!a)throw"cloudObject(s) is required.";var c;if(b||(c=new j.default.Promise),j.default._validate(),a instanceof Array){f(a).forEach(function(a){l.default.getItem(j.default.appId+"-"+a.tableName).then(function(d){var e=[];d.forEach(function(b){a.object.forEach(function(a){a._hash!=b._hash&&e.push(b)})}),l.default.setItem(j.default.appId+"-"+a.tableName,e).then(function(a){b?b.success(a):c.resolve(a)}).catch(function(a){b?b.error(a):c.reject(a)})}).catch(function(a){b?b.error(a):c.reject(a)})})}else a=[a],m.unPin(a);if(!b)return c.promise},m.clearLocalStore=function(a){j.default._validate();var b;if(a||(b=new j.default.Promise),l.default.clear().then(function(){a?a.success():b.resolve()}).catch(function(c){a?a.error(c):b.reject(c)}),!a)return b.promise},m.sync=function(a){var b;if(a||(b=new j.default.Promise),j.default._validate(),j.default.CloudApp._isConnected?l.default.getItem("cb-saveEventually-"+j.default.appId).then(function(c){var d=0,e=null;if(c){var f=c.length;c.forEach(function(c){f--,c.saved||(e=j.default.fromJSON(c.document),e.save({success:function(e){d++,j.default.CloudObject.disableSync(c.document,{success:function(c){a?a.success(d):b.resolve(d)},error:function(c){a?a.error(c):b.reject(c)}})},error:function(c){a?a.error(c):b.reject(c)}}))})}else a?a.success("Already up to date"):b.resolve("Already up to date.")}).catch(function(c){a?a.error(c):b.reject(c)}):a?a.error("Internet connection not found."):b.reject("Internet connection not found."),!a)return b.promise},m.disableSync=function(a,b){var c;if(b||(c=new j.default.Promise),j.default._validate(),l.default.getItem("cb-saveEventually-"+j.default.appId).then(function(d){var e=[];d.forEach(function(b){b.document._hash!=a._hash&&e.push(b)}),l.default.setItem("cb-saveEventually-"+j.default.appId,e).then(function(a){b?b.success(a):c.resolve(a)}).catch(function(a){b?b.error(a):c.reject(a)})}).catch(function(a){b?b.error(a):c.reject(a)}),!b)return c.promise},m._validateNotificationQuery=function(a,b){if(!b)throw"CloudQuery is null";if(!b.query)throw"There is no query in CloudQuery";b.query;return 0!==b.limit&&(b.skip>0?(--b.skip,!1):(--b.limit,!0))},j.default.CloudObject=m,b.default=j.default.CloudObject},function(a,b,c){var d,d;(function(b){!function(b){a.exports=b()}(function(){return function a(b,c,e){function f(h,i){if(!c[h]){if(!b[h]){var j="function"==typeof d&&d;if(!i&&j)return d(h,!0);if(g)return g(h,!0);var k=new Error("Cannot find module '"+h+"'");throw k.code="MODULE_NOT_FOUND",k}var l=c[h]={exports:{}};b[h][0].call(l.exports,function(a){var c=b[h][1][a];return f(c||a)},l,l.exports,a,b,c,e)}return c[h].exports}for(var g="function"==typeof d&&d,h=0;h<e.length;h++)f(e[h]);return f}({1:[function(a,c,d){(function(a){"use strict";function b(){k=!0;for(var a,b,c=l.length;c;){for(b=l,l=[],a=-1;++a<c;)b[a]();c=l.length}k=!1}function d(a){1!==l.push(a)||k||e()}var e,f=a.MutationObserver||a.WebKitMutationObserver;if(f){var g=0,h=new f(b),i=a.document.createTextNode("");h.observe(i,{characterData:!0}),e=function(){i.data=g=++g%2}}else if(a.setImmediate||void 0===a.MessageChannel)e="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var c=a.document.createElement("script");c.onreadystatechange=function(){b(),c.onreadystatechange=null,c.parentNode.removeChild(c),c=null},a.document.documentElement.appendChild(c)}:function(){setTimeout(b,0)};else{var j=new a.MessageChannel;j.port1.onmessage=b,e=function(){j.port2.postMessage(0)}}var k,l=[];c.exports=d}).call(this,void 0!==b?b:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(a,b,c){"use strict";function d(){}function e(a){if("function"!=typeof a)throw new TypeError("resolver must be a function");this.state=s,this.queue=[],this.outcome=void 0,a!==d&&i(this,a)}function f(a,b,c){this.promise=a,"function"==typeof b&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled),"function"==typeof c&&(this.onRejected=c,this.callRejected=this.otherCallRejected)}function g(a,b,c){o(function(){var d;try{d=b(c)}catch(e){return p.reject(a,e)}d===a?p.reject(a,new TypeError("Cannot resolve promise with itself")):p.resolve(a,d)})}function h(a){var b=a&&a.then;if(a&&"object"==typeof a&&"function"==typeof b)return function(){b.apply(a,arguments)}}function i(a,b){function c(b){f||(f=!0,p.reject(a,b))}function d(b){f||(f=!0,p.resolve(a,b))}function e(){b(d,c)}var f=!1,g=j(e);"error"===g.status&&c(g.value)}function j(a,b){var c={};try{c.value=a(b),c.status="success"}catch(d){c.status="error",c.value=d}return c}function k(a){return a instanceof this?a:p.resolve(new this(d),a)}function l(a){var b=new this(d);return p.reject(b,a)}function m(a){function b(a,b){function d(a){g[b]=a,++h!==e||f||(f=!0,p.resolve(j,g))}c.resolve(a).then(d,function(a){f||(f=!0,p.reject(j,a))})}var c=this;if("[object Array]"!==Object.prototype.toString.call(a))return this.reject(new TypeError("must be an array"));var e=a.length,f=!1;if(!e)return this.resolve([]);for(var g=new Array(e),h=0,i=-1,j=new this(d);++i<e;)b(a[i],i);return j}function n(a){function b(a){c.resolve(a).then(function(a){f||(f=!0,p.resolve(h,a))},function(a){f||(f=!0,p.reject(h,a))})}var c=this;if("[object Array]"!==Object.prototype.toString.call(a))return this.reject(new TypeError("must be an array"));var e=a.length,f=!1;if(!e)return this.resolve([]);for(var g=-1,h=new this(d);++g<e;)b(a[g]);return h}var o=a(1),p={},q=["REJECTED"],r=["FULFILLED"],s=["PENDING"];b.exports=c=e,e.prototype.catch=function(a){return this.then(null,a)},e.prototype.then=function(a,b){if("function"!=typeof a&&this.state===r||"function"!=typeof b&&this.state===q)return this;var c=new this.constructor(d);if(this.state!==s){g(c,this.state===r?a:b,this.outcome)}else this.queue.push(new f(c,a,b));return c},f.prototype.callFulfilled=function(a){p.resolve(this.promise,a)},f.prototype.otherCallFulfilled=function(a){g(this.promise,this.onFulfilled,a)},f.prototype.callRejected=function(a){p.reject(this.promise,a)},f.prototype.otherCallRejected=function(a){g(this.promise,this.onRejected,a)},p.resolve=function(a,b){var c=j(h,b);if("error"===c.status)return p.reject(a,c.value);var d=c.value;if(d)i(a,d);else{a.state=r,a.outcome=b;for(var e=-1,f=a.queue.length;++e<f;)a.queue[e].callFulfilled(b)}return a},p.reject=function(a,b){a.state=q,a.outcome=b;for(var c=-1,d=a.queue.length;++c<d;)a.queue[c].callRejected(b);return a},c.resolve=k,c.reject=l,c.all=m,c.race=n},{1:1}],3:[function(a,c,d){(function(b){"use strict";"function"!=typeof b.Promise&&(b.Promise=a(2))}).call(this,void 0!==b?b:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(a){}}function f(){try{if(!ga)return!1;var a="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),b="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!a||b)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(c){return!1}}function g(){return"function"==typeof openDatabase}function h(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&localStorage.setItem}catch(a){return!1}}function i(a,b){a=a||[],b=b||{};try{return new Blob(a,b)}catch(f){if("TypeError"!==f.name)throw f;for(var c="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,d=new c,e=0;e<a.length;e+=1)d.append(a[e]);return d.getBlob(b.type)}}function j(a,b){b&&a.then(function(a){b(null,a)},function(a){b(a)})}function k(a,b,c){"function"==typeof b&&a.then(b),"function"==typeof c&&a.catch(c)}function l(a){for(var b=a.length,c=new ArrayBuffer(b),d=new Uint8Array(c),e=0;e<b;e++)d[e]=a.charCodeAt(e);return c}function m(a){return new ja(function(b){var c=a.transaction(ka,"readwrite"),d=i([""]);c.objectStore(ka).put(d,"key"),c.onabort=function(a){a.preventDefault(),a.stopPropagation(),b(!1)},c.oncomplete=function(){var a=navigator.userAgent.match(/Chrome\/(\d+)/),c=navigator.userAgent.match(/Edge\//);b(c||!a||parseInt(a[1],10)>=43)}}).catch(function(){return!1})}function n(a){return"boolean"==typeof ha?ja.resolve(ha):m(a).then(function(a){return ha=a})}function o(a){var b=ia[a.name],c={};c.promise=new ja(function(a){c.resolve=a}),b.deferredOperations.push(c),b.dbReady?b.dbReady=b.dbReady.then(function(){return c.promise}):b.dbReady=c.promise}function p(a){var b=ia[a.name],c=b.deferredOperations.pop();c&&c.resolve()}function q(a,b){return new ja(function(c,d){if(a.db){if(!b)return c(a.db);o(a),a.db.close()}var e=[a.name];b&&e.push(a.version);var f=ga.open.apply(ga,e);b&&(f.onupgradeneeded=function(b){var c=f.result;try{c.createObjectStore(a.storeName),b.oldVersion<=1&&c.createObjectStore(ka)}catch(d){if("ConstraintError"!==d.name)throw d;console.warn('The database "'+a.name+'" has been upgraded from version '+b.oldVersion+" to version "+b.newVersion+', but the storage "'+a.storeName+'" already exists.')}}),f.onerror=function(a){a.preventDefault(),d(f.error)},f.onsuccess=function(){c(f.result),p(a)}})}function r(a){return q(a,!1)}function s(a){return q(a,!0)}function t(a,b){if(!a.db)return!0;var c=!a.db.objectStoreNames.contains(a.storeName),d=a.version<a.db.version,e=a.version>a.db.version;if(d&&(a.version!==b&&console.warn('The database "'+a.name+"\" can't be downgraded from version "+a.db.version+" to version "+a.version+"."),a.version=a.db.version),e||c){if(c){var f=a.db.version+1;f>a.version&&(a.version=f)}return!0}return!1}function u(a){return new ja(function(b,c){var d=new FileReader;d.onerror=c,d.onloadend=function(c){var d=btoa(c.target.result||"");b({__local_forage_encoded_blob:!0,data:d,type:a.type})},d.readAsBinaryString(a)})}function v(a){return i([l(atob(a.data))],{type:a.type})}function w(a){return a&&a.__local_forage_encoded_blob}function x(a){var b=this,c=b._initReady().then(function(){var a=ia[b._dbInfo.name];if(a&&a.dbReady)return a.dbReady});return k(c,a,a),c}function y(a){function b(){return ja.resolve()}var c=this,d={db:null};if(a)for(var e in a)d[e]=a[e];ia||(ia={});var f=ia[d.name];f||(f={forages:[],db:null,dbReady:null,deferredOperations:[]},ia[d.name]=f),f.forages.push(c),c._initReady||(c._initReady=c.ready,c.ready=x);for(var g=[],h=0;h<f.forages.length;h++){var i=f.forages[h];i!==c&&g.push(i._initReady().catch(b))}var j=f.forages.slice(0);return ja.all(g).then(function(){return d.db=f.db,r(d)}).then(function(a){return d.db=a,t(d,c._defaultConfig.version)?s(d):a}).then(function(a){d.db=f.db=a,c._dbInfo=d;for(var b=0;b<j.length;b++){var e=j[b];e!==c&&(e._dbInfo.db=d.db,e._dbInfo.version=d.version)}})}function z(a,b){var c=this;"string"!=typeof a&&(console.warn(a+" used as a key, but it is not a string."),a=String(a));var d=new ja(function(b,d){c.ready().then(function(){var e=c._dbInfo,f=e.db.transaction(e.storeName,"readonly").objectStore(e.storeName),g=f.get(a);g.onsuccess=function(){var a=g.result;void 0===a&&(a=null),w(a)&&(a=v(a)),b(a)},g.onerror=function(){d(g.error)}}).catch(d)});return j(d,b),d}function A(a,b){var c=this,d=new ja(function(b,d){c.ready().then(function(){var e=c._dbInfo,f=e.db.transaction(e.storeName,"readonly").objectStore(e.storeName),g=f.openCursor(),h=1;g.onsuccess=function(){var c=g.result;if(c){var d=c.value;w(d)&&(d=v(d));var e=a(d,c.key,h++);void 0!==e?b(e):c.continue()}else b()},g.onerror=function(){d(g.error)}}).catch(d)});return j(d,b),d}function B(a,b,c){var d=this;"string"!=typeof a&&(console.warn(a+" used as a key, but it is not a string."),a=String(a));var e=new ja(function(c,e){var f;d.ready().then(function(){return f=d._dbInfo,"[object Blob]"===la.call(b)?n(f.db).then(function(a){return a?b:u(b)}):b}).then(function(b){var d=f.db.transaction(f.storeName,"readwrite"),g=d.objectStore(f.storeName),h=g.put(b,a);null===b&&(b=void 0),d.oncomplete=function(){void 0===b&&(b=null),c(b)},d.onabort=d.onerror=function(){var a=h.error?h.error:h.transaction.error;e(a)}}).catch(e)});return j(e,c),e}function C(a,b){var c=this;"string"!=typeof a&&(console.warn(a+" used as a key, but it is not a string."),a=String(a));var d=new ja(function(b,d){c.ready().then(function(){var e=c._dbInfo,f=e.db.transaction(e.storeName,"readwrite"),g=f.objectStore(e.storeName),h=g.delete(a);f.oncomplete=function(){b()},f.onerror=function(){d(h.error)},f.onabort=function(){var a=h.error?h.error:h.transaction.error;d(a)}}).catch(d)});return j(d,b),d}function D(a){var b=this,c=new ja(function(a,c){b.ready().then(function(){var d=b._dbInfo,e=d.db.transaction(d.storeName,"readwrite"),f=e.objectStore(d.storeName),g=f.clear();e.oncomplete=function(){a()},e.onabort=e.onerror=function(){var a=g.error?g.error:g.transaction.error;c(a)}}).catch(c)});return j(c,a),c}function E(a){var b=this,c=new ja(function(a,c){b.ready().then(function(){var d=b._dbInfo,e=d.db.transaction(d.storeName,"readonly").objectStore(d.storeName),f=e.count();f.onsuccess=function(){a(f.result)},f.onerror=function(){c(f.error)}}).catch(c)});return j(c,a),c}function F(a,b){var c=this,d=new ja(function(b,d){if(a<0)return void b(null);c.ready().then(function(){var e=c._dbInfo,f=e.db.transaction(e.storeName,"readonly").objectStore(e.storeName),g=!1,h=f.openCursor();h.onsuccess=function(){var c=h.result;if(!c)return void b(null);0===a?b(c.key):g?b(c.key):(g=!0,c.advance(a))},h.onerror=function(){d(h.error)}}).catch(d)});return j(d,b),d}function G(a){var b=this,c=new ja(function(a,c){b.ready().then(function(){var d=b._dbInfo,e=d.db.transaction(d.storeName,"readonly").objectStore(d.storeName),f=e.openCursor(),g=[];f.onsuccess=function(){var b=f.result;if(!b)return void a(g);g.push(b.key),b.continue()},f.onerror=function(){c(f.error)}}).catch(c)});return j(c,a),c}function H(a){var b,c,d,e,f,g=.75*a.length,h=a.length,i=0;"="===a[a.length-1]&&(g--,"="===a[a.length-2]&&g--);var j=new ArrayBuffer(g),k=new Uint8Array(j);for(b=0;b<h;b+=4)c=na.indexOf(a[b]),d=na.indexOf(a[b+1]),e=na.indexOf(a[b+2]),f=na.indexOf(a[b+3]),k[i++]=c<<2|d>>4,k[i++]=(15&d)<<4|e>>2,k[i++]=(3&e)<<6|63&f;return j}function I(a){var b,c=new Uint8Array(a),d="";for(b=0;b<c.length;b+=3)d+=na[c[b]>>2],d+=na[(3&c[b])<<4|c[b+1]>>4],d+=na[(15&c[b+1])<<2|c[b+2]>>6],d+=na[63&c[b+2]];return c.length%3==2?d=d.substring(0,d.length-1)+"=":c.length%3==1&&(d=d.substring(0,d.length-2)+"=="),d}function J(a,b){var c="";if(a&&(c=Ea.call(a)),a&&("[object ArrayBuffer]"===c||a.buffer&&"[object ArrayBuffer]"===Ea.call(a.buffer))){var d,e=qa;a instanceof ArrayBuffer?(d=a,e+=sa):(d=a.buffer,"[object Int8Array]"===c?e+=ua:"[object Uint8Array]"===c?e+=va:"[object Uint8ClampedArray]"===c?e+=wa:"[object Int16Array]"===c?e+=xa:"[object Uint16Array]"===c?e+=za:"[object Int32Array]"===c?e+=ya:"[object Uint32Array]"===c?e+=Aa:"[object Float32Array]"===c?e+=Ba:"[object Float64Array]"===c?e+=Ca:b(new Error("Failed to get type for BinaryArray"))),b(e+I(d))}else if("[object Blob]"===c){var f=new FileReader;f.onload=function(){var c=oa+a.type+"~"+I(this.result);b(qa+ta+c)},f.readAsArrayBuffer(a)}else try{b(JSON.stringify(a))}catch(g){console.error("Couldn't convert value into a JSON string: ",a),b(null,g)}}function K(a){if(a.substring(0,ra)!==qa)return JSON.parse(a);var b,c=a.substring(Da),d=a.substring(ra,Da);if(d===ta&&pa.test(c)){var e=c.match(pa);b=e[1],c=c.substring(e[0].length)}var f=H(c);switch(d){case sa:return f;case ta:return i([f],{type:b});case ua:return new Int8Array(f);case va:return new Uint8Array(f);case wa:return new Uint8ClampedArray(f);case xa:return new Int16Array(f);case za:return new Uint16Array(f);case ya:return new Int32Array(f);case Aa:return new Uint32Array(f);case Ba:return new Float32Array(f);case Ca:return new Float64Array(f);default:throw new Error("Unkown type: "+d)}}function L(a){var b=this,c={db:null};if(a)for(var d in a)c[d]="string"!=typeof a[d]?a[d].toString():a[d];var e=new ja(function(a,d){try{c.db=openDatabase(c.name,String(c.version),c.description,c.size)}catch(e){return d(e)}c.db.transaction(function(e){e.executeSql("CREATE TABLE IF NOT EXISTS "+c.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],function(){b._dbInfo=c,a()},function(a,b){d(b)})})});return c.serializer=Fa,e}function M(a,b){var c=this;"string"!=typeof a&&(console.warn(a+" used as a key, but it is not a string."),a=String(a));var d=new ja(function(b,d){c.ready().then(function(){var e=c._dbInfo;e.db.transaction(function(c){c.executeSql("SELECT * FROM "+e.storeName+" WHERE key = ? LIMIT 1",[a],function(a,c){var d=c.rows.length?c.rows.item(0).value:null;d&&(d=e.serializer.deserialize(d)),b(d)},function(a,b){d(b)})})}).catch(d)});return j(d,b),d}function N(a,b){var c=this,d=new ja(function(b,d){c.ready().then(function(){var e=c._dbInfo;e.db.transaction(function(c){c.executeSql("SELECT * FROM "+e.storeName,[],function(c,d){for(var f=d.rows,g=f.length,h=0;h<g;h++){var i=f.item(h),j=i.value;if(j&&(j=e.serializer.deserialize(j)),void 0!==(j=a(j,i.key,h+1)))return void b(j)}b()},function(a,b){d(b)})})}).catch(d)});return j(d,b),d}function O(a,b,c,d){var e=this;"string"!=typeof a&&(console.warn(a+" used as a key, but it is not a string."),a=String(a));var f=new ja(function(f,g){e.ready().then(function(){void 0===b&&(b=null);var h=b,i=e._dbInfo;i.serializer.serialize(b,function(b,j){j?g(j):i.db.transaction(function(c){c.executeSql("INSERT OR REPLACE INTO "+i.storeName+" (key, value) VALUES (?, ?)",[a,b],function(){f(h)},function(a,b){g(b)})},function(b){if(b.code===b.QUOTA_ERR){if(d>0)return void f(O.apply(e,[a,h,c,d-1]));g(b)}})})}).catch(g)});return j(f,c),f}function P(a,b,c){return O.apply(this,[a,b,c,1])}function Q(a,b){var c=this;"string"!=typeof a&&(console.warn(a+" used as a key, but it is not a string."),a=String(a));var d=new ja(function(b,d){c.ready().then(function(){var e=c._dbInfo;e.db.transaction(function(c){c.executeSql("DELETE FROM "+e.storeName+" WHERE key = ?",[a],function(){b()},function(a,b){d(b)})})}).catch(d)});return j(d,b),d}function R(a){var b=this,c=new ja(function(a,c){b.ready().then(function(){var d=b._dbInfo;d.db.transaction(function(b){b.executeSql("DELETE FROM "+d.storeName,[],function(){a()},function(a,b){c(b)})})}).catch(c)});return j(c,a),c}function S(a){var b=this,c=new ja(function(a,c){b.ready().then(function(){var d=b._dbInfo;d.db.transaction(function(b){b.executeSql("SELECT COUNT(key) as c FROM "+d.storeName,[],function(b,c){var d=c.rows.item(0).c;a(d)},function(a,b){c(b)})})}).catch(c)});return j(c,a),c}function T(a,b){var c=this,d=new ja(function(b,d){c.ready().then(function(){var e=c._dbInfo;e.db.transaction(function(c){c.executeSql("SELECT key FROM "+e.storeName+" WHERE id = ? LIMIT 1",[a+1],function(a,c){var d=c.rows.length?c.rows.item(0).key:null;b(d)},function(a,b){d(b)})})}).catch(d)});return j(d,b),d}function U(a){var b=this,c=new ja(function(a,c){b.ready().then(function(){var d=b._dbInfo;d.db.transaction(function(b){b.executeSql("SELECT key FROM "+d.storeName,[],function(b,c){for(var d=[],e=0;e<c.rows.length;e++)d.push(c.rows.item(e).key);a(d)},function(a,b){c(b)})})}).catch(c)});return j(c,a),c}function V(a){var b=this,c={};if(a)for(var d in a)c[d]=a[d];return c.keyPrefix=c.name+"/",c.storeName!==b._defaultConfig.storeName&&(c.keyPrefix+=c.storeName+"/"),b._dbInfo=c,c.serializer=Fa,ja.resolve()}function W(a){var b=this,c=b.ready().then(function(){for(var a=b._dbInfo.keyPrefix,c=localStorage.length-1;c>=0;c--){var d=localStorage.key(c);0===d.indexOf(a)&&localStorage.removeItem(d)}});return j(c,a),c}function X(a,b){var c=this;"string"!=typeof a&&(console.warn(a+" used as a key, but it is not a string."),a=String(a));var d=c.ready().then(function(){var b=c._dbInfo,d=localStorage.getItem(b.keyPrefix+a);return d&&(d=b.serializer.deserialize(d)),d});return j(d,b),d}function Y(a,b){var c=this,d=c.ready().then(function(){for(var b=c._dbInfo,d=b.keyPrefix,e=d.length,f=localStorage.length,g=1,h=0;h<f;h++){var i=localStorage.key(h);if(0===i.indexOf(d)){var j=localStorage.getItem(i);if(j&&(j=b.serializer.deserialize(j)),void 0!==(j=a(j,i.substring(e),g++)))return j}}});return j(d,b),d}function Z(a,b){var c=this,d=c.ready().then(function(){var b,d=c._dbInfo;try{b=localStorage.key(a)}catch(e){b=null}return b&&(b=b.substring(d.keyPrefix.length)),b});return j(d,b),d}function $(a){var b=this,c=b.ready().then(function(){for(var a=b._dbInfo,c=localStorage.length,d=[],e=0;e<c;e++)0===localStorage.key(e).indexOf(a.keyPrefix)&&d.push(localStorage.key(e).substring(a.keyPrefix.length));return d});return j(c,a),c}function _(a){var b=this,c=b.keys().then(function(a){return a.length});return j(c,a),c}function aa(a,b){var c=this;"string"!=typeof a&&(console.warn(a+" used as a key, but it is not a string."),a=String(a));var d=c.ready().then(function(){var b=c._dbInfo;localStorage.removeItem(b.keyPrefix+a)});return j(d,b),d}function ba(a,b,c){var d=this;"string"!=typeof a&&(console.warn(a+" used as a key, but it is not a string."),a=String(a));var e=d.ready().then(function(){void 0===b&&(b=null);var c=b;return new ja(function(e,f){var g=d._dbInfo;g.serializer.serialize(b,function(b,d){if(d)f(d);else try{localStorage.setItem(g.keyPrefix+a,b),e(c)}catch(h){"QuotaExceededError"!==h.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==h.name||f(h),f(h)}})})});return j(e,c),e}function ca(a,b){a[b]=function(){var c=arguments;return a.ready().then(function(){return a[b].apply(a,c)})}}function da(){for(var a=1;a<arguments.length;a++){var b=arguments[a]
;if(b)for(var c in b)b.hasOwnProperty(c)&&(Oa(b[c])?arguments[0][c]=b[c].slice():arguments[0][c]=b[c])}return arguments[0]}function ea(a){for(var b in Ja)if(Ja.hasOwnProperty(b)&&Ja[b]===a)return!0;return!1}var fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},ga=e();"undefined"==typeof Promise&&a(3);var ha,ia,ja=Promise,ka="local-forage-detect-blob-support",la=Object.prototype.toString,ma={_driver:"asyncStorage",_initStorage:y,iterate:A,getItem:z,setItem:B,removeItem:C,clear:D,length:E,key:F,keys:G},na="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",oa="~~local_forage_type~",pa=/^~~local_forage_type~([^~]+)~/,qa="__lfsc__:",ra=qa.length,sa="arbf",ta="blob",ua="si08",va="ui08",wa="uic8",xa="si16",ya="si32",za="ur16",Aa="ui32",Ba="fl32",Ca="fl64",Da=ra+sa.length,Ea=Object.prototype.toString,Fa={serialize:J,deserialize:K,stringToBuffer:H,bufferToString:I},Ga={_driver:"webSQLStorage",_initStorage:L,iterate:N,getItem:M,setItem:P,removeItem:Q,clear:R,length:S,key:T,keys:U},Ha={_driver:"localStorageWrapper",_initStorage:V,iterate:Y,getItem:X,setItem:ba,removeItem:aa,clear:W,length:_,key:Z,keys:$},Ia={},Ja={INDEXEDDB:"asyncStorage",LOCALSTORAGE:"localStorageWrapper",WEBSQL:"webSQLStorage"},Ka=[Ja.INDEXEDDB,Ja.WEBSQL,Ja.LOCALSTORAGE],La=["clear","getItem","iterate","key","keys","length","removeItem","setItem"],Ma={description:"",driver:Ka.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1},Na={};Na[Ja.INDEXEDDB]=f(),Na[Ja.WEBSQL]=g(),Na[Ja.LOCALSTORAGE]=h();var Oa=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},Pa=function(){function a(b){d(this,a),this.INDEXEDDB=Ja.INDEXEDDB,this.LOCALSTORAGE=Ja.LOCALSTORAGE,this.WEBSQL=Ja.WEBSQL,this._defaultConfig=da({},Ma),this._config=da({},this._defaultConfig,b),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return a.prototype.config=function(a){if("object"===(void 0===a?"undefined":fa(a))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var b in a){if("storeName"===b&&(a[b]=a[b].replace(/\W/g,"_")),"version"===b&&"number"!=typeof a[b])return new Error("Database version must be a number.");this._config[b]=a[b]}return!("driver"in a&&a.driver)||this.setDriver(this._config.driver)}return"string"==typeof a?this._config[a]:this._config},a.prototype.defineDriver=function(a,b,c){var d=new ja(function(b,c){try{var d=a._driver,e=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver"),f=new Error("Custom driver name already in use: "+a._driver);if(!a._driver)return void c(e);if(ea(a._driver))return void c(f);for(var g=La.concat("_initStorage"),h=0;h<g.length;h++){var i=g[h];if(!i||!a[i]||"function"!=typeof a[i])return void c(e)}var j=ja.resolve(!0);"_support"in a&&(j=a._support&&"function"==typeof a._support?a._support():ja.resolve(!!a._support)),j.then(function(c){Na[d]=c,Ia[d]=a,b()},c)}catch(k){c(k)}});return k(d,b,c),d},a.prototype.driver=function(){return this._driver||null},a.prototype.getDriver=function(a,b,c){var d=this,e=ja.resolve().then(function(){if(!ea(a)){if(Ia[a])return Ia[a];throw new Error("Driver not found.")}switch(a){case d.INDEXEDDB:return ma;case d.LOCALSTORAGE:return Ha;case d.WEBSQL:return Ga}});return k(e,b,c),e},a.prototype.getSerializer=function(a){var b=ja.resolve(Fa);return k(b,a),b},a.prototype.ready=function(a){var b=this,c=b._driverSet.then(function(){return null===b._ready&&(b._ready=b._initDriver()),b._ready});return k(c,a,a),c},a.prototype.setDriver=function(a,b,c){function d(){g._config.driver=g.driver()}function e(a){return g._extend(a),d(),g._ready=g._initStorage(g._config),g._ready}function f(a){return function(){function b(){for(;c<a.length;){var f=a[c];return c++,g._dbInfo=null,g._ready=null,g.getDriver(f).then(e).catch(b)}d();var h=new Error("No available storage method found.");return g._driverSet=ja.reject(h),g._driverSet}var c=0;return b()}}var g=this;Oa(a)||(a=[a]);var h=this._getSupportedDrivers(a),i=null!==this._driverSet?this._driverSet.catch(function(){return ja.resolve()}):ja.resolve();return this._driverSet=i.then(function(){var a=h[0];return g._dbInfo=null,g._ready=null,g.getDriver(a).then(function(a){g._driver=a._driver,d(),g._wrapLibraryMethodsWithReady(),g._initDriver=f(h)})}).catch(function(){d();var a=new Error("No available storage method found.");return g._driverSet=ja.reject(a),g._driverSet}),k(this._driverSet,b,c),this._driverSet},a.prototype.supports=function(a){return!!Na[a]},a.prototype._extend=function(a){da(this,a)},a.prototype._getSupportedDrivers=function(a){for(var b=[],c=0,d=a.length;c<d;c++){var e=a[c];this.supports(e)&&b.push(e)}return b},a.prototype._wrapLibraryMethodsWithReady=function(){for(var a=0;a<La.length;a++)ca(this,La[a])},a.prototype.createInstance=function(b){return new a(b)},a}(),Qa=new Pa;b.exports=Qa},{3:3}]},{},[4])(4)})}).call(b,function(){return this}())},function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(1),f=d(e);f.default.CloudFile=f.default.CloudFile||function(a,b,c,d){if(d||(d="/"+f.default.appId),"[object File]"===Object.prototype.toString.call(a)||"[object Blob]"===Object.prototype.toString.call(a))this.fileObj=a,this.document={_id:null,_type:"file",_tableName:"_File",ACL:new f.default.ACL,name:a&&a.name&&""!==a.name?a.name:"default.file",size:a.size,url:null,expires:null,path:d,updatedAt:Date.now(),createdAt:Date.now(),contentType:void 0!==a.type&&""!==a.type?a.type:"unknown"},this.document._modifiedColumns=["name","updatedAt","ACL","expires","size","url","path","createdAt","contentType"],this.document._isModified=!0;else if("string"==typeof a){var e=RegExp("https?://(?:www.|(?!www))[^s.]+.[^s]{2,}|www.[^s]+.[^s]{2,}");e.test(a)?(this.document={_id:null,_type:"file",_tableName:"_File",ACL:new f.default.ACL,name:"",size:"",url:a,expires:null,path:d,updatedAt:Date.now(),createdAt:Date.now(),contentType:""},this.document._modifiedColumns=["name","updatedAt","ACL","expires","size","url","path","createdAt","contentType"],this.document._isModified=!0):b?(this.data=b,c||(c=a.split(".")[a.split(".").length-1]),this.document={_id:null,_type:"file",_tableName:"_File",ACL:new f.default.ACL,name:a,size:"",url:null,path:d,updatedAt:Date.now(),createdAt:Date.now(),expires:null,contentType:c},this.document._modifiedColumns=["name","updatedAt","ACL","expires","size","url","path","createdAt","contentType"],this.document._isModified=!0):(this.document={_id:a,_type:"file",_tableName:"_File"},this.document._modifiedColumns=["name","updatedAt","ACL","expires","size","url","path","createdAt","contentType"],this.document._isModified=!0)}},f.default.CloudFile.prototype=Object.create(f.default.CloudObject.prototype),Object.defineProperty(f.default.CloudFile.prototype,"type",{get:function(){return this.document.contentType},set:function(a){this.document.contentType=a}}),Object.defineProperty(f.default.CloudFile.prototype,"url",{get:function(){return this.document.url},set:function(a){this.document.url=a}}),Object.defineProperty(f.default.CloudFile.prototype,"size",{get:function(){return this.document.size}}),Object.defineProperty(f.default.CloudFile.prototype,"name",{get:function(){return this.document.name},set:function(a){this.document.name=a}}),Object.defineProperty(f.default.CloudFile.prototype,"path",{get:function(){return this.document.path},set:function(a){this.document.path=a}}),Object.defineProperty(f.default.CloudFile.prototype,"createdAt",{get:function(){return this.document.createdAt}}),Object.defineProperty(f.default.CloudFile.prototype,"updatedAt",{get:function(){return this.document.updatedAt}}),f.default.CloudFile.prototype.save=function(a){var b;a||(b=new f.default.Promise);var c=this;if(!this.fileObj&&!this.data&&"folder"!=this.type&&!this.url)throw"You cannot save a file which is null";if(this.data){var d=this.data,e=JSON.stringify({data:d,fileObj:f.default.toJSON(this),key:f.default.appKey}),g=f.default.apiUrl+"/file/"+f.default.appId,h=null;a&&a.uploadProgress&&(h=a.uploadProgress),f.default._request("POST",g,e,null,null,h).then(function(d){c.document=JSON.parse(d),delete c.data,a?a.success(c):b.resolve(c)},function(c){a?a.error(c):b.reject(c)})}else{var e;try{window?(e=new FormData,e.append("fileToUpload",this.fileObj),e.append("key",f.default.appKey),e.append("fileObj",JSON.stringify(f.default.toJSON(c)))):(e={},e.fileToUpload=this.fileObj,e.key=f.default.appKey,e.fileObj=JSON.stringify(f.default.toJSON(c)))}catch(i){e={},e.fileToUpload=this.fileObj,e.key=f.default.appKey,e.fileObj=JSON.stringify(f.default.toJSON(c))}var g=f.default.apiUrl+"/file/"+f.default.appId,h=null;a&&a.uploadProgress&&(h=a.uploadProgress),f.default._request("POST",g,e,!1,!0,h).then(function(d){c.document=JSON.parse(d),a?a.success(c):b.resolve(c)},function(c){a?a.error(c):b.reject(c)})}if(!a)return b.promise},f.default.CloudFile.prototype.delete=function(a){var b;if(!this.url)throw"You cannot delete a file which does not have an URL";a||(b=new f.default.Promise);var c=this,d=JSON.stringify({fileObj:f.default.toJSON(c),key:f.default.appKey,method:"PUT"}),e=f.default.apiUrl+"/file/"+f.default.appId+"/"+this.document._id;if(f.default._request("PUT",e,d).then(function(d){c.url=null,a?a.success(c):b.resolve(c)},function(c){a?a.error(c):b.reject(c)}),!a)return b.promise},f.default.CloudFile.prototype.getFileContent=function(a){var b;if(!this.url)throw"URL is null. Fetch this file object first using fetch()";a||(b=new f.default.Promise);var c=JSON.stringify({key:f.default.appKey}),d=this.url;if(f.default._request("POST",d,c).then(function(c){a?a.success(c):b.resolve(c)},function(c){a?a.error(c):b.reject(c)}),!a)return b.promise},b.default=f.default.CloudFile},function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=c(1),i=d(h),j=function(){function a(b,c){if(e(this,a),void 0===b||null==b)throw"Cannot create a queue with empty name";if(this.document={},this.document.ACL=new i.default.ACL,this.document._type="queue",this.document.expires=null,this.document.name=b,this.document.retry=null,this.document.subscribers=[],this.document.messages=[],c&&"push"!==c&&"pull"!==c)throw"Type can be push or pull";this.document.queueType=c||"pull"}return g(a,[{key:"addMessage",value:function(a,b){if(null==a)throw"Message cannot be null";var c;i.default._validate(),b||(c=new i.default.Promise);var d=[];a.constructor!==Array?d.push(a):d=a;for(var e=0;e<d.length;e++)d[e]instanceof i.default.QueueMessage||(d[e]=new i.default.QueueMessage(d[e]));this.document.messages=d;var f=this,g=JSON.stringify({document:i.default.toJSON(f),key:i.default.appKey}),h=i.default.apiUrl+"/queue/"+i.default.appId+"/"+f.document.name+"/message";i.default._request("PUT",h,g).then(function(a){var d=i.default.fromJSON(JSON.parse(a));b?b.success(d):c.resolve(d)},function(a){b?b.error(a):c.reject(a)})}},{key:"updateMessage",value:function(a,b){if(null==a)throw"Message cannot be null";i.default._validate(),b||new i.default.Promise;var c=[];if(a.constructor!==Array){if(!a.id)throw"Message cannot be updated because it has never been saved.";c.push(a)}else{c=a;for(var d=0;d<c.length;d++){if(!(c[d]instanceof i.default.QueueMessage))throw"Message is not an instance of QueueMessage.";if(!message[d].id)throw"Message cannot be updated because it has never been saved."}}return this.addMessage(a,b)}},{key:"getMessage",value:function(a,b){var c;i.default._validate(),b||(c=new i.default.Promise),"object"!==(void 0===a?"undefined":f(a))||b||(b=a,a=null),a||(a=1);var d=this,e=JSON.stringify({count:a,key:i.default.appKey}),g=i.default.apiUrl+"/queue/"+i.default.appId+"/"+d.document.name+"/getMessage";i.default._request("POST",g,e).then(function(a){a&&""!==a||(a=null),b?b.success(i.default.fromJSON(JSON.parse(a))):c.resolve(i.default.fromJSON(JSON.parse(a)))},function(a){b?b.error(a):c.reject(a)})}},{key:"getAllMessages",value:function(a){var b;i.default._validate(),a||(b=new i.default.Promise),"object"!==("undefined"==typeof count?"undefined":f(count))||a||(a=count,count=null);var c=this,d=JSON.stringify({key:i.default.appKey}),e=i.default.apiUrl+"/queue/"+i.default.appId+"/"+c.document.name+"/messages";i.default._request("POST",e,d).then(function(c){c&&""!==c||(c=null),a?a.success(i.default.fromJSON(JSON.parse(c))):b.resolve(i.default.fromJSON(JSON.parse(c)))},function(c){a?a.error(c):b.reject(c)})}},{key:"getMessageById",value:function(a,b){var c;i.default._validate(),b||(c=new i.default.Promise);var d=JSON.stringify({key:i.default.appKey}),e=i.default.apiUrl+"/queue/"+i.default.appId+"/"+this.document.name+"/message/"+a;i.default._request("POST",e,d).then(function(a){a&&""!==a||(a=null),b?b.success(i.default.fromJSON(JSON.parse(a))):c.resolve(i.default.fromJSON(JSON.parse(a)))},function(a){b?b.error(a):c.reject(a)})}},{key:"get",value:function(a){var b;i.default._validate(),a||(b=new i.default.Promise);var c=this,d=JSON.stringify({key:i.default.appKey}),e=i.default.apiUrl+"/queue/"+i.default.appId+"/"+c.document.name+"/";i.default._request("POST",e,d).then(function(d){a?a.success(i.default.fromJSON(JSON.parse(d),c)):b.resolve(i.default.fromJSON(JSON.parse(d),c))},function(c){a?a.error(c):b.reject(c)})}},{key:"create",value:function(a){var b;i.default._validate(),a||(b=new i.default.Promise);var c=this,d=JSON.stringify({key:i.default.appKey,document:i.default.toJSON(c)}),e=i.default.apiUrl+"/queue/"+i.default.appId+"/"+c.document.name+"/create";i.default._request("POST",e,d).then(function(d){a?a.success(i.default.fromJSON(JSON.parse(d),c)):b.resolve(i.default.fromJSON(JSON.parse(d),c))},function(c){a?a.error(c):b.reject(c)})}},{key:"addSubscriber",value:function(a,b){var c;i.default._validate(),b||(c=new i.default.Promise);var d=this.document.subscribers;if(this.document.subscribers=[],a.constructor===Array)for(var e=0;e<a.length;e++)this.document.subscribers.push(a[e]);else this.document.subscribers.push(a);var f=JSON.stringify({key:i.default.appKey,document:i.default.toJSON(this)}),g=this,a=i.default.apiUrl+"/queue/"+i.default.appId+"/"+g.document.name+"/subscriber/";i.default._request("POST",a,f).then(function(a){g=i.default.fromJSON(JSON.parse(a),g),b?b.success(g):c.resolve(g)},function(a){g.document.subscribers=d,b?b.error(a):c.reject(a)})}},{key:"removeSubscriber",value:function(a,b){var c;i.default._validate(),b||(c=new i.default.Promise);var d=this.document.subscribers;if(this.document.subscribers=[],a.constructor===Array)for(var e=0;e<a.length;e++)this.document.subscribers.push(a[e]);else this.document.subscribers.push(a);var f=this,g=JSON.stringify({key:i.default.appKey,document:i.default.toJSON(f),method:"DELETE"}),a=i.default.apiUrl+"/queue/"+i.default.appId+"/"+f.document.name+"/subscriber/";i.default._request("PUT",a,g).then(function(a){f=i.default.fromJSON(JSON.parse(a),f),b?b.success(f):c.resolve(f)},function(a){this.document.subscribers=d,b?b.error(a):c.reject(a)})}},{key:"peekMessage",value:function(a,b){var c;i.default._validate(),b||(c=new i.default.Promise),"object"!==(void 0===a?"undefined":f(a))||b||(b=a,a=null),a||(a=1);var d=JSON.stringify({key:i.default.appKey,count:a}),e=i.default.apiUrl+"/queue/"+i.default.appId+"/"+this.document.name+"/peekMessage";i.default._request("POST",e,d).then(function(a){b?b.success(i.default.fromJSON(JSON.parse(a))):c.resolve(i.default.fromJSON(JSON.parse(a)))},function(a){b?b.error(a):c.reject(a)})}},{key:"delete",value:function(a){var b;i.default._validate(),a||(b=new i.default.Promise);var c=JSON.stringify({key:i.default.appKey,document:i.default.toJSON(this),method:"DELETE"}),d=this,e=i.default.apiUrl+"/queue/"+i.default.appId+"/"+d.document.name;i.default._request("PUT",e,c).then(function(c){d=i.default.fromJSON(JSON.parse(c),d),a?a.success(d):b.resolve(d)},function(c){a?a.error(c):b.reject(c)})}},{key:"clear",value:function(a){var b;i.default._validate(),a||(b=new i.default.Promise);var c=JSON.stringify({key:i.default.appKey,document:i.default.toJSON(this),method:"DELETE"}),d=this,e=i.default.apiUrl+"/queue/"+i.default.appId+"/"+d.document.name+"/clear";i.default._request("PUT",e,c).then(function(c){d=i.default.fromJSON(JSON.parse(c),d),a?a.success(d):b.resolve(d)},function(c){a?a.error(c):b.reject(c)})}},{key:"refreshMessageTimeout",value:function(a,b,c){var d;if(i.default._validate(),c||(d=new i.default.Promise),!a)throw"Message Id cannot be null";if(a instanceof i.default.QueueMessage){if(!a.id)throw"Queue Message should have an id.";a=a.id}c||!b.success&&!b.error||(c=b,b=null);var e=JSON.stringify({key:i.default.appKey,timeout:b}),f=this,g=i.default.apiUrl+"/queue/"+i.default.appId+"/"+f.document.name+"/"+a+"/refresh-message-timeout";i.default._request("PUT",g,e).then(function(a){c?c.success(i.default.fromJSON(JSON.parse(a))):d.resolve(i.default.fromJSON(JSON.parse(a)))},function(a){c?c.error(a):d.reject(a)})}},{key:"deleteMessage",value:function(a,b){var c;if(i.default._validate(),!a||!(a instanceof i.default.QueueMessage)&&"string"!=typeof a)throw"Delete Message function should have id of the message or insance of QueueMessage as the first parameter. ";a instanceof i.default.QueueMessage&&(a=a.id),b||(c=new i.default.Promise);var d=JSON.stringify({key:i.default.appKey,method:"DELETE"}),e=this,f=i.default.apiUrl+"/queue/"+i.default.appId+"/"+e.document.name+"/message/"+a;i.default._request("PUT",f,d).then(function(a){b?b.success(i.default.fromJSON(JSON.parse(a))):c.resolve(i.default.fromJSON(JSON.parse(a)))},function(a){b?b.error(a):c.reject(a)})}},{key:"update",value:function(a){var b;i.default._validate(),a||(b=new i.default.Promise);var c=this,d=JSON.stringify({key:i.default.appKey,document:i.default.toJSON(c)}),e=i.default.apiUrl+"/queue/"+i.default.appId+"/"+c.document.name;i.default._request("PUT",e,d).then(function(d){a?a.success(i.default.fromJSON(JSON.parse(d),c)):b.resolve(i.default.fromJSON(JSON.parse(d),c))},function(c){a?a.error(c):b.reject(c)})}}]),a}();Object.defineProperty(j.prototype,"retry",{get:function(){return this.document.retry},set:function(a){if("push"!==this.queueType)throw"Queue Type should be push to set this property";this.document.retry=a,i.default._modified(this,"retry")}}),Object.defineProperty(j.prototype,"size",{get:function(){return this.document.size?this.document.size:0}}),Object.defineProperty(j.prototype,"name",{get:function(){return this.document.name}}),Object.defineProperty(j.prototype,"subscribers",{get:function(){return this.document.subscribers}}),Object.defineProperty(j.prototype,"type",{get:function(){return this.document.queueType},set:function(a){this.document.queueType=a,i.default._modified(this,"queueType")}}),Object.defineProperty(j.prototype,"ACL",{get:function(){return this.document.ACL},set:function(a){this.document.ACL=a,i.default._modified(this,"ACL")}}),Object.defineProperty(j.prototype,"id",{get:function(){return this.document._id}}),Object.defineProperty(j.prototype,"createdAt",{get:function(){return this.document.createdAt}}),Object.defineProperty(j.prototype,"updatedAt",{get:function(){return this.document.updatedAt}}),Object.defineProperty(j.prototype,"expires",{get:function(){return this.document.expires},set:function(a){this.document.expires=a,i.default._modified(this,"expires")}}),j.getAll=function(a){var b;i.default._validate(),a||(b=new i.default.Promise);var c=JSON.stringify({key:i.default.appKey}),d=i.default.apiUrl+"/queue/"+i.default.appId+"/";i.default._request("POST",d,c).then(function(c){""===c&&(c=null),a?a.success(i.default.fromJSON(JSON.parse(c))):b.resolve(i.default.fromJSON(JSON.parse(c)))},function(c){a?a.error(c):b.reject(c)})},j.get=function(a,b){return new i.default.CloudQueue(a).get(b)},j.delete=function(a,b){return new i.default.CloudQueue(a).delete(b)},i.default.CloudQueue=j,i.default.QueueMessage=function(a){this.document={},this.document.ACL=new i.default.ACL,this.document._type="queue-message",this.document.expires=null,this.document.timeout=1800,this.document.delay=null,this.document.message=a,this.document._id=null,this.document._modifiedColumns=["createdAt","updatedAt","ACL","expires","timeout","delay","message"],this.document._isModified=!0},Object.defineProperty(i.default.QueueMessage.prototype,"message",{get:function(){return this.document.message},set:function(a){this.document.message=a,i.default._modified(this,"message")}}),Object.defineProperty(i.default.QueueMessage.prototype,"ACL",{get:function(){return this.document.ACL},set:function(a){this.document.ACL=a,i.default._modified(this,"ACL")}}),Object.defineProperty(i.default.QueueMessage.prototype,"id",{get:function(){return this.document._id}}),Object.defineProperty(i.default.QueueMessage.prototype,"createdAt",{get:function(){return this.document.createdAt},set:function(a){this.document.createdAt=a,i.default._modified(this,"createdAt")}}),Object.defineProperty(i.default.QueueMessage.prototype,"updatedAt",{get:function(){return this.document.updatedAt},set:function(a){this.document.updatedAt=a,i.default._modified(this,"updatedAt")}}),Object.defineProperty(i.default.QueueMessage.prototype,"expires",{get:function(){return this.document.expires},set:function(a){this.document.expires=a,i.default._modified(this,"expires")}}),Object.defineProperty(i.default.QueueMessage.prototype,"timeout",{get:function(){return this.document.timeout},set:function(a){this.document.timeout=a,i.default._modified(this,"timeout")}}),Object.defineProperty(i.default.QueueMessage.prototype,"delay",{get:function(){return this.document.delay?this.document.delay/1e3:0},set:function(a){a*=1e3,this.document.delay=a,i.default._modified(this,"delay")}}),b.default=i.default.CloudQueue},function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f=c(1),g=d(f),h=function a(b){e(this,a),this.document||(this.document={}),this.document._tableName="Role",this.document._type="role",this.document.name=b,this.document.expires=null,this.document.ACL=new g.default.ACL,this.document.expires=null,this.document._isModified=!0,this.document._modifiedColumns=["createdAt","updatedAt","ACL","name","expires"]};h.prototype=Object.create(g.default.CloudObject.prototype),Object.defineProperty(h.prototype,"name",{get:function(){return this.document.name},set:function(a){this.document.name=a,g.default._modified(this,a)}}),g.default.CloudRole=g.default.CloudRole||h,b.default=g.default.CloudRole},function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(){try{var a=!!window.opr&&!!opr.addons||!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,b="undefined"!=typeof InstallTrigger,c=/constructor/i.test(window.HTMLElement)||function(a){return"[object SafariRemoteNotification]"===a.toString()}(!window.safari||safari.pushNotification),d=!!document.documentMode,e=!d&&!!window.StyleMedia;return!!window.chrome&&!!window.chrome.webstore?"Chrome":e?"Edge":d?"Internet Explorer":c?"Safari":b?"Firefox":a?"Opera":"Other"}catch(f){return"other"}}function g(a,b){l.default.get("https://ipinfo.io/json").then(function(c){a.ip=c.data.ip,a.city=c.data.city,a.region=c.data.region,a.country=c.data.country,a.loc=c.data.loc,b.success(a)}).catch(function(c){a.message="App is Offline",b.success(a)})}Object.defineProperty(b,"__esModule",{value:!0});var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},i=c(1),j=d(i),k=c(8),l=d(k),m=(c(43),function a(){e(this,a)});m.track=function(a,b,c,d){var e;if("object"===(void 0===c?"undefined":h(c))){if(null!=d)throw"'type' cannot be an object.";d=c,c="Custom"}if(c||(c="Custom"),d||(e=new j.default.Promise),m._getDeviceInformation({success:function(f){b.device=f;var g=new j.default.CloudObject("_Event");g.ACL=new j.default.ACL,g.ACL.setPublicReadAccess(!1),g.ACL.setPublicWriteAccess(!1),g.set("user",j.default.CloudUser.current),g.set("name",a),g.set("data",b),g.set("type",c),g.save({success:function(a){d?d.success(a):e.resolve(a)},error:function(a){d?d.error(a):e.reject(a)}})}}),!d)return e.promise},m._getDeviceInformation=function(a){var b=new Object;j.default._isNode?b.browser="node":b.browser=f(),g(b,{success:function(b){a.success(b)}})},m._os=function(){},j.default.CloudEvent=m,b.default=m},function(a,b){b.endianness=function(){return"LE"},b.hostname=function(){return"undefined"!=typeof location?location.hostname:""},b.loadavg=function(){return[]},b.uptime=function(){return 0},b.freemem=function(){return Number.MAX_VALUE},b.totalmem=function(){return Number.MAX_VALUE},b.cpus=function(){return[]},b.type=function(){return"Browser"},b.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},b.networkInterfaces=b.getNetworkInterfaces=function(){return{}},b.arch=function(){return"javascript"},b.platform=function(){return"browser"},b.tmpdir=b.tmpDir=function(){return"/tmp"},b.EOL="\n"},function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f=c(1),g=d(f),h=function a(){e(this,a),this.document||(this.document={}),this.document._tableName="User",this.document.expires=null,this.document._type="user",this.document.expires=null,this.document.ACL=new g.default.ACL,this.document._isModified=!0,this.document._modifiedColumns=["createdAt","updatedAt","ACL","expires"]};g.default.CloudUser=g.default.CloudUser||h,g.default.CloudUser.getCurrentUser=function(a){var b;a||(b=new g.default.Promise);var c=JSON.stringify({key:g.default.appKey}),d=g.default.apiUrl+"/user/"+g.default.appId+"/currentUser";if(g.default._request("POST",d,c).then(function(c){var d=c;if(c)try{d=new g.default.CloudUser,g.default.fromJSON(JSON.parse(c),d),g.default.CloudUser.current=d,g.default.CloudUser._setCurrentUser(d)}catch(e){}a?a.success(d):b.resolve(d)},function(c){a?a.error(c):b.reject(c)}),!a)return b.promise},g.default.CloudUser._getCurrentUser=function(){var a=g.default._getCookie("CBCurrentUser");return a&&a.length>0?g.default.fromJSON(JSON.parse(a)):null},g.default.CloudUser._setCurrentUser=function(a){a&&g.default._createCookie("CBCurrentUser",JSON.stringify(g.default.toJSON(a)),2592e6)},g.default.CloudUser._removeCurrentUser=function(){g.default._deleteCookie("CBCurrentUser")},g.default.CloudUser.resetPassword=function(a,b){if(!a)throw"Email is required.";var c;b||(c=new g.default.Promise);var d=JSON.stringify({email:a,key:g.default.appKey}),e=g.default.apiUrl+"/user/"+g.default.appId+"/resetPassword";if(g.default._request("POST",e,d).then(function(a){b?b.success():c.resolve()},function(a){b?b.error(a):c.reject(a)}),!b)return c.promise},g.default.CloudUser.prototype=Object.create(g.default.CloudObject.prototype),Object.defineProperty(g.default.CloudUser.prototype,"username",{get:function(){return this.document.username},set:function(a){this.document.username=a,g.default._modified(this,"username")}}),Object.defineProperty(g.default.CloudUser.prototype,"password",{get:function(){return this.document.password},set:function(a){this.document.password=a,g.default._modified(this,"password")}}),Object.defineProperty(g.default.CloudUser.prototype,"email",{get:function(){return this.document.email},set:function(a){this.document.email=a,g.default._modified(this,"email")}}),g.default.CloudUser.current=g.default.CloudUser._getCurrentUser(),g.default.CloudUser.prototype.signUp=function(a){if(g.default._isNode&&!g.default._isNative)throw"Error : You cannot signup the user on the server. Use CloudUser.save() instead.";if(!this.document.username)throw"Username is not set.";if(!this.document.password)throw"Password is not set.";if(!this.document.email)throw"Email is not set.";var b,c=this;a||(b=new g.default.Promise);var d=JSON.stringify({document:g.default.toJSON(c),key:g.default.appKey}),e=g.default.apiUrl+"/user/"+g.default.appId+"/signup";if(g.default._request("POST",e,d).then(function(d){var e=null;d&&""!=d&&(g.default.fromJSON(JSON.parse(d),c),g.default.CloudUser.current=c,g.default.CloudUser._setCurrentUser(c),e=c,function(a){setTimeout(function(){g.default.CloudEvent.track("Signup",{username:a.username,email:a.email})},1e3)}(c)),a?a.success(e):b.resolve(e)},function(c){a?a.error(c):b.reject(c)}),!a)return b.promise},g.default.CloudUser.prototype.changePassword=function(a,b,c){var d,e=this;c||(d=new g.default.Promise);var f=JSON.stringify({oldPassword:a,newPassword:b,key:g.default.appKey}),h=g.default.apiUrl+"/user/"+g.default.appId+"/changePassword";if(g.default._request("PUT",h,f).then(function(a){c?c.success(g.default.fromJSON(JSON.parse(a),e)):d.resolve(g.default.fromJSON(JSON.parse(a),e))},function(a){c?c.error(a):d.reject(a)}),!c)return d.promise},g.default.CloudUser.prototype.logIn=function(a){if(g.default._isNode&&!g.default._isNative)throw"Error : You cannot login the user on the server.";if(!this.document.username)throw"Username is not set.";if(!this.document.password)throw"Password is not set.";var b,c=this;a||(b=new g.default.Promise);var d=JSON.stringify({document:g.default.toJSON(c),key:g.default.appKey}),e=g.default.apiUrl+"/user/"+g.default.appId+"/login";if(g.default._request("POST",e,d).then(function(d){c=g.default.fromJSON(JSON.parse(d),c),g.default.CloudUser.current=c,a?a.success(c):b.resolve(c),g.default.CloudUser._setCurrentUser(c),g.default.CloudEvent.track("Login",{username:c.username,email:c.email})},function(c){a?a.error(c):b.reject(c)}),!a)return b.promise},g.default.CloudUser.authenticateWithProvider=function(a,b){if(g.default._isNode&&!g.default._isNative)throw"Error : You cannot login the user on the server.";var c;if(b||(c=new g.default.Promise),!a)throw"data object is null.";if(a&&!a.provider)throw"provider is not set.";if(a&&!a.accessToken)throw"accessToken is not set.";if("twiter"===a.provider.toLowerCase()&&!a.accessSecret)throw"accessSecret is required for provider twitter.";var d=JSON.stringify({provider:a.provider,accessToken:a.accessToken,accessSecret:a.accessSecret,key:g.default.appKey}),e=g.default.apiUrl+"/user/"+g.default.appId+"/loginwithprovider";if(g.default._request("POST",e,d).then(function(a){var d=a;if(a)try{d=new g.default.CloudUser,g.default.fromJSON(JSON.parse(a),d),g.default.CloudUser.current=d,g.default.CloudUser._setCurrentUser(d)}catch(e){}b?b.success(d):c.resolve(d)},function(a){b?b.error(a):c.reject(a)}),!b)return c.promise},g.default.CloudUser.prototype.logOut=function(a){if(g.default._isNode&&!g.default._isNative)throw"Error : You cannot logOut the user on the server.";var b,c=this;a||(b=new g.default.Promise);var d=JSON.stringify({document:g.default.toJSON(c),key:g.default.appKey}),e=g.default.apiUrl+"/user/"+g.default.appId+"/logout";if(g.default._request("POST",e,d).then(function(d){g.default.fromJSON(JSON.parse(d),c),g.default.CloudUser.current=null,
a?a.success(c):b.resolve(c),g.default.CloudUser._removeCurrentUser()},function(c){a?a.error(c):b.reject(c)}),!a)return b.promise},g.default.CloudUser.prototype.addToRole=function(a,b){if(!a)throw"Role is null";var c,d=this;b||(c=new g.default.Promise);var e=JSON.stringify({user:g.default.toJSON(d),role:g.default.toJSON(a),key:g.default.appKey}),f=g.default.apiUrl+"/user/"+g.default.appId+"/addToRole";if(g.default._request("PUT",f,e).then(function(a){g.default.fromJSON(JSON.parse(a),d),b?b.success(d):c.resolve(d)},function(a){b?b.error(a):c.reject(a)}),!b)return c.promise},g.default.CloudUser.prototype.isInRole=function(a){if(!a)throw"role is null";var b=this.get("roles"),c=[];if(b&&b.length>0)for(var d=0;d<b.length;++d)c.push(b[d].document._id);return c.indexOf(a.document._id)>=0},g.default.CloudUser.prototype.removeFromRole=function(a,b){if(!a)throw"Role is null";var c,d=this;b||(c=new g.default.Promise);var e=JSON.stringify({user:g.default.toJSON(d),role:g.default.toJSON(a),key:g.default.appKey}),f=g.default.apiUrl+"/user/"+g.default.appId+"/removeFromRole";if(g.default._request("PUT",f,e).then(function(a){g.default.fromJSON(JSON.parse(a),d),b?b.success(d):c.resolve(d)},function(a){b?b.error(a):c.reject(a)}),!b)return c.promise},b.default=g.default.CloudUser},function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(1),h=d(g),i=function(){function a(b){if(e(this,a),void 0===b||null===b||""===b)throw"Cannot create a cache with empty name";this.document={},this.document._tableName="cache",this.document.name=b,this.document.size="",this.document.items=[]}return f(a,[{key:"set",value:function(a,b,c){var d;if(h.default._validate(),c||(d=new h.default.Promise),void 0===b)throw"Value cannot be undefined.";var e=JSON.stringify({key:h.default.appKey,item:b}),f=h.default.apiUrl+"/cache/"+h.default.appId+"/"+this.document.name+"/"+a;if(h.default._request("PUT",f,e,!0).then(function(a){h.default._isJsonString(a)&&(a=JSON.parse(a));var b=h.default.fromJSON(a);c?c.success(b):d.resolve(b)},function(a){c?c.error(a):d.reject(a)}),!c)return d.promise}},{key:"deleteItem",value:function(a,b){var c;h.default._validate(),b||(c=new h.default.Promise);var d=JSON.stringify({key:h.default.appKey,method:"DELETE"}),e=h.default.apiUrl+"/cache/"+h.default.appId+"/"+this.document.name+"/item/"+a;if(h.default._request("PUT",e,d,!0).then(function(a){h.default._isJsonString(a)&&(a=JSON.parse(a));var d=h.default.fromJSON(a);b?b.success(d):c.resolve(d)},function(a){b?b.error(a):c.reject(a)}),!b)return c.promise}},{key:"create",value:function(a){var b;h.default._validate(),a||(b=new h.default.Promise);var c=JSON.stringify({key:h.default.appKey}),d=this,e=h.default.apiUrl+"/cache/"+h.default.appId+"/"+this.document.name+"/create";if(h.default._request("POST",e,c,!0).then(function(c){h.default._isJsonString(c)&&(c=JSON.parse(c));var e=h.default.fromJSON(c,d);a?a.success(e):b.resolve(e)},function(c){a?a.error(c):b.reject(c)}),!a)return b.promise}},{key:"get",value:function(a,b){var c;h.default._validate(),b||(c=new h.default.Promise);var d=JSON.stringify({key:h.default.appKey}),e=h.default.apiUrl+"/cache/"+h.default.appId+"/"+this.document.name+"/"+a+"/item";if(h.default._request("POST",e,d,!0).then(function(a){h.default._isJsonString(a)&&(a=JSON.parse(a));var d=h.default.fromJSON(a);b?b.success(d):c.resolve(d)},function(a){b?b.error(a):c.reject(a)}),!b)return c.promise}},{key:"getInfo",value:function(a){var b;h.default._validate(),a||(b=new h.default.Promise);var c=JSON.stringify({key:h.default.appKey}),d=this,e=h.default.apiUrl+"/cache/"+h.default.appId+"/"+this.document.name;if(h.default._request("POST",e,c,!0).then(function(c){h.default._isJsonString(c)&&(c=JSON.parse(c));var e=h.default.fromJSON(c,d);a?a.success(e):b.resolve(e)},function(c){a?a.error(c):b.reject(c)}),!a)return b.promise}},{key:"getItemsCount",value:function(a){var b;h.default._validate(),a||(b=new h.default.Promise);var c=JSON.stringify({key:h.default.appKey}),d=h.default.apiUrl+"/cache/"+h.default.appId+"/"+this.document.name+"/items/count";if(h.default._request("POST",d,c,!0).then(function(c){h.default._isJsonString(c)&&(c=JSON.parse(c));var d=h.default.fromJSON(c);a?a.success(d):b.resolve(d)},function(c){a?a.error(c):b.reject(c)}),!a)return b.promise}},{key:"getAll",value:function(a){var b;h.default._validate(),a||(b=new h.default.Promise);var c=this,d=JSON.stringify({key:h.default.appKey}),e=h.default.apiUrl+"/cache/"+h.default.appId+"/"+this.document.name+"/items";if(h.default._request("POST",e,d,!0).then(function(d){h.default._isJsonString(d)&&(d=JSON.parse(d));var e=h.default.fromJSON(d);c.document.items=e,a?a.success(e):b.resolve(e)},function(c){a?a.error(c):b.reject(c)}),!a)return b.promise}},{key:"clear",value:function(a){var b;h.default._validate(),a||(b=new h.default.Promise);var c=JSON.stringify({key:h.default.appKey,method:"DELETE"}),d=this,e=h.default.apiUrl+"/cache/"+h.default.appId+"/"+this.document.name+"/clear/items";if(h.default._request("PUT",e,c,!0).then(function(c){h.default._isJsonString(c)&&(c=JSON.parse(c));var e=h.default.fromJSON(c,d);a?a.success(e):b.resolve(e)},function(c){a?a.error(c):b.reject(c)}),!a)return b.promise}},{key:"delete",value:function(a){var b;h.default._validate(),a||(b=new h.default.Promise);var c=JSON.stringify({key:h.default.appKey,method:"DELETE"}),d=this,e=h.default.apiUrl+"/cache/"+h.default.appId+"/"+this.document.name;if(h.default._request("PUT",e,c,!0).then(function(c){h.default._isJsonString(c)&&(c=JSON.parse(c));var e=h.default.fromJSON(c,d);a?a.success(e):b.resolve(e)},function(c){a?a.error(c):b.reject(c)}),!a)return b.promise}}]),a}();i.getAll=function(a){var b;h.default._validate(),a||(b=new h.default.Promise);var c=JSON.stringify({key:h.default.appKey}),d=h.default.apiUrl+"/cache/"+h.default.appId;if(h.default._request("POST",d,c,!0).then(function(c){h.default._isJsonString(c)&&(c=JSON.parse(c));var d=h.default.fromJSON(c);a?a.success(d):b.resolve(d)},function(c){a?a.error(c):b.reject(c)}),!a)return b.promise},i.deleteAll=function(a){var b;h.default._validate(),a||(b=new h.default.Promise);var c=JSON.stringify({key:h.default.appKey,method:"DELETE"}),d=h.default.apiUrl+"/cache/"+h.default.appId;if(h.default._request("PUT",d,c,!0).then(function(c){h.default._isJsonString(c)&&(c=JSON.parse(c));var d=h.default.fromJSON(c);a?a.success(d):b.resolve(d)},function(c){a?a.error(c):b.reject(c)}),!a)return b.promise},Object.defineProperty(i.prototype,"name",{get:function(){return this.document.name}}),Object.defineProperty(i.prototype,"size",{get:function(){return this.document.size}}),Object.defineProperty(i.prototype,"items",{get:function(){return this.document.items}}),h.default.CloudCache=i,b.default=h.default.CloudCache},function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(1),f=d(e);f.default.CloudNotification=f.default.CloudNotification||{},f.default.CloudNotification.on=function(a,b,c){if(f.default._isRealtimeDisabled)throw"Realtime is disbaled for this app.";f.default._validate();var d;if(c||(d=new f.default.Promise),f.default.Socket.emit("join-custom-channel",f.default.appId+a),f.default.Socket.on(f.default.appId+a,function(a){b(a)}),c&&c.success?c.success():d.resolve(),!c)return d.promise},f.default.CloudNotification.off=function(a,b){if(f.default._isRealtimeDisabled)throw"Realtime is disbaled for this app.";f.default._validate();var c;if(b||(c=new f.default.Promise),f.default.Socket.emit("leave-custom-channel",f.default.appId+a),f.default.Socket.removeAllListeners(f.default.appId+a),b&&b.success?b.success():c.resolve(),!b)return c.promise},f.default.CloudNotification.publish=function(a,b,c){if(f.default._isRealtimeDisabled)throw"Realtime is disbaled for this app.";f.default._validate();var d;if(c||(d=new f.default.Promise),f.default.Socket.emit("publish-custom-channel",{channel:f.default.appId+a,data:b}),c&&c.success?c.success():d.resolve(),!c)return d.promise},b.default=f.default.CloudNotification},function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(1),f=d(e);f.default.CloudPush={},f.default.CloudPush.send=function(a,b,c){var d="Device";if(!f.default.appId)throw"CB.appId is null.";var e;if(c||(e=new f.default.Promise),!a)throw"data object is null.";if(a&&!a.message)throw"message is not set.";if(b&&"[object Object]"==Object.prototype.toString.call(b)&&"function"!=typeof b.success)var g=b;if(b&&"[object Array]"==Object.prototype.toString.call(b)&&"function"!=typeof b.success){var g=new f.default.CloudQuery(d);g.containedIn("channels",b)}if(b&&"[object String]"==Object.prototype.toString.call(b)&&"function"!=typeof b.success){var g=new f.default.CloudQuery(d);g.containedIn("channels",[b])}if(b&&"[object Object]"==Object.prototype.toString.call(b)&&"function"==typeof b.success){c=b;var g=new f.default.CloudQuery(d)}if(!b)var g=new f.default.CloudQuery(d);var h=JSON.stringify({query:g.query,sort:g.sort,limit:g.limit,skip:g.skip,key:f.default.appKey,data:a}),i=f.default.apiUrl+"/push/"+f.default.appId+"/send";if(f.default._request("POST",i,h).then(function(a){var b=a;f.default._isJsonString(a)&&(b=JSON.parse(a)),c?c.success(b):e.resolve(b)},function(a){f.default._isJsonString(a)&&(a=JSON.parse(a)),c?c.error(a):e.reject(a)}),!c)return e.promise},f.default.CloudPush.enableWebNotifications=function(a){var b;if(a||(b=new f.default.Promise),"undefined"!=typeof document?f.default.CloudPush._requestBrowserNotifications().then(function(a){if("serviceWorker"in navigator)return navigator.serviceWorker.register("serviceWorker.js",{scope:"./"});var b=new f.default.Promise;return b.reject("Service workers aren't supported in this browser."),b}).then(function(a){if(a.showNotification)return f.default.CloudPush._subscribe();var b=new f.default.Promise;return b.reject("Notifications aren't supported on service workers."),b}).then(function(c){var d=c.getKey?c.getKey("p256dh"):"";d=d?btoa(String.fromCharCode.apply(null,new Uint8Array(d))):"";var e=c.getKey?c.getKey("auth"):"";e=e?btoa(String.fromCharCode.apply(null,new Uint8Array(e))):"",f.default.CloudPush._addDevice(f.default._getThisBrowserName(),c.endpoint,d,e,{success:function(c){a?a.success():b.resolve()},error:function(c){a?a.error(c):b.reject(c)}})},function(c){a?a.error(c):b.reject(c)}):a?a.error("Browser document not found"):b.reject("Browser document not found"),!a)return b.promise},f.default.CloudPush.disableWebNotifications=function(a){var b;if(a||(b=new f.default.Promise),"undefined"!=typeof document?f.default.CloudPush._getSubscription().then(function(c){if(c||(a?a.success():b.resolve()),c){var d=[];d.push(c.unsubscribe()),d.push(f.default.CloudPush._deleteDevice(f.default._getThisBrowserName(),c.endpoint)),f.default.Promise.all(d).then(function(c){a?a.success():b.resolve()},function(c){a?a.error(c):b.reject(c)})}},function(c){a?a.error(c):b.reject(c)}):a?a.error("Browser document not found"):b.reject("Browser document not found"),!a)return b.promise},f.default.CloudPush._subscribe=function(){var a=new f.default.Promise;return"PushManager"in window?(navigator.serviceWorker.ready.then(function(b){b.pushManager.getSubscription().then(function(c){c?a.resolve(c):b.pushManager.subscribe({userVisibleOnly:!0}).then(function(b){a.resolve(b)}).catch(function(b){a.reject(b)})}).catch(function(b){a.reject(b)})},function(b){a.reject(b)}),a.promise):a.reject("Push messaging isn't supported.")},f.default.CloudPush._getSubscription=function(){var a=new f.default.Promise;return navigator.serviceWorker.ready.then(function(b){b.pushManager.getSubscription().then(function(b){b?a.resolve(b):a.resolve(null)}).catch(function(b){a.reject(b)})},function(b){a.reject(b)}),a.promise},f.default.CloudPush._requestBrowserNotifications=function(){var a=new f.default.Promise;return"Notification"in window?"granted"===Notification.permission?a.resolve("Permission granted"):"denied"!==Notification.permission&&Notification.requestPermission(function(b){"granted"===b&&a.resolve("Permission granted"),"denied"===b&&a.reject("Permission denied")}):a.reject("This browser does not support system notifications"),a.promise},f.default.CloudPush._addDevice=function(a,b,c,d,e){var g;f.default._validate();var h=new f.default.CloudObject("Device");h.set("deviceOS",a),h.set("deviceToken",b),h.set("metadata",{browserKey:c,authKey:d}),e||(g=new f.default.Promise);var i=JSON.stringify({document:f.default.toJSON(h),key:f.default.appKey}),j=f.default.apiUrl+"/push/"+f.default.appId;if(f.default._request("PUT",j,i).then(function(a){h=f.default.fromJSON(JSON.parse(a),h),e?e.success(h):g.resolve(h)},function(a){e?e.error(a):g.reject(a)}),!e)return g.promise},f.default.CloudPush._deleteDevice=function(a,b,c){if(!f.default.appId)throw"CB.appId is null.";var d;c||(d=new f.default.Promise);var e={deviceOS:a,deviceToken:b},g=JSON.stringify({key:f.default.appKey,document:e,method:"DELETE"}),h=f.default.apiUrl+"/push/"+f.default.appId;if(f.default._request("PUT",h,g).then(function(a){c?c.success(a):d.resolve(a)},function(a){c?c.error(a):d.reject(a)}),!c)return d.promise},b.default=f.default.CloudPush},function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=c(1),i=d(h),j=c(38),k=d(j),l=function(){function a(b){if(e(this,a),!b)throw"Table Name cannot be null";this.tableName=b,this.query={},this.query.$include=[],this.query.$includeList=[],this.select={},this.sort={},this.skip=0,this.limit=10}return g(a,[{key:"search",value:function(a,b,c,d){if("string"!=typeof a)throw"First parameter is required and it should be a string.";if(null!==b&&void 0!==b&&"string"!=typeof b)throw"Second parameter should be a string.";if(null!==c&&void 0!==c&&"boolean"!=typeof c)throw"Third parameter should be a boolean.";if(null!==d&&void 0!==d&&"boolean"!=typeof d)throw"Fourth parameter should be a boolean.";return this.query.$text={},"string"==typeof a&&(this.query.$text.$search=a),null!==b&&void 0!==b&&"string"==typeof b&&(this.query.$text.$language=b),null!==c&&void 0!==c&&"boolean"==typeof c&&(this.query.$text.$caseSensitive=c),null!==d&&void 0!==d&&"boolean"==typeof d&&(this.query.$text.$diacriticSensitive=d),this}},{key:"equalTo",value:function(a,b){return"id"===a&&(a="_"+a),null!==b&&b.constructor===i.default.CloudObject&&(a+="._id",b=b.get("id")),this.query[a]=b,this}},{key:"delete",value:function(a){var b;a||(b=new i.default.Promise),this.find({success:function(b){i.default.CloudObject.deleteAll(b,a)},error:function(c){a?a.error(c):b.reject(c)}})}},{key:"includeList",value:function(a){return"id"===a&&(a="_"+a),this.query.$includeList.push(a),this}},{key:"include",value:function(a){return"id"===a&&(a="_"+a),this.query.$include.push(a),this}},{key:"all",value:function(a){return"id"===a&&(a="_"+a),this.query.$all=a,this}},{key:"any",value:function(a){return"id"===a&&(a="_"+a),this.query.$any=a,this}},{key:"first",value:function(a){return"id"===a&&(a="_"+a),this.query.$first=a,this}},{key:"notEqualTo",value:function(a,b){return"id"===a&&(a="_"+a),null!==b&&b.constructor===i.default.CloudObject&&(a+="._id",b=b.get("id")),this.query[a]={$ne:b},this}},{key:"greaterThan",value:function(a,b){return"id"===a&&(a="_"+a),this.query[a]||(this.query[a]={}),this.query[a].$gt=b,this}},{key:"greaterThanEqualTo",value:function(a,b){return"id"===a&&(a="_"+a),this.query[a]||(this.query[a]={}),this.query[a].$gte=b,this}},{key:"lessThan",value:function(a,b){return"id"===a&&(a="_"+a),this.query[a]||(this.query[a]={}),this.query[a].$lt=b,this}},{key:"lessThanEqualTo",value:function(a,b){return"id"===a&&(a="_"+a),this.query[a]||(this.query[a]={}),this.query[a].$lte=b,this}},{key:"orderByAsc",value:function(a){return"id"===a&&(a="_"+a),this.sort[a]=1,this}},{key:"orderByDesc",value:function(a){return"id"===a&&(a="_"+a),this.sort[a]=-1,this}},{key:"setLimit",value:function(a){return this.limit=a,this}},{key:"setSkip",value:function(a){return this.skip=a,this}},{key:"paginate",value:function(a,b,c){if(!i.default.appId)throw"CB.appId is null.";if(!this.tableName)throw"TableName is null.";var d,c;if("object"===(void 0===c?"undefined":f(c))&&"function"==typeof c.success&&(c=c),c||(d=new i.default.Promise),a&&"object"===(void 0===a?"undefined":f(a))&&"function"==typeof a.success&&(c=a,a=null),b&&"object"===(void 0===b?"undefined":f(b))&&"function"==typeof b.success&&(c=b,b=null),a&&"number"==typeof a&&a>0&&"number"==typeof b&&b>0){var e=a*b-b;this.setSkip(e),this.setLimit(b)}b&&"number"==typeof b&&b>0&&this.setLimit(b);var g=this,h=[];h.push(this.find());var j=Object.create(this);if(j.setSkip(0),j.setLimit(99999999),h.push(j.count()),i.default.Promise.all(h).then(function(a){var b=null,e=null,f=0;a&&a.length>0&&(b=a[0],e=a[1],e?f=Math.ceil(e/g.limit):(e=0,f=0),f&&f<0&&(f=0)),c?c.success(b,e,f):d.resolve(b,e,f)},function(a){c?c.error(a):d.reject(a)}),!c)return d.promise}},{key:"selectColumn",value:function(a){if(0===Object.keys(this.select).length&&(this.select={_id:1,createdAt:1,updatedAt:1,ACL:1,_type:1,_tableName:1}),"[object Object]"===Object.prototype.toString.call(a))this.select=a;else if("[object Array]"===Object.prototype.toString.call(a))for(var b=0;b<a.length;b++)this.select[a[b]]=1;else this.select[a]=1;return this}},{key:"doNotSelectColumn",value:function(a){if("[object Object]"===Object.prototype.toString.call(a))this.select=a;else if("[object Array]"===Object.prototype.toString.call(a))for(var b=0;b<a.length;b++)this.select[a[b]]=0;else this.select[a]=0;return this}},{key:"containedIn",value:function(a,b){var c=!1,d=[];if("id"===a&&(a="_"+a),"[object Object]"===Object.prototype.toString.call(b)&&!b instanceof i.default.CloudObject)throw"Array / value / CloudObject expected as an argument";if("[object Array]"===Object.prototype.toString.call(b)){for(var e=0;e<b.length;e++)if(b[e]instanceof i.default.CloudObject){if(c=!0,!b[e].id)throw"CloudObject passed should be saved and should have an id before being passed to containedIn";d.push(b[e].id)}0===d.length&&(d=b),c&&(a+="._id"),this.query[a]||(this.query[a]={}),this.query[a].$in=d;var f=this;void 0!==this.query[a].$nin&&d.forEach(function(b){(index=f.query[a].$nin.indexOf(b))>=0&&f.query[a].$nin.splice(index,1)})}else{if(b instanceof i.default.CloudObject){if(!b.id)throw"CloudObject passed should be saved and should have an id before being passed to containedIn";a+="._id",d=b.id}else d=b;this.query[a]||(this.query[a]={}),this.query[a].$in||(this.query[a].$in=[]),-1===this.query[a].$in.indexOf(d)&&this.query[a].$in.push(d),void 0!==this.query[a].$nin&&(index=this.query[a].$nin.indexOf(d))>=0&&this.query[a].$nin.splice(index,1)}return this}},{key:"notContainedIn",value:function(a,b){var c=!1,d=[];if("id"===a&&(a="_"+a),"[object Object]"===Object.prototype.toString.call(b)&&!b instanceof i.default.CloudObject)throw"Array or string expected as an argument";if("[object Array]"===Object.prototype.toString.call(b)){for(var e=0;e<b.length;e++)if(b[e]instanceof i.default.CloudObject){if(c=!0,!b[e].id)throw"CloudObject passed should be saved and should have an id before being passed to notContainedIn";d.push(b[e].id)}0===d.length&&(d=b),c&&(a+="._id"),this.query[a]||(this.query[a]={}),this.query[a].$nin=d,void 0!==this.query[a].$in&&(thisObj=this,d.forEach(function(b){(index=thisObj.query[a].$in.indexOf(b))>=0&&thisObj.query[a].$in.splice(index,1)}))}else{if(b instanceof i.default.CloudObject){if(!b.id)throw"CloudObject passed should be saved and should have an id before being passed to notContainedIn";a+="._id",d=b.id}else d=b;this.query[a]||(this.query[a]={}),this.query[a].$nin||(this.query[a].$nin=[]),-1===this.query[a].$nin.indexOf(d)&&this.query[a].$nin.push(d),void 0!==this.query[a].$in&&(index=this.query[a].$in.indexOf(d))>=0&&this.query[a].$in.splice(index,1)}return this}},{key:"exists",value:function(a){return"id"===a&&(a="_"+a),this.query[a]||(this.query[a]={}),this.query[a].$exists=!0,this}},{key:"doesNotExists",value:function(a){return"id"===a&&(a="_"+a),this.query[a]||(this.query[a]={}),this.query[a].$exists=!1,this}},{key:"containsAll",value:function(a,b){var c=!1,d=[];if("id"===a&&(a="_"+a),"[object Object]"===Object.prototype.toString.call(b)&&!b instanceof i.default.CloudObject)throw"Array or string expected as an argument";if("[object Array]"===Object.prototype.toString.call(b)){for(var e=0;e<b.length;e++)if(b[e]instanceof i.default.CloudObject){if(c=!0,!b[e].id)throw"CloudObject passed should be saved and should have an id before being passed to containsAll";d.push(b[e].id)}0===d.length&&(d=b),c&&(a+="._id"),this.query[a]||(this.query[a]={}),this.query[a].$all=d}else{if(b instanceof i.default.CloudObject){if(!b.id)throw"CloudObject passed should be saved and should have an id before being passed to containsAll";a+="._id",d=b.id}else d=b;this.query[a]||(this.query[a]={}),this.query[a].$all||(this.query[a].$all=[]),-1===this.query[a].$all.indexOf(d)&&this.query[a].$all.push(d)}return this}},{key:"startsWith",value:function(a,b){"id"===a&&(a="_"+a);var c="^"+b;return this.query[a]||(this.query[a]={}),this.query[a].$regex=c,this.query[a].$options="im",this}},{key:"regex",value:function(a,b,c){return"id"===a&&(a="_"+a),this.query[a]||(this.query[a]={}),this.query[a].$regex=b,c&&(this.query[a].$options="i"),this}},{key:"substring",value:function(a,b,c){"string"==typeof a&&(a=[a]);for(var d=0;d<a.length;d++)if("[object Array]"===Object.prototype.toString.call(b)&&b.length>0){this.query.$or||(this.query.$or=[]);for(var e=0;e<b.length;e++){var f={};f[a[d]]={},f[a[d]].$regex=".*"+b[e]+".*",c&&(f[a[d]].$options="i"),this.query.$or.push(f)}}else if(1===a.length)this.regex(a[d],".*"+b+".*",c);else{this.query.$or||(this.query.$or=[]);var f={};f[a[d]]={},f[a[d]].$regex=".*"+b+".*",c&&(f[a[d]].$options="i"),this.query.$or.push(f)}return this}},{key:"near",value:function(a,b,c,d){this.query[a]||(this.query[a]={},this.query[a].$near={$geometry:{coordinates:b.document.coordinates,type:"Point"},$maxDistance:c,$minDistance:d})}},{key:"geoWithin",value:function(a,b,c){if(c)this.query[a]||(this.query[a]={},this.query[a].$geoWithin={$centerSphere:[b.document.coordinates,c/3963.2]});else{var d=[];if("[object Array]"!==Object.prototype.toString.call(b))throw"Invalid Parameter, coordinates should be an array of CloudGeoPoint Object";for(var e=0;e<b.length;e++)b[e].document.hasOwnProperty("coordinates")&&(d[e]=b[e].document.coordinates);d[d.length]=d[0];this.query[a]||(this.query[a]={},this.query[a].$geoWithin={},this.query[a].$geoWithin.$geometry={type:"Polygon",coordinates:[d]})}}},{key:"count",value:function(a){if(!i.default.appId)throw"CB.appId is null.";if(!this.tableName)throw"TableName is null.";var b;a||(b=new i.default.Promise);var c=this,d=JSON.stringify({query:c.query,limit:c.limit,skip:c.skip,key:i.default.appKey}),e=i.default.apiUrl+"/data/"+i.default.appId+"/"+c.tableName+"/count";if(i.default._request("POST",e,d).then(function(c){c=parseInt(c),a?a.success(c):b.resolve(c)},function(c){a?a.error(c):b.reject(c)}),!a)return b.promise}},{key:"distinct",value:function(a,b){if("id"===a&&(a="_id"),!i.default.appId)throw"CB.appId is null.";if(!this.tableName)throw"TableName is null.";if("[object Array]"!==Object.prototype.toString.call(a)&&a.length<=0)throw"keys should be array";var c;b||(c=new i.default.Promise);var d=this,e=JSON.stringify({onKey:a,query:d.query,select:d.select,sort:d.sort,limit:d.limit,skip:d.skip,key:i.default.appKey}),f=i.default.apiUrl+"/data/"+i.default.appId+"/"+d.tableName+"/distinct";if(i.default._request("POST",f,e).then(function(a){var d=i.default.fromJSON(JSON.parse(a));b?b.success(d):c.resolve(d)},function(a){b?b.error(a):c.reject(a)}),!b)return c.promise}},{key:"find",value:function(a){if(!i.default.appId)throw"CB.appId is null.";if(!this.tableName)throw"TableName is null.";var b;a||(b=new i.default.Promise);var c=this,d=JSON.stringify({query:c.query,select:c.select,sort:c.sort,limit:c.limit,skip:c.skip,key:i.default.appKey}),e=i.default.apiUrl+"/data/"+i.default.appId+"/"+c.tableName+"/find";if(i.default._request("POST",e,d).then(function(c){var d=i.default.fromJSON(JSON.parse(c));a?a.success(d):b.resolve(d)},function(c){a?a.error(c):b.reject(c)}),!a)return b.promise}},{key:"findFromLocalStore",value:function(b){var c=this;if(!c.tableName)throw"TableName is null.";i.default._validate();var d;if(b||(d=new i.default.Promise),k.default.getItem(i.default.appId+"-"+c.tableName).then(function(e){var f=[],g=null;e&&e.forEach(function(b){g=i.default.fromJSON(b),a._validateQuery(g,c.query)&&f.push(g)}),b?b.success(f):d.resolve(f)}).catch(function(a){b?b.error(a):d.reject(a)}),!b)return d.promise}},{key:"get",value:function(a,b){return new i.default.CloudQuery(this.tableName).findById(a,b)}},{key:"findById",value:function(a,b){var c=this;if(!i.default.appId)throw"CB.appId is null.";if(!this.tableName)throw"TableName is null.";var d;if(b||(d=new i.default.Promise),c.skip&&0!==!c.skip)throw"You cannot use skip and find object by Id in the same query";if(c.limit&&0===c.limit)throw"You cannot use limit and find object by Id in the same query";if(c.sort&&Object.getOwnPropertyNames(c.sort).length>0)throw"You cannot use sort and find object by Id in the same query";c.equalTo("id",a);var e=JSON.stringify({query:c.query,select:c.select,key:i.default.appKey,limit:1,skip:0,sort:{}}),f=i.default.apiUrl+"/data/"+i.default.appId+"/"+c.tableName+"/find";if(i.default._request("POST",f,e).then(function(a){a=JSON.parse(a),"[object Array]"===Object.prototype.toString.call(a)&&(a=a[0]),b?b.success(i.default.fromJSON(a)):d.resolve(i.default.fromJSON(a))},function(a){b?b.error(a):d.reject(a)}),!b)return d.promise}},{key:"findOne",value:function(a){if(!i.default.appId)throw"CB.appId is null.";if(!this.tableName)throw"TableName is null.";var b;a||(b=new i.default.Promise);var c=JSON.stringify({query:this.query,select:this.select,sort:this.sort,skip:this.skip,key:i.default.appKey}),d=i.default.apiUrl+"/data/"+i.default.appId+"/"+this.tableName+"/findOne";if(i.default._request("POST",d,c).then(function(c){var d=i.default.fromJSON(JSON.parse(c));a?a.success(d):b.resolve(d)},function(c){a?a.error(c):b.reject(c)}),!a)return b.promise}}]),a}();l.or=function(a,b){var c,d=[];if("[object Array]"===Object.prototype.toString.call(a)){c=a[0].tableName;for(var e=0;e<a.length;++e){if(a[e].tableName!=c)throw"Table names are not same";if(!a[e]instanceof i.default.CloudQuery)throw"Array items are not instanceof of CloudQuery";d.push(a[e].query)}}if(void 0!==b&&void 0!==a&&"[object Array]"!==Object.prototype.toString.call(a)){if("[object Array]"===Object.prototype.toString.call(b))throw"First and second parameter should be an instance of CloudQuery object";if(!a.tableName===b.tableName)throw"Table names are not same";if(!a instanceof i.default.CloudQuery)throw"Data passed is not an instance of CloudQuery";if(!b instanceof i.default.CloudQuery)throw"Data passed is not an instance of CloudQuery";c=a.tableName,d.push(a.query),d.push(b.query)}if(void 0===c)throw"Invalid operation";var f=new i.default.CloudQuery(c);return f.query.$or=d,f},l._validateQuery=function(a,b){for(var c in b)if(b[c]){var d=b[c];if("object"===(void 0===d?"undefined":f(d)))if("$or"===c){if(b[c].length>0){for(var e=!1,g=0;g<b[c].length;g++)if(i.default.CloudQuery._validateQuery(a,b[c][g])){e=!0;break}if(!e)return!1}}else for(var h in d){if("$ne"===h&&a.get(c)===b[c].$ne)return!1;if("$gt"===h&&a.get(c)<=b[c].$gt)return!1;if("$lt"===h&&a.get(c)>=b[c].$lt)return!1;if("$gte"===h&&a.get(c)<b[c].$gte)return!1;if("$lte"===h&&a.get(c)>b[c].$lte)return!1;if("$exists"===h)if(b[c][h]&&a.get(c));else if(!1!==b[c][h])return!1;if("$exists"===h&&!b[c][h]&&a.get(c))return!1;if("$regex"===h){var j=new RegExp(b[c][h]);if(b[c].$options){if("im"===b[c].$options){var d=trimStart("^",b[c][h]);if(0!==a.get(c).indexOf(d))return!1}}else if(!j.test(a.get(c)))return!1}if("$in"===h&&b[c][h]){var k=b[c][h],d=null;if(d=c.indexOf(".")>-1?a.get(c.substr(0,c.indexOf("."))):a.get(c),"[object Array]"===Object.prototype.toString.call(d)){for(var l=!1,g=0;g<d.length;g++)if(d[g]instanceof i.default.CloudObject){if(k.indexOf(d[g].id)>-1){l=!0;break}}else if(k.indexOf(d[g])>-1){l=!0;break}if(!l)return!1}else if(-1===k.indexOf(d))return!1}if("$nin"===h&&b[c][h]){var k=b[c][h],d=null;if(d=c.indexOf(".")>-1?a.get(c.substr(0,c.indexOf("."))):a.get(c),"[object Array]"===Object.prototype.toString.call(d)){for(var l=!1,g=0;g<d.length;g++)if(d[g]instanceof i.default.CloudObject){if(-1!==k.indexOf(d[g].id)){l=!0;break}}else if(-1!==k.indexOf(d[g])){l=!0;break}if(l)return!1}else if(-1!==k.indexOf(d))return!1}if("$all"===h&&b[c][h]){var k=b[c][h],d=null;if(d=c.indexOf(".")>-1?a.get(c.substr(0,c.indexOf("."))):a.get(c),"[object Array]"===Object.prototype.toString.call(d)){for(var g=0;g<d.length;g++)if(d[g]instanceof i.default.CloudObject){if(-1===k.indexOf(d[g].id))return!1}else if(-1===k.indexOf(d[g]))return!1}else if(-1===k.indexOf(d))return!1}}else if(-1!==c.indexOf(".")){var m=c.substring(0,c.indexOf("."));if(!a.get(m))return!1;if(a.get(m).id!==b[c])return!1}else if(a.get(c)!==b[c])return!1}return!0},i.default.CloudQuery=l,b.default=i.default.CloudQuery}])});